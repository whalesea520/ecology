ALTER TABLE DocSecCategoryTemplate ADD uploadext varchar2(4000) DEFAULT '*.*' 
/
ALTER TABLE DocSecCategory ADD uploadext varchar2(4000) DEFAULT '*.*'
/
UPDATE DocSecCategoryTemplate  SET uploadext='*.*'
/
UPDATE DocSecCategory  SET uploadext='*.*' 
/
CREATE OR REPLACE PROCEDURE Doc_Sec_Insert_for_safe
  (  subcategoryid   integer,
     categoryname_2   varchar2,
     docmouldid   integer,
     publishable   char,
     replyable   char,
     shareable   char ,
     cusertype   integer,
     cuserseclevel   smallint,
     cdepartmentid1   integer,
     cdepseclevel1   smallint,
     cdepartmentid2   integer,
     cdepseclevel2   smallint,
     croleid1       integer,
     crolelevel1     char ,
     croleid2     integer,
     crolelevel2   char ,
     croleid3     integer,
     crolelevel3   char ,
     hasaccessory     char ,
     accessorynum     smallint,
     hasasset       char ,
     assetlabel     varchar2 ,
     hasitems     char ,
     itemlabel   varchar2 ,
     hashrmres   char ,
     hrmreslabel   varchar2 ,
     hascrm     char ,
     crmlabel     varchar2 ,
     hasproject   char ,
     projectlabel   varchar2 ,
     hasfinance   char ,
     financelabel   varchar2 ,
     approveworkflowid  integer,
     markable  char ,
     markAnonymity char ,
     orderable char ,
     defaultLockedDoc integer,
     allownModiMShareL integer,
     allownModiMShareW integer,
     maxUploadFileSize integer,
     wordmouldid integer,
     isSetShare integer,
     noDownload integer,
     noRepeatedName integer,
     isControledByDir integer,
     pubOperation integer,
     childDocReadRemind integer,
     readOpterCanPrint integer,
     isLogControl char ,
     uploadext varchar2 ,
     subcompanyId integer,
     level_1 integer,
     parentid integer,
     secorder float,
     flag   out integer,
     msg  out varchar2,
     thecursor IN OUT cursor_define.weavercursor) as
 dirid integer;
 dirtype integer;
 begin
  

  insert into docseccategory(
    subcategoryid,
    categoryname,
    docmouldid,
    publishable,
    replyable,
    shareable,
    cusertype,
    cuserseclevel,
    cdepartmentid1,
    cdepseclevel1,
    cdepartmentid2,
    cdepseclevel2,
    croleid1,
    crolelevel1,
    croleid2,
    crolelevel2,
    croleid3,
    crolelevel3,
    hasaccessory,
    accessorynum,
    hasasset,
    assetlabel,
    hasitems,
    itemlabel,
    hashrmres,
    hrmreslabel,
    hascrm,
    crmlabel,
    hasproject,
    projectlabel,
    hasfinance,
    financelabel,
    approveworkflowid,
    markable,
    markAnonymity,
    orderable,
    defaultLockedDoc,
    allownModiMShareL,
    allownModiMShareW,
    maxUploadFileSize,
    wordmouldid,
    isSetShare,
    nodownload,
    norepeatedname,
    iscontroledbydir,
    puboperation,
    childdocreadremind,
    readoptercanprint,
    isLogControl,
    uploadext,
    subcompanyId,
    parentid,
    dirid,
    dirType
    )
  values(
     subcategoryid,
     categoryname_2,
     docmouldid,
     publishable,
     replyable,
     shareable,
     cusertype,
     cuserseclevel,
     cdepartmentid1,
     cdepseclevel1,
     cdepartmentid2,
     cdepseclevel2,
     croleid1,
     crolelevel1,
     croleid2,
     crolelevel2,
     croleid3,
     crolelevel3,
     hasaccessory,
     accessorynum,
     hasasset,
     assetlabel,
     hasitems,
     itemlabel,
     hashrmres,
     hrmreslabel,
     hascrm,
     crmlabel,
     hasproject,
     projectlabel,
     hasfinance,
     financelabel,
     approveworkflowid,
     markable,
     markAnonymity,
     orderable,
     defaultLockedDoc,
     allownModiMShareL,
     allownModiMShareW,
     maxUploadFileSize,
     wordmouldid,
     isSetShare,
     noDownload,
     noRepeatedName,
     isControledByDir,
     pubOperation,
     childDocReadRemind,
     readOpterCanPrint,
     isLogControl,
     uploadext,
     subcompanyId,
     parentid,
     dirid,
     dirtype
    ) ;
  open thecursor for
  select max(id) from docseccategory where categoryname =  categoryname_2;
  end;
/
CREATE or REPLACE PROCEDURE Doc_Sec_Update_for_safe 
( 
  id_1  integer,
  subcategoryid_2   integer,
  categoryname_3   varchar2,
    coder_43   varchar2,
  docmouldid_4   integer,
  publishable_5   char,
  replyable_6   char,
  shareable_7   char,
  cusertype_8   integer,
  cuserseclevel_9   smallint,
  cdepartmentid1_10   integer,
  cdepseclevel1_11   smallint,
  cdepartmentid2_12   integer,
  cdepseclevel2_13   smallint,
  croleid1_14       integer,
  crolelevel1_15     char,
  croleid2_16     integer,
  crolelevel2_17   char,
  croleid3_18     integer,
  crolelevel3_19   char,
  hasaccessory_20     char,
  accessorynum_21     smallint,
  hasasset_22       char,
  assetlabel_23     varchar2,
  hasitems_24     char,
  itemlabel_25   varchar2,
  hashrmres_26   char,
  hrmreslabel_27   varchar2,
  hascrm_28     char,
  crmlabel_29     varchar2,
  hasproject_30   char,
  projectlabel_31   varchar2,
  hasfinance_32   char,
  financelabel_33   varchar2,
  approveworkflowid_34  integer,
  markable_35   char,
  markAnonymity_36   char,
  orderable_37     char,
  defaultLockedDoc_38   integer,
  allownModiMShareL_39 integer,
  allownModiMShareW_40 integer,
  maxUploadFileSize_41 integer,
    wordmouldid_42  integer,
    isSetShare_44   integer,
    noDownload_45 integer,
    noRepeatedName_46 integer,
    isControledByDir_47 integer,
    pubOperation_48 integer,
    childDocReadRemind_49 integer,
    readOpterCanPrint_50 integer,
    isLogControl_51 char,
    uploadext_52 varchar2,
  flag  out integer,
  msg out varchar2, 
  thecursor IN OUT cursor_define.weavercursor)
as
begin 
  update docseccategory set
  subcategoryid= subcategoryid_2,
  categoryname= categoryname_3,
    coder= coder_43,
  docmouldid= docmouldid_4,
  publishable= publishable_5,
  replyable= replyable_6,
  shareable= shareable_7,
  cusertype= cusertype_8,
  cuserseclevel= cuserseclevel_9,
  cdepartmentid1= cdepartmentid1_10,
  cdepseclevel1= cdepseclevel1_11,
  cdepartmentid2= cdepartmentid2_12,
  cdepseclevel2= cdepseclevel2_13,
  croleid1= croleid1_14,
  crolelevel1= crolelevel1_15,
  croleid2= croleid2_16,
  crolelevel2= crolelevel2_17,
  croleid3= croleid3_18,
  crolelevel3= crolelevel3_19,
  hasaccessory= hasaccessory_20,
  accessorynum= accessorynum_21,
  hasasset= hasasset_22,
  assetlabel= assetlabel_23,
  hasitems= hasitems_24,
  itemlabel= itemlabel_25,
  hashrmres= hashrmres_26,
  hrmreslabel= hrmreslabel_27,
  hascrm= hascrm_28,
  crmlabel= crmlabel_29,
  hasproject= hasproject_30,
  projectlabel= projectlabel_31,
  hasfinance= hasfinance_32,
  financelabel= financelabel_33,
  approveworkflowid= approveworkflowid_34,
  markable = markable_35       ,
  markAnonymity = markAnonymity_36  ,
  orderable = orderable_37 ,
  defaultLockedDoc=defaultLockedDoc_38,
  allownModiMShareL=allownModiMShareL_39,
  allownModiMShareW=allownModiMShareW_40,
  maxUploadFileSize=maxUploadFileSize_41,
    wordmouldid=wordmouldid_42,
    isSetShare=isSetShare_44,
    noDownload=noDownload_45,
    noRepeatedName=noRepeatedName_46,
    isControledByDir=isControledByDir_47,
    pubOperation=pubOperation_48,
    childDocReadRemind=childDocReadRemind_49,
    readOpterCanPrint=readOpterCanPrint_50,
    isLogControl = isLogControl_51,
    uploadext    = uploadext_52
  where id= id_1;
end;
/