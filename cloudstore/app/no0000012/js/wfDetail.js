!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM"),require("antd"),require("weaCom")):"function"==typeof define&&define.amd?define(["React","ReactDOM","antd","weaCom"],t):"object"==typeof exports?exports.wfDetail=t(require("React"),require("ReactDOM"),require("antd"),require("weaCom")):e.wfDetail=t(e.React,e.ReactDOM,e.antd,e.weaCom)}(this,function(__WEBPACK_EXTERNAL_MODULE_5__,__WEBPACK_EXTERNAL_MODULE_6__,__WEBPACK_EXTERNAL_MODULE_154__,__WEBPACK_EXTERNAL_MODULE_155__){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(3)},function(e,t,n){Object.assign=n(2)},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(o){return!1}}var a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,u,l=n(e),s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var d in r)o.call(r,d)&&(l[d]=r[d]);if(a){u=a(r);for(var f=0;f<u.length;f++)i.call(r,u[f])&&(l[u[f]]=r[u[f]])}}return l}},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=n(4),i=a(o),u=n(156),l=a(u),s=n(154),d=n(157),f=r(d),c=n(146),p=a(c);n(164);s.Modal.confirm;window.console||(window.console={log:function(e){}});var h=[],y=new Array,g=void 0,m=function(){return new Promise(function(e){e(!0)})},v=function(e){var t=document.getElementsByName(e);return t&&t.length>0?t[0].value:""},w=function(e){if(document.getElementsByClassName)return document.getElementsByClassName(e);for(var t=document.getElementsByTagName("*"),n=new Array,r=0;r<t.length;r++)for(var a=t[r],o=a.className.split(" "),i=0;i<o.length;i++)if(o[i]==e){n.push(a);break}return n},b=function(e,t){for(var n=document.getElementsByTagName("input"),r=0;r<n.length;r++){var a=n[r];a.name&&0==a.name.indexOf(e)&&(a.value=t)}},_=function(e,t){var n=document.getElementById(e);n&&(n.value=t)};jQuery(document).ready(function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};var e=[],t=!1,n=v("requestid"),r=v("workflowid"),a=v("nodeid"),o=window.location.href,u=0;u=o.indexOf("ViewRequestIframe.jsp")>=0?0:u,u=o.indexOf("ManageRequestNoFormIframe.jsp")>=0?1:u,u=o.indexOf("AddRequestIframe.jsp")>=0?2:u;for(var d=w("wfDetail"),c=0;c<d.length;c++){var E=d[c].id,D=E.split("_"),x=2==D.length?parseInt(D[1]):-1;x>=0&&(y.push(x),_("indexnum"+x,0),_("submitdtlid"+x,""),_("deldtid"+x,""),b("dtl_id_"+x,-1))}if(y.map(function(o){var s="wfDetail_"+o;jQuery("#"+s).length>0&&(t=!0),window[s+"_width"]=jQuery("#"+s).width(),jQuery("#"+s).width(0);var d={dn:o,rt:u,reqId:n,wfId:r,nodeId:a,detailId:s,btnName:document.getElementById(s).btnName};g||(g=m()),g=g.then(function(){return new Promise(function(t){h[o]=i.createDetail(d.detailId,function(){e[o]=!0,t(!0)}),h[o].subscribe(function(){})})}).then(function(){return new Promise(function(e){i.doAction(l.initDatasV2,h[o],d,function(){e(!0)})})}).then(function(){S.doCbSingle(o),window.sessionStorage.setItem("WfDetailCanUse_"+o,!0)})}),g||(g=m()),g=g.then(function(){return"0"==f["default"].getAutoSubmit()?(O(!0),f["default"].setAutoSubmit("1")):"2"==f["default"].getAutoSubmit()?(O(!1,-1),f["default"].setAutoSubmit("1")):S.doCb(),new Promise(function(e){e(!0)})}),"function"==typeof window.doSave_nNew&&t){doSave_nNew;window.doSave_nNew=function(){var t=!0;return y.map(function(n){_("indexnum"+n,0),_("submitdtlid"+n,""),_("deldtid"+n,""),e[n]||(t=!1)}),t?(y.map(function(e){var t=h[e].getState().detail.datas;f["default"].setWfDetailNowDatas(e,t,n)}),void("-1"==n?(y.map(function(e){i.doAction(l.startLoading,h[e],{})}),f["default"].setAutoSubmit("2"),l.doWfSave(h[y[0]].getState().detail)):(O(!1,-1),g||(g=m()),g=g.then(function(){return l.doWfSave(h[y[0]].getState().detail),new Promise(function(e){e(!0)})})))):(s.message.warning("明细组件未初始化完成，请稍候再保存！"),!1)}}var I=function(){if(window.checkCustomize&&"function"==typeof window.checkCustomize){var t=window.checkCustomize;window.checkCustomize=function(){y.map(function(e){_("indexnum"+e,0),_("submitdtlid"+e,""),_("deldtid"+e,"")});var r=parseInt(n)==-1,a="1"!=f["default"].getAutoSubmit(),o=!1;if(r||a||(o=t()),r||a||o){var i=!0;if(0==y.length||0==u)return!0;var d=!0;if(y.map(function(t){e[t]||(d=!1)}),!d)return s.message.warning("明细组件未初始化完成，请稍候再提交！"),!1;var c=!1;return y.map(function(e){var t=(window.sessionStorage.getItem("WfDetailImportTrigger"+e),h[e].getState().detail),r=t.heads,a=t.datas,o=t.config,u=o.lang,l=void 0!==u&&7!==u;o.mustAdd&&0===a.length&&(s.message.warning(l?"Sorry, New datas must be added to submit in Detail #"+(e+1):"对不起，明细"+(e+1)+"必须新增新明细才能提交！"),c=!0);var d=o.wll;f["default"].setWfDetailNowDatas(e,a,n);for(var y=!1,g=function(t){r.map(function(n){var r=p.doWfDetailEditTypeGet(n.editType,e,a[t],n.id,d);if((!y&&1==n.fieldhtmltype&&1==n.type||2==n.fieldhtmltype)&&"string"==typeof n.fielddbtype&&n.fielddbtype.indexOf("(")>0){var o=Number(n.fielddbtype.split("(")[1].split(")")[0]),u=a[t],f=u["wdfield"+n.id];if(f&&"undefined"!=typeof f&&f.length>o)return i=!1,y=!0,s.message.warning(l?"Sorry, [Detail #"+(e+1)+", Row #"+(t+1)+"] "+n.fieldlabelname+" is beyond the maximum length ("+o+")!":"对不起，明细"+(e+1)+"第"+(t+1)+"行，"+n.fieldlabelname+"超出数据库字段限制的最大长度("+o+")！"),!1}if(!y&&2==r){var c=a[t],h=c["wdfield"+n.id];if(h=h||0==h?h:"",""===h||"undefined"==typeof h)return i=!1,y=!0,s.message.warning(l?"Sorry, [Detail #"+(e+1)+", Row #"+(t+1)+"] "+n.fieldlabelname+" is not filled out!":"对不起，明细"+(e+1)+"第"+(t+1)+"行，"+n.fieldlabelname+"未填写！"),!1}})},m=0;m<a.length&&i;m++)g(m)}),!c&&(i&&a?(f["default"].setAutoSubmit("0"),r?(l.doWfSave(h[y[0]].getState().detail),!1):(O(!0),!1)):i&&"0"==f["default"].getAutoSubmit()?(s.message.warning("Saving..."),!1):!(!i||"1"!=f["default"].getAutoSubmit()||"function"!=typeof t)&&t())}return!1}}};!window.wfDetail.reWriteCheckCustomizeBool&&I(),window.wfDetail.reWriteCheckCustomize=function(){!window.wfDetail.reWriteCheckCustomizeBool&&I(),window.wfDetail.reWriteCheckCustomizeBool=!0},y.map(function(e){f["default"].getWfDetailExcelOut(e)&&"0"==f["default"].getWfDetailExcelOut(e)&&(f["default"].setWfDetailExcelOut(e,"1"),g||(g=m()),g=g.then(function(){i.doAction(l.detailExcelOut,h[e],{})}))});var O=function(e,t,n){y.map(function(e){_("indexnum"+e,0),_("submitdtlid"+e,""),_("deldtid"+e,"")});var r=s.message?s.message.loading("loading...",0):"";y.map(function(r){"0"!=f["default"].getWfDetailIsSave(r)&&(!e&&t==r||e||!e&&t==-1)&&(i.doAction(l.startLoading,h[r],{}),g&&g.then||(g=m()),g=g.then(function(){return new Promise(function(e){i.doAction(l.saveDetail,h[r],{force:n},function(){e(!0)})})}))}),g=g.then(function(){return new Promise(function(t){e&&(s.message.success("success！"),f["default"].setAutoSubmit("1"),doSubmit()),r(),y.map(function(e){i.doAction(l.endLoading,h[e],{})}),t(!0)})}),g["catch"](function(e){var t="System error["+e+"]，Please contact the administrator！";alert(t),s.message.error(t)})};window.wfDetail.doSave=function(e){var t=!0;if("true"==window.sessionStorage.getItem("doSaveNeedCheck")){var r=!1;y.map(function(e){var a=h[e].getState().detail,o=a.heads,i=a.datas,u=a.config,l=u.lang,d=void 0!==l&&7!==l;u.mustAdd&&0===i.length&&(s.message.warning(d?"Sorry, New datas must be added to submit in Detail #"+(e+1):"对不起，明细"+(e+1)+"必须新增新明细才能提交！"),r=!0);var c=u.wll;f["default"].setWfDetailNowDatas(e,i,n);for(var y=!1,g=function(n){o.map(function(r){var a=p.doWfDetailEditTypeGet(r.editType,e,i[n],r.id,c);if((!y&&1==r.fieldhtmltype&&1==r.type||2==r.fieldhtmltype)&&"string"==typeof r.fielddbtype&&r.fielddbtype.indexOf("(")>0){var o=Number(r.fielddbtype.split("(")[1].split(")")[0]),u=i[n],l=u["wdfield"+r.id];l&&"undefined"!=typeof l&&l.length>o&&(y=!0,s.message.warning(d?"Sorry, [Detail #"+(e+1)+", Row #"+(n+1)+"] "+r.fieldlabelname+" is beyond the maximum length ("+o+")!":"对不起，明细"+(e+1)+"第"+(n+1)+"行，"+r.fieldlabelname+"超出数据库字段限制的最大长度("+o+")！"),t=!1)}if(!y&&2==a){var f=i[n],h=f["wdfield"+r.id];h=h||0==h?h:"",""!==h&&"undefined"!=typeof h||(y=!0,s.message.warning(d?"Sorry, [Detail #"+(e+1)+", Row #"+(n+1)+"] "+r.fieldlabelname+" is not filled out!":"对不起，明细"+(e+1)+"第"+(n+1)+"行，"+r.fieldlabelname+"未填写！"),t=!1)}})},m=0;m<i.length;m++)g(m)}),r&&(t=!1)}return 1==t&&(n==-1?doSave_nNew():O(!1,-1,e),!0)},g||g["catch"](function(e){var t="System error["+e+"]，Please contact the administrator！";alert(t),s.message.error(t)})});var S={doAddChildrenRow:function(e,t){},doExpanded:function(e,t){},doAdd:function(e,t,n,r){},doEdit:function(e,t,n,r,a){},doDel:function(e,t){},doAfterTrigger:function(){},doHeadSet:function(e,t){i.doAction(l.doHeadSet,h[e],{heads:t})},doLoading:function(e,t){i.doAction(l.doLoading,h[e],{loading:t})},doCb:function(){},doCbSingle:function(e){},doChange:function(e,t){},doSet:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],r=arguments[3],a=arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];"string"==typeof r&&(r=Number(r)>0&&Number(r)<=t.length),"undefined"==typeof r&&(r=""),i.doAction(l.initOutDatas,h[e],{newDatas:t,ifNoCover:n,ifNoTrigger:a,key:r,goPage1:o},function(){})},doGet:function(e){return h[e].getState().detail},doImport:function(e,t,n){return window.sessionStorage.setItem("WfDetailImportTrigger"+e,!1),!0},beforeImport:function(e){return window.sessionStorage.setItem("WfDetailImportTrigger"+e,!0),!0},beforeImportTriggerItem:function(e){return""},afterHide:function(e){},doValueGet:function(e,t,n){for(var r=h[e].getState().detail.datas,a=0;a<r.length;a++){var o=r[a];if(t==o.key)return o["wdfield"+n]}},getDnByField:function(e){var t="";return y.map(function(n){if(""===t){var r=h[n].getState().detail.heads;r.map(function(r){parseInt(r.id)===parseInt(e)&&(t=n)})}}),t},showChDetail:function(e,t){i.doAction(l.linkFather,h[e],t)},mustSave:function(){return!1},doFatherFormula:function(e,t,n,r){for(var a=h[e].getState().detail,o=a.columns,u=a.datas,s=(a.heads,a.config),d=[],f=0;f<o.length;f++){var c=o[f].head;if(c.chDetailLink&&""!=c.chDetailLink&&c.chDetailLinkType&&""!=c.chDetailLinkType){var y=c.chDetailLink.split("."),g=y[0].split("_"),m=parseInt(g[3].substring(2))-1,v="wd"+y[1],w="wdfield"+c.id;if(m==r){d[w]=0;for(var b=0;b<n.length;b++){var _=n[b];d[w]+=_[v]?parseFloat(_[v]):0}"0"==c.chDetailLinkType,"1"==c.chDetailLinkType&&(d[w]=d[w]/n.length);for(var S=0;S<u.length;S++){var E=u[S];if(E.key==t){E[w]=d[w];s.wfd;E=p.doWfDetailCountRow(E,s)}}}}}i.doAction(l.initOutDatas,h[e],{newDatas:u,ifNoCover:!1,ifNoTrigger:!0},function(){})}};e.exports=S},function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.doAction=t.createDetail=void 0;var o=n(5),i=a(o),u=n(6),l=n(7),s=n(27),d=n(41),f=a(d),c=n(42),p=a(c),h=n(43),y=a(h),g=n(153),m=a(g),v=n(46),w=(r(v),n(45)),b=(r(w),n(156)),_=(r(b),t.createDetail=function(e,t){var n=(0,p["default"])(y["default"],(0,l.applyMiddleware)(f["default"])),r=!0;return!r||window.attachEvent&&navigator.userAgent.indexOf("Opera")===-1||!window.__REDUX_DEVTOOLS_EXTENSION__||(n=(0,p["default"])(y["default"],(0,l.compose)((0,l.applyMiddleware)(f["default"]),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))),(0,u.render)(i["default"].createElement(s.Provider,{store:n},i["default"].createElement(m["default"],null)),document.getElementById(e),function(){t("success")}),n},function(e,t){return function(){return t(e.apply(void 0,arguments))}});t.doAction=function(e,t,n,r){try{var a=_(e,t.dispatch);a(n,r)}catch(o){alert("catch3:"+o),console.log(o)}}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_5__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_6__},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var a=n(8),o=r(a),i=n(22),u=r(i),l=n(24),s=r(l),d=n(25),f=r(d),c=n(26),p=r(c),h=n(23);r(h);t.createStore=o["default"],t.combineReducers=u["default"],t.bindActionCreators=s["default"],t.applyMiddleware=f["default"],t.compose=p["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){function r(){m===g&&(m=g.slice())}function o(){return y}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),m.push(e),function(){if(t){t=!1,r();var n=m.indexOf(e);m.splice(n,1)}}}function d(e){if(!(0,i["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,y=h(y,e)}finally{v=!1}for(var t=g=m,n=0;n<t.length;n++){var r=t[n];r()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,d({type:s.INIT})}function c(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[l["default"]]=function(){return this},e}var p;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,y=t,g=[],m=g,v=!1;return d({type:s.INIT}),p={dispatch:d,subscribe:u,getState:o,replaceReducer:f},p[l["default"]]=c,p}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=a;var o=n(9),i=r(o),u=n(19),l=r(u),s=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!i(e)||a(e)!=u)return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&d.call(n)==c}var a=n(10),o=n(16),i=n(18),u="[object Object]",l=Function.prototype,s=Object.prototype,d=l.toString,f=s.hasOwnProperty,c=d.call(Object);e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?l:u:s&&s in Object(e)?o(e):i(e)}var a=n(11),o=n(14),i=n(15),u="[object Null]",l="[object Undefined]",s=a?a.toStringTag:void 0;e.exports=r},function(e,t,n){var r=n(12),a=r.Symbol;e.exports=a},function(e,t,n){var r=n(13),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(a){}var o=u.call(e);return r&&(t?e[l]=n:delete e[l]),o}var a=n(11),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,l=a?a.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return a.call(e)}var r=Object.prototype,a=r.toString;e.exports=n},function(e,t,n){var r=n(17),a=r(Object.getPrototypeOf,Object);e.exports=a},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){(function(e,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(21),u=a(i);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var l=(0,u["default"])(o);t["default"]=l}).call(t,function(){return this}(),n(20)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var a="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:a}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function i(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var u=Object.keys(n),l=void 0;try{o(n)}catch(s){l=s}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var r=!1,o={},i=0;i<u.length;i++){var s=u[i],d=n[s],f=e[s],c=d(f,t);if("undefined"==typeof c){var p=a(s,t);throw new Error(p)}o[s]=c,r=r||c!==f}return r?o:e}}t.__esModule=!0,t["default"]=i;var u=n(8),l=n(9),s=(r(l),n(23));r(s)},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),a={},o=0;o<r.length;o++){var i=r[o],u=e[i];"function"==typeof u&&(a[i]=n(u,t))}return a}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var i=e(n,r,a),l=i.dispatch,s=[],d={getState:i.getState,dispatch:function(e){return l(e)}};return s=t.map(function(e){return e(d)}),l=u["default"].apply(void 0,s)(i.dispatch),o({},i,{dispatch:l})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=a;var i=n(26),u=r(i)},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var a=n(28),o=r(a),i=n(36),u=r(i);t.Provider=o["default"],t.connect=u["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t["default"]=void 0;var u=n(5),l=n(29),s=r(l),d=n(34),f=r(d),c=n(35),p=(r(c),function(e){function t(n,r){a(this,t);var i=o(this,e.call(this,n,r));return i.store=n.store,i}return i(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){return u.Children.only(this.props.children)},t}(u.Component));t["default"]=p,p.propTypes={store:f["default"].isRequired,children:s["default"].element.isRequired},p.childContextTypes={store:f["default"].isRequired}},function(e,t,n){e.exports=n(30)()},function(e,t,n){"use strict";var r=n(31),a=n(32),o=n(33);e.exports=function(){function e(e,t,n,r,i,u){u!==o&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,i,u,l){if(a(t),!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,o,i,u,l],f=0;s=new Error(t.replace(/%s/g,function(){return d[f++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var a=function(e){};e.exports=r},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var a=n(29),o=r(a);t["default"]=o["default"].shape({subscribe:o["default"].func.isRequired,dispatch:o["default"].func.isRequired,getState:o["default"].func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.displayName||e.name||"Component"}function l(e,t){try{return e.apply(t)}catch(n){return O.value=n,O}}function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=Boolean(e),c=e||D,h=void 0;h="function"==typeof t?t:t?(0,m["default"])(t):x;var g=n||I,v=r.pure,w=void 0===v||v,b=r.withRef,S=void 0!==b&&b,T=w&&g!==I,R=A++;return function(e){function t(e,t,n){var r=g(e,t,n);return r}var n="Connect("+u(e)+")",r=function(r){function u(e,t){a(this,u);var i=o(this,r.call(this,e,t));i.version=R,i.store=e.store||t.store,(0,E["default"])(i.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var l=i.store.getState();return i.state={storeState:l},i.clearCache(),i}return i(u,r),u.prototype.shouldComponentUpdate=function(){return!w||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},u.prototype.configureFinalMapState=function(e,t){var n=c(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:c,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},u.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},u.prototype.configureFinalMapDispatch=function(e,t){var n=h(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:h,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},u.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,y["default"])(e,this.stateProps))&&(this.stateProps=e,!0)},u.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,y["default"])(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},u.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&T&&(0,y["default"])(e,this.mergedProps))&&(this.mergedProps=e,!0)},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){s&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(e){w&&(0,y["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!w||t!==e){if(w&&!this.doStatePropsDependOnOwnProps){var n=l(this.updateStatePropsIfNeeded,this);if(!n)return;n===O&&(this.statePropsPrecalculationError=O.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},u.prototype.getWrappedInstance=function(){return(0,E["default"])(S,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,a=this.statePropsPrecalculationError,o=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,a)throw a;var i=!0,u=!0;w&&o&&(i=n||t&&this.doStatePropsDependOnOwnProps,u=t&&this.doDispatchPropsDependOnOwnProps);var l=!1,s=!1;r?l=!0:i&&(l=this.updateStatePropsIfNeeded()),u&&(s=this.updateDispatchPropsIfNeeded());var c=!0;return c=!!(l||s||t)&&this.updateMergedPropsIfNeeded(),!c&&o?o:(S?this.renderedElement=(0,f.createElement)(e,d({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,f.createElement)(e,this.mergedProps),this.renderedElement)},u}(f.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:p["default"]},r.propTypes={store:p["default"]},(0,_["default"])(r,e)}}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=s;var f=n(5),c=n(34),p=r(c),h=n(37),y=r(h),g=n(38),m=r(g),v=n(35),w=(r(v),n(9)),b=(r(w),n(39)),_=r(b),S=n(40),E=r(S),D=function(e){return{}},x=function(e){return{dispatch:e}},I=function(e,t,n){return d({},n,e,t)},O={value:null},A=0},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!a.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,a.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var a=n(7)},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,o=Object.getOwnPropertyDescriptor,i=Object.getPrototypeOf,u=i&&i(Object);return function l(s,d,f){if("string"!=typeof d){if(u){var c=i(d);c&&c!==u&&l(s,c,f)}var p=r(d);a&&(p=p.concat(a(d)));for(var h=0;h<p.length;++h){var y=p[h];if(!(e[y]||t[y]||f&&f[y])){var g=o(d,y);try{n(s,y,g)}catch(m){}}}return s}return s}})},function(e,t,n){"use strict";var r=function(e,t,n,r,a,o,i,u){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,a,o,i,u],d=0;l=new Error(t.replace(/%s/g,function(){return s[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=r},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"==typeof a?a(n,r,e):t(a)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t["default"]=r},function(e,t,n){function r(e,t){var n=(0,a.createStore)(e,t);return n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(7)},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=n(44),i=r(o),u=(0,a.combineReducers)({detail:i["default"]});t["default"]=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments[1];switch(t.type){case f.SET_EXPANDROWKEYS:return s({},e,{expandedRowKeys:t.params.expandedRowKeys});case f.ADD_REMARK:return s({},e,{datas:e.datas.map(function(e){var n=t.params,r=n.key,a=n.fieldId,o=n.remarkString;return s({},e,e.key===r?i({},"wdfield"+a+"remarkstring",o):{})})});case f.SHOW_EDITLOGBYREMARK:return s({},e,{editLogByRemarkVisible:t.bool});case f.SET_EDITLOGBYREMARK:return s({},e,t.params);case f.INIT_HEADS:return(0,h["default"])({},e,function(){var e=t.params,n=e.config,r=e.params,a=n.wdfl,o=n.mustHide,i=new Array;if(o&&""!=o){o=w.Base64.decode(o);
for(var u=o.split("$"),l=0;l<u.length;l++)""!=u[l]&&i.indexOf(u[l])==-1&&i.push(u[l])}var s=n.detailtable,d=n.lang,f=n.showSN,c=void 0===f||f,p=n.pageSize,y=void 0!==d&&7!==d,g=new Array;c&&g.push({title:y?"SN":"序号",dataIndex:"key",key:"key",head:{editType:"2",width:"50"},shownamecolor:"#111",detailbackgroudcolor:"#e7f3fc"}),a=a.filter(function(e){return"3"!==e.editType});var m=new Array;if(a.map(function(e){"4"!=e.editType&&(g.push({title:e.fieldlabelname,dataIndex:"wdfield"+e.id,key:"wdfield"+e.id,head:e,shownamecolor:e.shownamecolor,detailbackgroudcolor:e.detailbackgroudcolor}),m.push("field"+e.id))}),null!=s&&void 0!=s){var v=window.sessionStorage.getItem("WfDetaildn"),b=parseInt(s.split("_")[3].substring(2,100))-1;if(window.sessionStorage.setItem("WfDetaildn"+b,m),null!=v&&""!=v&&void 0!=v&&v&&"null"!=v){var _=!0,S=v.split(",");for(var E in S)b==S[E]&&(_=!1);_&&(S.push(b+""),window.sessionStorage.setItem("WfDetaildn",S.join(",")))}else window.sessionStorage.setItem("WfDetaildn",b+"")}return{showType:n.paging?"1":"0",heads:a,betacolumns:g,columns:g,mustHideStr:o,mustHideArr:i,config:(0,h["default"])({},n,r),pagination:{current:1,pageSize:parseInt(p),total:0},fliterPagination:{current:1,pageSize:parseInt(p),total:0}}}());case f.SET_HEADS:return(0,h["default"])({},e,function(){var n=e.config,r=t.params.heads,a=n.lang,o=n.showSN,i=void 0===o||o,u=void 0!==a&&7!==a,l=new Array;return i&&l.push({title:u?"SN":"序号",dataIndex:"key",key:"key",head:{editType:"2",width:"50"},shownamecolor:"#111",detailbackgroudcolor:"#e7f3fc"}),r.map(function(e){"4"!=e.editType&&"3"!=e.editType&&l.push({title:e.fieldlabelname,dataIndex:"wdfield"+e.id,key:"wdfield"+e.id,head:e})}),{heads:r,columns:l,betacolumns:l}}());case f.INIT_DATAS:return(0,h["default"])({},e,function(){var n=e.config,r=e.heads,a=t.params,o=a.datas,i=a.total,u=n.wfd,l=e.pagination,d=l.pageSize,f=l.current,c=x(o),p=[],h=function y(e){return e.forEach(function(e){e.children&&e.children.length>0&&(p.push(e.key),y(e.children))})};return h(c),v.doWfDetailCountCol(u,c,r),s({},E(e,c,{current:f,pageSize:d,total:n.tdatashowonly?i:c.length}),{expandedRowKeys:p})}());case f.SET_DATAS:return(0,h["default"])({},e,function(){var n=e.pagination,r=e.datas,a=e.heads,o=n.pageSize,i=t.params,u=i.newDatas,s=i.ifNoCover,d=i.goPage1,f=1,c=[];Array.isArray(u)||(u=JSON.parse(u));var p=function h(e){return e.forEach(function(e){e.children&&e.children.length>0&&(c.push(e.key),h(e.children))})};return p(u),u=u.map(function(e){return a.map(function(t){"undefined"==typeof e["wdfield"+t.id]&&(e["wdfield"+t.id]="",e["wdfield"+t.id+"span"]=""),l(t,e)}),e}),s?(r.length>0&&r[r.length-1].key&&(f=parseInt(r[r.length-1].key)+1),u=u.map(function(e){return e.key=f++,e}),u=r.concat(u)):u=u.map(function(e){return e.key=f++,e}),{datas:u,pagination:{current:d?1:n.current,pageSize:o,total:u.length},expandedRowKeys:c}}());case f.SET_DATAS_V2:return(0,h["default"])({},e,function(){var n=e.pagination,r=(e.datas,e.heads),a=n.pageSize,o=t.params.newDatas,i=1,u=[];Array.isArray(o)||(o=JSON.parse(o));var s=function d(e){return e.forEach(function(e){e.children&&e.children.length>0&&(u.push(e.key),d(e.children))})};return s(o),o=o.map(function(e){return r.map(function(t){"undefined"==typeof e["wdfield"+t.id]&&(e["wdfield"+t.id]="",e["wdfield"+t.id+"span"]=""),l(t,e)}),e}),o=o.map(function(e){return e.key=i++,e}),{datas:o,pagination:{current:1,pageSize:a,total:o.length},expandedRowKeys:u}}());case f.ADD_ROW:return(0,h["default"])({},e,function(){var n=t.params.isCopy,r=e.pagination,a=e.showType,i=e.datas,u=e.fatherKey,l=e.fliterDatas,d=e.rowSelection,f=d.selectedRowKeys,c=[],p=1,h=[].concat(o(i));if(n&&i.length>0&&f.length>0){p=i.length>0?parseInt(i[i.length-1].key)+1:1;for(var y=0;y<i.length;y++)for(var g=s({},i[y]),m=0;m<f.length;m++)if(g.key==f[m]){g.dbId="",g.key=p,g.fatherKey=u,c.push(g),p++;break}}else{var w={};e.heads.map(function(e){"2"==e.type&&"3"==e.fieldhtmltype||e.defaultValue&&""!=e.defaultValue?"[nowDate]"==e.defaultValue?(w["wdfield"+e.id]=v.format(new Date,"yyyy-MM-dd"),w["wdfield"+e.id+"span"]=v.format(new Date,"yyyy-MM-dd")):(w["wdfield"+e.id]=e.defaultValue,w["wdfield"+e.id+"span"]=e.defaultValueSpan||e.defaultValue):(w["wdfield"+e.id]=e.value||"",w["wdfield"+e.id+"span"]=e.valuespan||"")}),p=i.length>0?parseInt(i[i.length-1].key)+1:1,w.key=p,w.fatherKey=u,c.push(w)}for(var b="1"!==a?p:r.pageSize,_=parseInt(p/b)+(p%b>0?1:0),S=0;S<c.length;S++)h.push(c[S]);if(0!=u){for(var E=0;E<c.length;E++)l.push(c[E]);var D=l.length,x=parseInt(D/b)+(D%b>0?1:0);return{fliterDatas:l,fliterPagination:{total:l.length,pageSize:b,current:x},datas:h,pagination:{total:p,pageSize:b,current:_},searchValue:""}}return{datas:h,pagination:{total:p,pageSize:b,current:_},searchValue:""}}());case f.ADD_CHILDRENROW:return(0,h["default"])({},e,function(){var n=t.params,r=(e.rowSelection,e.expandedRowKeys),a=e.config.dn,i=e.datas,u=[].concat(o(r)),l=n.key;return i=i.map(function(e){var t=new Array;if(l.indexOf(e.key)>=0){if(u.indexOf(e.key)<0&&u.push(e.key),e.children&&e.children.length>0){var n=e.children,r=e.children[e.children.length-1].key;r=r?r.toString():"";for(var o=r.split("."),i="",d=0;d<o.length-1;d++)i+=o[d]+".";return i+=parseInt(o[o.length-1])+1,n.push(s({},t,{key:i})),(0,h["default"])({},e,{children:n})}return(0,h["default"])({},e,{children:[s({},t,{key:e.key+".1"})]})}return e.children&&e.children.length>0?R(l,e,u,a):e}),s({},S(e,i,{current:e.pagination.current,pageSize:e.pagination.pageSize,total:i.length}),{expandedRowKeys:u})}());case f.DEL_ROW:return(0,h["default"])({},e,function(){var n=t.params,r=e.datas,a=e.rowSelection,o=e.pagination,i=e.fatherKey,u=(e.fliterPagination,e.config),l=e.delDbIds,s=(u.canDelOld,new Array),d=new Array,f=n.delRowKey?a.selectedRowKeys.concat(n.delRowKey):a.selectedRowKeys;return T(r,f,l),r.map(function(e){if(e.fatherKey==i&&f.indexOf(e.key)<0&&d.push(e),f.indexOf(e.key)<0){var t=O(e,f);s.push(t)}}),{fliterDatas:d,fliterPagination:{total:d.length,pageSize:o.pageSize,current:1},datas:s,pagination:{total:s.length,pageSize:o.pageSize,current:1},rowSelection:{selectedRowKeys:[]},delDbIds:l}}());case f.SEL_ROW:return(0,h["default"])({},e,{rowSelection:{selectedRowKeys:t.params.checkKeys}});case f.GO_PAGE:return(0,h["default"])({},e,{pagination:{total:e.pagination.total,current:t.params.current,pageSize:e.pagination.pageSize},fliterPagination:{total:e.fliterPagination.total,current:t.params.current,pageSize:e.fliterPagination.pageSize}});case f.EDIT_SHOWTYPE:return(0,h["default"])({},e,{showType:t.params.showType});case f.EDIT_CELL:return(0,h["default"])({},e,function(){var n=t.params,r=e.datas,a=e.pagination,o=e.heads,i=e.config,u=e.columns,d=(e.searchValue,n.value,i.wfd);i.canEditOld;return r=r.map(function(e){if(Number(e.key)===Number(n.key)){var t=(0,h["default"])({},e);t["wdfield"+n.fieldId]=n.value,t["wdfield"+n.fieldId+"span"]=n.valueSpan;var r=[];return o.map(function(e){var a=e.id,o=e.tdataField,i=e.tdata;o&&i&&a==n.fieldId&&r.push({id:a,tdataField:o,tdata:i}),l(e,t)}),r.length>0&&r.map(function(e){var r=JSON.parse(e.tdata);r.map(function(r){var a=r.type.split("_");r.value==(n.value||n.valueSpan)&&(o=o.map(function(t){return e.tdataField==t.id&&(t.fieldhtmltype=a[0],t.type=a[1]),t}),u=u.map(function(t){return e.tdataField==t.head.id&&(t.head.fieldhtmltype=a[0],t.head.type=a[1]),t}),t["wdfield"+e.tdataField]="",t["wdfield"+e.tdataField+"span"]="")})}),t=v.doWfDetailCountRow(t,i)}return e.children&&e.children.length>0?I(n,e,o,i):e}),r=r.map(function(e){var t=s({},e);return Number(t.key)===Number(n.key)&&1===t["wdfield"+n.fieldId+"remarkstatus"]&&(t["wdfield"+n.fieldId+"remarkstatus"]=2),t}),v.doWfDetailCountCol(d,r,o),s({},S(e,r,{current:a.current,pageSize:a.pageSize,total:r.length}),{heads:o,columns:u})}());case f.SET_DBID:return(0,h["default"])({},e,S(e,t.params.datas,{current:e.pagination.current,pageSize:e.pagination.pageSize,total:t.params.datas.length}));case f.SET_TRIGGER:return(0,h["default"])({},e,function(){var n=t.params,r=e.datas,a=e.config,o=e.heads,i=(e.fatherKey,e.pagination,a.wfd),u=n.datas,l=P(r,u,a,o);return v.doWfDetailCountCol(i,l,o),{datas:l}}());case f.SET_TREE:return(0,h["default"])({},e,{selTreenode:t.params.selTreenode});case f.DO_FLITER:return(0,h["default"])({},e,S(e,e.datas,{current:e.pagination.current,pageSize:e.pagination.pageSize,total:e.datas.length}));case f.SHOW_MODAL:return(0,h["default"])({},e,{showModal:!0});case f.HIDE_MODAL:return(0,h["default"])({},e,{showModal:!1});case f.SHOW_IMPMODAL:return(0,h["default"])({},e,{impModal:!0});case f.HIDE_IMPMODAL:return(0,h["default"])({},e,{impModal:!1});case f.START_LOADING:return(0,h["default"])({},e,{loading:!0});case f.END_LOADING:return(0,h["default"])({},e,{loading:!1});case f.SHOW_ROW:return(0,h["default"])({},e,function(){var t=e.heads,n=e.config,r=e.mustHideArr,a=n.lang,o=n.showSN,i=void 0===o||o,u=void 0!==a&&7!==a,l=new Array;return i&&l.push({title:u?"SN":"序号",dataIndex:"key",key:"key",head:{editType:"2",width:"50"},shownamecolor:"#111",detailbackgroudcolor:"#e7f3fc"}),t.map(function(e){var t=!1;"4"==e.editType||"3"==e.editType?r.indexOf(e.id)==-1&&(e.editType="0",t=!0):t=!0,1==t&&l.push({title:e.fieldlabelname,dataIndex:"wdfield"+e.id,key:"wdfield"+e.id,head:e,shownamecolor:e.shownamecolor,detailbackgroudcolor:e.detailbackgroudcolor})}),{columns:l}}());case f.HIDE_ROW:return(0,h["default"])({},e,{columns:e.betacolumns});case f.START_SAVELOADING:return(0,h["default"])({},e,{saveLoading:!0,loading:!0});case f.END_SAVELOADING:return(0,h["default"])({},e,{saveLoading:!1,loading:!1});case f.START_IMPLOADING:return(0,h["default"])({},e,{impLoading:!0});case f.END_IMPLOADING:return(0,h["default"])({},e,{impLoading:!1});case f.RUN_IMPPERCENT:return(0,h["default"])({},e,function(){var t=e.impPercent;e.impLoading;return 100==t&&(t=0),99==t&&(t=98),{impPercent:t+1}}());case f.SET_IMPDATAS:return(0,h["default"])({},e,function(){var e=t.params;return{impDatas:e.datas,impMsg:[],impLoading:!1,impPercent:100}}());case f.SET_IMPTYPE:return(0,h["default"])({},e,{impType:t.params.impType});case f.DO_SEARCH:return(0,h["default"])({},e,function(){var n=t.params,r=e.datas,a=n.value,o=new Array,i=new Array;a=a?a.toString():"";for(var u=a.split(","),l=0;l<r.length;l++){var s=r[l],d=!1;for(var f in s)if("string"==typeof s[f])for(var c=0;c<u.length;c++)s[f].indexOf(u[c])>=0&&(d=!0);d&&(o.push(r[l].dbId),i.push(r[l]))}return{fliterDatas:i,fliterPagination:{pageSize:e.pagination.pageSize,total:i.length,current:1},outDbIds:o,searchValue:a}}());case f.DO_SEARCH_COL:return(0,h["default"])({},e,function(){var n=t.params,r=(e.datas,e.heads),a=e.config,o=n.value;new Array,new Array;o=o?o.toString():"";var i=a.lang,u=a.showSN,l=void 0===u||u,s=void 0!==i&&7!==i;if(0!=o.replace(/(^s*)|(s*$)/g,"").length){var d=o.split(","),f=new Array;l&&f.push({title:s?"SN":"序号",dataIndex:"key",key:"key",head:{editType:"2",width:"50"},shownamecolor:"#111",detailbackgroudcolor:"#e7f3fc"});for(var c=0;c<r.length;c++){for(var p=r[c],h=!1,y=p.fieldlabelname,g=0;g<d.length;g++)y.indexOf(d[g])>=0&&(h=!0);h&&"3"!=p.editType&&f.push({title:p.fieldlabelname,dataIndex:"wdfield"+p.id,key:"wdfield"+p.id,head:p,shownamecolor:p.shownamecolor,detailbackgroudcolor:p.detailbackgroudcolor})}return{columns:f}}var m=new Array;return l&&m.push({title:s?"SN":"序号",dataIndex:"key",key:"key",head:{editType:"2",width:"50"},shownamecolor:"#111",detailbackgroudcolor:"#e7f3fc"}),r.map(function(e){"3"!=e.editType&&m.push({title:e.fieldlabelname,dataIndex:"wdfield"+e.id,key:"wdfield"+e.id,head:e,shownamecolor:e.shownamecolor,detailbackgroudcolor:e.detailbackgroudcolor})}),{columns:m}}());case f.DO_EXCELINPUT:return(0,h["default"])({},e,function(){var n=t.params,r=n.impDatas,a=e.datas,o=e.delDbIds,i=e.pagination,u=e.heads,l=e.impType,s=e.config,d=i.current,f=i.pageSize,c=s.tdatashowonly;if(c)return e;if(0==l){var p=1;a.length>0&&a[a.length-1].key&&(p=parseInt(a[a.length-1].key)+1),r=x(r);var h=new Array;r.map(function(e){e.dbId=0,e.key=p++,h.push(e)});var y=a.concat(h);return{impDatas:[],impMsg:[],datas:y,pagination:{current:d,pageSize:f,total:y.length},delDbIds:o}}if(1==l){var g=1;a.length>0&&a[a.length-1].key&&(g=parseInt(a[a.length-1].key)+1),r=x(r);for(var m=(new Array,0);m<r.length;m++)for(var v=!1,w=0;w<a.length&&!v;w++)if(r[m].dbId==a[w].dbId){v=!0;var b=a[w],_=r[m];for(var S in b)for(var E=!1,D=0;D<u.length&&!E;D++){var I=u[D];"wdfield"+I.id!=S&&"wdfield"+I.id+"span"!=S||1!=I.editType&&2!=I.editType||(b[S]=_[S],E=!0)}}return{impDatas:[],impMsg:[],datas:a,pagination:{current:d,pageSize:f,total:a.length},delDbIds:o}}var O=1;a.map(function(e){if(e.dbId&&""!=e.dbId&&0!=e.dbId){for(var t=!1,n=0;n<o.length&&!t;n++)o[n]==e.dbId&&(t=!0);t||o.push(e.dbId)}}),r=r.map(function(e){return e.dbId=0,e.key=O++,e});var A=x(r);return{impDatas:[],impMsg:[],datas:A,pagination:{current:d,pageSize:f,total:A.length},delDbIds:o}}());case f.SHOW_EXCELINPUTMSG:return(0,h["default"])({},e,{impMsg:t.params.impMsg});case f.LINK_FATHER:return(0,h["default"])({},e,function(){var n=e.datas,r=e.pagination,a=t.params.fatherKey,o=new Array;return n.map(function(e){e.fatherKey==a&&o.push(e)}),{fatherKey:a,showModal:!0,fliterDatas:o,fliterPagination:{pageSize:r.pageSize,total:o.length,current:1}}}());default:return e}}function l(e,t){var n=(e.fielddbtype,e.fieldhtmltype),r=e.type,a=t["wdfield"+e.id];"undefined"!=typeof a&&""!==a&&(1==n&&2==r?(a+="",a=parseInt(a.replace(/,/gi,""))):1==n&&3==r?(a+="",a=parseFloat(a.replace(/,/gi,""))):1==n&&5==r&&(a+="",a=parseFloat(a.replace(/,/gi,"")))),t["wdfield"+e.id]=a}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=u;var d=n(45),f=a(d),c=n(46),p=(a(c),n(2)),h=r(p),y=n(47),g=r(y),m=n(146),v=a(m),w=n(148),b={config:{},datas:[],heads:[],hidingRows:!1,columns:[],betacolumns:[],fliterDatas:[],mustHideStr:"",mustHideArr:[],pagination:{pageSize:10,total:0,current:1},fliterPagination:{pageSize:10,total:0,current:1},rowSelection:{selectedRowKeys:[]},loading:!1,showType:"1",searchValue:"",searchingforcolValue:"",saveLoading:!1,delDbIds:[],selTreenode:"",isTreenode:!1,showModal:!1,outDbIds:[],impDatas:[],impMsg:[],impLoading:!1,impModal:!1,impPercent:0,impType:0,fatherKey:0,editLogByRemarkVisible:!1,editLogByRemarkDatas:[],editLogByRemarkColumns:[],expandedRowKeys:[]},_=function k(e,t){for(var n=null,r=0;r<t.length&&null===n;r++){var a=t[r];if(a.key===e)n=a;else if(a.children&&a.children.length>0){var o=k(e,a.children);o&&(n=o)}}return n},S=function(e,t,n,r){var a=e.searchValue,o=e.selTreenode,i=e.fatherKey,u=e.fliterPagination,l=e.config,s=l.treetable,d=l.treenode,f=l.rt,c=s&&d&&""!==d&&2!==f,p=c&&""===o&&t.length>0?t[0].key:o,h=new Array;if(c){var y=_(p,t);if(null!==y){var m=y.children,v=(0,g["default"])(y);v.children=!1,h.push(v),m&&m.length>0&&m.map(function(e){var t=(0,g["default"])(e);t.children=!1,h.push(t)})}}if(0!=i&&t.map(function(e){e.fatherKey==i&&h.push(e)}),""!=a)for(var w=a.split(","),b=0;b<t.length;b++){var S=t[b],E=!1;for(var D in S)if("string"==typeof S[D])for(var x=0;x<w.length;x++)S[D].indexOf(w[x])>=0&&(E=!0);E&&h.push(t[b])}var I=h.length/e.pagination.pageSize+1>u.current?u.current:1;return{datas:t,pagination:n,fliterDatas:h,fliterPagination:{pageSize:e.pagination.pageSize,total:h.length,current:I},isTreenode:c,selTreenode:p}},E=function(){var e=(0,g["default"])(S.apply(void 0,arguments));return s({},e,{initDatas:(0,g["default"])(e.datas)})},D=function j(e,t){var n=new Array;return t.map(function(t){e.key=e.key?e.key.toString():"",t.dbKey=t.dbKey?t.dbKey.toString():"";var r=e.key&&"0"!=e.key?e.key.split("."):[],a=t.dbKey&&"0"!=t.dbKey?t.dbKey.split("."):[];if(0===t.dbKey.indexOf(e.key)&&a.length===r.length+1){var o={};t.wdfl.map(function(e){var t=e.value||"",n=e.valuespan||"";"undefined"!=typeof newValue&&""!==newValue&&("1"==e.fieldhtmltype&&"2"==e.type?(t=parseInt(t),n=parseInt(n)):"1"==e.fieldhtmltype&&"3"==e.type&&(t=parseFloat(t),n=parseFloat(n))),e.value&&""!=e.value?(o["wdfield"+e.id]=t,o["wdfield"+e.id+"span"]=n):e.defaultValue&&""!=e.defaultValue?"[nowDate]"==e.defaultValue?(o["wdfield"+e.id]=v.format(new Date,"yyyy-MM-dd"),o["wdfield"+e.id+"span"]=v.format(new Date,"yyyy-MM-dd")):(o["wdfield"+e.id]=e.defaultValue,o["wdfield"+e.id+"span"]=e.defaultValueSpan||e.defaultValue):(o["wdfield"+e.id]=t,o["wdfield"+e.id+"span"]=n),void 0!==e.remarkStatus&&(o["wdfield"+e.id+"remarkstatus"]=e.remarkStatus),void 0!==e.remarkString&&(o["wdfield"+e.id+"remarkstring"]=e.remarkString)}),o.dbId=t.dbId,o.key=t.dbKey,o.fatherKey=t.fatherDbKey,n.push(o)}}),n.length>0&&(e.children=n,e.children=e.children.map(function(e){return j(e,t)})),e},x=function(e){var t=new Array;e.map(function(e,n){var r={};if(e.wdfl.map(function(e){var t=e.value||"",n=e.valuespan||"";"undefined"!=typeof newValue&&""!==newValue&&("1"==e.fieldhtmltype&&"2"==e.type?(t=parseInt(t),n=parseInt(n)):"1"==e.fieldhtmltype&&"3"==e.type&&(t=parseFloat(t),n=parseFloat(n))),e.value&&""!=e.value?(r["wdfield"+e.id]=t,r["wdfield"+e.id+"span"]=n):e.defaultValue&&""!=e.defaultValue?"[nowDate]"==e.defaultValue?(r["wdfield"+e.id]=v.format(new Date,"yyyy-MM-dd"),r["wdfield"+e.id+"span"]=v.format(new Date,"yyyy-MM-dd")):(r["wdfield"+e.id]=e.defaultValue,r["wdfield"+e.id+"span"]=e.defaultValueSpan||e.defaultValue):(r["wdfield"+e.id]=t,r["wdfield"+e.id+"span"]=n),void 0!==e.remarkStatus&&(r["wdfield"+e.id+"remarkstatus"]=e.remarkStatus),void 0!==e.remarkString&&(r["wdfield"+e.id+"remarkstring"]=e.remarkString)}),r.dbId=e.dbId,r.fatherKey=e.fatherDbKey,e.dbKey&&"0"!==e.dbKey&&""!==e.dbKey){e.dbKey=e.dbKey?e.dbKey.toString():"",r.key=e.dbKey;var a=e.dbKey?e.dbKey.split("."):[];1===a.length&&t.push(r)}else r.key=n+1,t.push(r)});var n=new Array;return n=t.map(function(t){return t.dbId&&"0"!==t.dbId&&""!==t.dbId?D(t,e):t})},I=function C(e,t,n,r){return t.children=t.children.map(function(t){if(t.key===e.key){var a=(0,h["default"])({},t);return a["wdfield"+e.fieldId]=e.value,a["wdfield"+e.fieldId+"span"]=e.valueSpan,n.map(function(e){l(e,a)}),a=v.doWfDetailCountRow(a,r)}return t.children&&t.children.length>0?C(e,t,n,r):t}),t},O=function N(e,t){if(e.children&&e.children.length>0){var n=new Array;return e.children.map(function(e){t.indexOf(e.key)<0&&(e=N(e,t),n.push(e))}),n.length>0?e.children=n:delete e.children,e}return e},A=function M(e,t){e.children&&e.children.length>0&&e.children.map(function(e){e.dbId&&e.dbId>0&&t.indexOf(e.dbId)<0&&(t.push(e.dbId),M(e,t))})},T=function L(e,t,n){return e.map(function(e){t.indexOf(e.key)>=0&&e.dbId&&e.dbId>0&&n.indexOf(e.dbId)<0?(n.push(e.dbId),A(e,n)):e.children&&e.children.length>0&&L(e.children,t,n)}),n},R=function W(e,t,n,r){return t.children=t.children.map(function(t){var a=new Array;if(e.indexOf(t.key)>=0){if(n.indexOf(t.key)<0&&n.push(t.key),t.children&&t.children.length>0){var o=t.children,i=t.children[t.children.length-1].key;i=i?i.toString():"";for(var u=i.split("."),l="",d=0;d<u.length-1;d++)l+=u[d]+".";return l+=parseInt(u[u.length-1])+1,o.push(s({},a,{key:l})),(0,h["default"])({},t,{children:o})}return(0,h["default"])({},t,{children:[s({},a,{key:t.key+".1"})]})}return t.children&&t.children.length>0?W(e,t,n,r):t}),t},P=function B(e,t,n,r){for(var a=new Array,o=function(o){var i=e[o],u=(0,g["default"])(i),s=!1;if(void 0!==t)for(var d=0;d<t.length&&!s;d++){var f=t[d];i.key===f.key&&(s=!0,i=(0,h["default"])({},i,f),r.map(function(e){l(e,i)}))}null!==u&&u.children&&u.children.length>0&&(i.children=B(u.children,t,n,r)),i=v.doWfDetailCountRow(i,n),a.push(i)},i=0;i<e.length;i++)o(i);return a}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.INIT_DATAS="init_datas",t.INIT_HEADS="init_heads",t.SET_HEADS="set_heads",t.ADD_ROW="add_row",t.DEL_ROW="del_row",t.SEL_ROW="sel_row",t.GO_PAGE="go_page",t.EDIT_SHOWTYPE="edit_showtype",t.EDIT_CELL="edit_cell",t.SET_DBID="set_dbid",t.SET_DATAS="set_datas",t.SET_DATAS_V2="set_datas_v2",t.ADD_CHILDRENROW="add_childrenrow",t.SET_TREE="set_tree",t.DO_FLITER="do_fliter",t.SHOW_MODAL="show_modal",t.HIDE_MODAL="hide_modal",t.HIDE_ROW="hide_row",t.SHOW_ROW="show_row",t.EXCEL_OUT="excel_out",t.SET_TRIGGER="set_trigger",t.START_LOADING="start_loading",t.END_LOADING="end_loading",t.START_SAVELOADING="start_saveloading",t.END_SAVELOADING="end_saveloading",t.SHOW_IMPMODAL="show_impmodal",t.HIDE_IMPMODAL="hide_impmodal",t.START_IMPLOADING="start_imploading",t.END_IMPLOADING="end_imploading",t.RUN_IMPPERCENT="run_imppercent",t.SET_IMPDATAS="set_impdatas",t.SET_IMPTYPE="set_imptype",t.DO_SEARCH="do_search",t.DO_SEARCH_COL="do_search_col",t.DO_EXCELINPUT="do_excelinput",t.SHOW_EXCELINPUTMSG="show_excelimportmsg",t.LINK_FATHER="link_father",t.ADD_REMARK="add_remark",t.SHOW_EDITLOGBYREMARK="show_editlogbyremark",t.SET_EDITLOGBYREMARK="set_editlogbyremark",t.SET_EXPANDROWKEYS="set_expandrowkeys"},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=(t.linkPromise=function(){new Promise(function(e,t){e(!0)})},function(e){var t="";for(var n in e)t+=n+"="+encodeURIComponent(e[n])+"&";return""!=t&&(t=t.substring(0,t.length-1)),t});t.doWfDetailRowGetP=function(e){return new Promise(function(t,n){fetch("/api/app/no0000012/detail/config",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r({wfId:e.wfId,nodeId:e.nodeId,detailNum:e.dn,isSet:1})}).then(function(e){var r=e.json();r&&r.status&&"false"===r.status?n(r.error?r.error:"后端数据处理异常"):t(r)})["catch"](function(e){n("后端AJAX异常:",e)})})},t.doWfDetailListGetP=function(e){return new Promise(function(t,a){var o=e.min,i=e.max,u=e.current,l=e.pageSize;fetch("/api/app/no0000012/detail/list",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r(n({wfId:e.wfId,nodeId:e.nodeId,detailNum:e.dn,reqId:e.reqId,heads:JSON.stringify(e.heads)},"undefined"!=typeof u?{current:u}:{},"undefined"!=typeof l?{pageSize:l}:{},"undefined"!=typeof o?{min:o,max:i}:{}))}).then(function(e){var n=e.json();n&&n.status&&"false"===n.status?a(n.error?n.error:"后端数据处理异常"):t(n)})["catch"](function(e){a("后端AJAX异常:",e)})})},t.doWfDetailListGetPV2=function(e){return new Promise(function(t,a){var o=e.min,i=e.max,u=e.current,l=e.pageSize;fetch("/api/app/no0000012/detail/simplifylist",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r(n({wfId:e.wfId,nodeId:e.nodeId,detailNum:e.dn,reqId:e.reqId,heads:JSON.stringify(e.heads)},"undefined"!=typeof u?{current:u}:{},"undefined"!=typeof l?{pageSize:l}:{},"undefined"!=typeof o?{min:o,max:i}:{}))}).then(function(e){var n=e.json();n&&n.status&&"false"===n.status?a(n.error?n.error:"后端数据处理异常"):t(n)})["catch"](function(e){a("后端AJAX异常:",e)})})},t.doWfDetailDelMultP=function(e){return new Promise(function(t,n){fetch("/api/app/no0000012/detail/del",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r({reqId:e.reqId,wfId:e.wfId,dn:e.dn,heads:JSON.stringify(e.heads),delDbIds:e.delDbIds?e.delDbIds.join(","):""})}).then(function(e){var r=e.json();r&&r.status&&"false"===r.status?n(r.error?r.error:"后端数据处理异常"):t(r)})["catch"](function(e){n("后端AJAX异常:",e)})})},t.doWfDetailSaveMultP=function(e){return new Promise(function(t,n){fetch("/api/app/no0000012/detail/save",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r({startFlag:e.startFlag,reqId:e.reqId,wfId:e.wfId,dn:e.dn,type:e.type,heads:JSON.stringify(e.heads),values:JSON.stringify(e.values)})}).then(function(e){var r=e.json();r&&r.status&&"false"===r.status?n(r.error?r.error:"后端数据处理异常"):t(r)})["catch"](function(e){n("后端AJAX异常:",e)})})},t.doWfDetailTriggerP=function(e){return new Promise(function(t,n){fetch("/api/app/no0000012/detail/trigger",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r({wfId:e.wfId,heads:JSON.stringify(e.heads),datas:JSON.stringify(e.datas),triggerSet:JSON.stringify(e.triggerSet),detailNum:parseInt(e.dn)+1,startFlag:e.startFlag})}).then(function(e){var r=e.json();r&&r.status&&"false"===r.status?n(r.error?r.error:"后端数据处理异常"):t(r)})["catch"](function(e){n("后端AJAX异常:",e)})})},t.doWfDetailExcelOutP=function(e){return new Promise(function(t,n){fetch("/api/app/no0000012/detail/export",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r({reqId:e.reqId,wfId:e.wfId,heads:JSON.stringify(e.heads),dn:e.dn,dbIds:0===e.outDbIds.length?"all":e.outDbIds.join(","),excelOutputAll:e.excelOutputAll})}).then(function(e){return e.text()}).then(function(e){var r=e;r&&r.status&&"false"===r.status?n(r.error?r.error:"后端数据处理异常"):t(r)})["catch"](function(e){n("后端AJAX异常:",e)})})},t.doWfDetailFnaTriggerP=function(e){return new Promise(function(t,n){fetch("/cloudstore/fna/FnaBudgetInfoAjax.jsp",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r({budgetfeetype:e.km,orgtype:e.cdztlx,orgid:e.cdzt,applydate:e.rq,dtl_id:e.dtl_id,requestid:e.requestid})}).then(function(e){return e.text()}).then(function(e){var r=e;r&&r.status&&"false"===r.status?n(r.error?r.error:"后端数据处理异常"):t(r)})["catch"](function(e){n("后端AJAX异常:",e)})})},t.doWfDetailSqlTriggerP=function(e){return new Promise(function(t,n){fetch("/api/app/no0000012/detail/sqltrigger",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r({values:JSON.stringify(e.triggerSqls),reqId:e.reqId})}).then(function(e){return e.json()}).then(function(e){var r=e;r&&r.status&&"false"===r.status?n(r.error?r.error:"后端数据处理异常"):t(r)})["catch"](function(e){n("后端AJAX异常:",e)})})},t.doWfDetailEditByRemark=function(e){var t=e.detailtable,n=e.reqId,a=e.values;return new Promise(function(e,o){return fetch("/api/app/no0000012/detail/remark",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r({detailtable:t,reqId:n,values:JSON.stringify(a)})}).then(function(e){return e.json()}).then(function(t){t&&t.status&&"false"===t.status?o(t.error?t.error:"后端数据处理异常"):e(t)})["catch"](function(e){o("后端AJAX异常:",e)})})},t.doWfDetailEditLogByRemark=function(e){return new Promise(function(t,n){return fetch("/api/app/no0000012/detail/remark?"+r(e),{method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include"}).then(function(e){return e.json()}).then(function(e){e&&e.status&&"false"===e.status?n(e.error?e.error:"后端数据处理异常"):t(e)})["catch"](function(e){n("后端AJAX异常:",e)})})},t.doWfDetailRemark=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,n){return fetch("/api/app/no0000012/detail/remarklog",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:r(e)}).then(function(e){return e.json()}).then(function(e){e&&e.status&&"false"===e.status?n(e.error?e.error:"后端数据处理异常"):t(e)})["catch"](function(e){n("后端AJAX异常:",e)})})},t.doWfDetailRemarkLog=function(e){return new Promise(function(t,n){return fetch("/api/app/no0000012/detail/remarklog?"+r(e),{method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include"}).then(function(e){return e.json()}).then(function(e){e&&e.status&&"false"===e.status?n(e.error?e.error:"后端数据处理异常"):t(e)})["catch"](function(e){n("后端AJAX异常:",e)})})}},function(e,t,n){function r(e){return a(e,o|i)}var a=n(48),o=1,i=4;e.exports=r},function(e,t,n){function r(e,t,n,T,R,P){var k,N=t&x,M=t&I,W=t&O;if(n&&(k=R?n(e,T,R,P):n(e)),void 0!==k)return k;if(!S(e))return e;var B=w(e);if(B){if(k=g(e),!N)return d(e,k)}else{var q=y(e),F=q==j||q==C;if(b(e))return s(e,N);if(q==L||q==A||F&&!R){if(k=M||F?{}:v(e),!N)return M?c(e,l(k,e)):f(e,u(k,e))}else{if(!ee[q])return R?e:{};k=m(e,q,N)}}P||(P=new a);var U=P.get(e);if(U)return U;if(P.set(e,k),E(e))return e.forEach(function(a){k.add(r(a,t,n,a,e,P))}),k;if(_(e))return e.forEach(function(a,o){k.set(o,r(a,t,n,o,e,P))}),k;var z=W?M?h:p:M?keysIn:D,K=B?void 0:z(e);return o(K||e,function(a,o){K&&(o=a,a=e[o]),i(k,o,r(a,t,n,o,e,P))}),k}var a=n(49),o=n(87),i=n(88),u=n(91),l=n(111),s=n(115),d=n(116),f=n(117),c=n(121),p=n(124),h=n(126),y=n(127),g=n(132),m=n(133),v=n(140),w=n(98),b=n(99),_=n(142),S=n(67),E=n(144),D=n(93),x=1,I=2,O=4,A="[object Arguments]",T="[object Array]",R="[object Boolean]",P="[object Date]",k="[object Error]",j="[object Function]",C="[object GeneratorFunction]",N="[object Map]",M="[object Number]",L="[object Object]",W="[object RegExp]",B="[object Set]",q="[object String]",F="[object Symbol]",U="[object WeakMap]",z="[object ArrayBuffer]",K="[object DataView]",G="[object Float32Array]",H="[object Float64Array]",V="[object Int8Array]",Q="[object Int16Array]",X="[object Int32Array]",Y="[object Uint8Array]",J="[object Uint8ClampedArray]",$="[object Uint16Array]",Z="[object Uint32Array]",ee={};ee[A]=ee[T]=ee[z]=ee[K]=ee[R]=ee[P]=ee[G]=ee[H]=ee[V]=ee[Q]=ee[X]=ee[N]=ee[M]=ee[L]=ee[W]=ee[B]=ee[q]=ee[F]=ee[Y]=ee[J]=ee[$]=ee[Z]=!0,ee[k]=ee[j]=ee[U]=!1,e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new a(e);this.size=t.size}var a=n(50),o=n(58),i=n(59),u=n(60),l=n(61),s=n(62);r.prototype.clear=o,r.prototype["delete"]=i,r.prototype.get=u,r.prototype.has=l,r.prototype.set=s,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(51),o=n(52),i=n(55),u=n(56),l=n(57);r.prototype.clear=a,r.prototype["delete"]=o,r.prototype.get=i,r.prototype.has=u,r.prototype.set=l,e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=a(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():i.call(t,n,1),--this.size,!0}var a=n(53),o=Array.prototype,i=o.splice;e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(a(e[n][0],t))return n;return-1}var a=n(54);e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]}var a=n(53);e.exports=r},function(e,t,n){function r(e){return a(this.__data__,e)>-1}var a=n(53);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=a(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var a=n(53);e.exports=r},function(e,t,n){function r(){this.__data__=new a,this.size=0}var a=n(50);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof a){var r=n.__data__;if(!o||r.length<u-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(r)}return n.set(e,t),this.size=n.size,this}var a=n(50),o=n(63),i=n(72),u=200;e.exports=r},function(e,t,n){var r=n(64),a=n(12),o=r(a,"Map");e.exports=o},function(e,t,n){function r(e,t){var n=o(e,t);return a(n)?n:void 0;
}var a=n(65),o=n(71);e.exports=r},function(e,t,n){function r(e){if(!i(e)||o(e))return!1;var t=a(e)?h:s;return t.test(u(e))}var a=n(66),o=n(68),i=n(67),u=n(70),l=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,c=d.toString,p=f.hasOwnProperty,h=RegExp("^"+c.call(p).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){if(!o(e))return!1;var t=a(e);return t==u||t==l||t==i||t==s}var a=n(10),o=n(67),i="[object AsyncFunction]",u="[object Function]",l="[object GeneratorFunction]",s="[object Proxy]";e.exports=r},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function r(e){return!!o&&o in e}var a=n(69),o=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t,n){var r=n(12),a=r["__core-js_shared__"];e.exports=a},function(e,t){function n(e){if(null!=e){try{return a.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var r=Function.prototype,a=r.toString;e.exports=n},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(73),o=n(81),i=n(84),u=n(85),l=n(86);r.prototype.clear=a,r.prototype["delete"]=o,r.prototype.get=i,r.prototype.has=u,r.prototype.set=l,e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new a,map:new(i||o),string:new a}}var a=n(74),o=n(50),i=n(63);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(75),o=n(77),i=n(78),u=n(79),l=n(80);r.prototype.clear=a,r.prototype["delete"]=o,r.prototype.get=i,r.prototype.has=u,r.prototype.set=l,e.exports=r},function(e,t,n){function r(){this.__data__=a?a(null):{},this.size=0}var a=n(76);e.exports=r},function(e,t,n){var r=n(64),a=r(Object,"create");e.exports=a},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(a){var n=t[e];return n===o?void 0:n}return u.call(t,e)?t[e]:void 0}var a=n(76),o="__lodash_hash_undefined__",i=Object.prototype,u=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return a?void 0!==t[e]:i.call(t,e)}var a=n(76),o=Object.prototype,i=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?o:t,this}var a=n(76),o="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){var t=a(this,e)["delete"](e);return this.size-=t?1:0,t}var a=n(82);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return a(t)?n["string"==typeof t?"string":"hash"]:n.map}var a=n(83);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return a(this,e).get(e)}var a=n(82);e.exports=r},function(e,t,n){function r(e){return a(this,e).has(e)}var a=n(82);e.exports=r},function(e,t,n){function r(e,t){var n=a(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var a=n(82);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}e.exports=n},function(e,t,n){function r(e,t,n){var r=e[t];u.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||a(e,t,n)}var a=n(89),o=n(54),i=Object.prototype,u=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var a=n(90);e.exports=r},function(e,t,n){var r=n(64),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},function(e,t,n){function r(e,t){return e&&a(t,o(t),e)}var a=n(92),o=n(93);e.exports=r},function(e,t,n){function r(e,t,n,r){var i=!n;n||(n={});for(var u=-1,l=t.length;++u<l;){var s=t[u],d=r?r(n[s],e[s],s,n,e):void 0;void 0===d&&(d=e[s]),i?o(n,s,d):a(n,s,d)}return n}var a=n(88),o=n(89);e.exports=r},function(e,t,n){function r(e){return i(e)?a(e):o(e)}var a=n(94),o=n(107),i=n(110);e.exports=r},function(e,t,n){function r(e,t){var n=i(e),r=!n&&o(e),d=!n&&!r&&u(e),c=!n&&!r&&!d&&s(e),p=n||r||d||c,h=p?a(e.length,String):[],y=h.length;for(var g in e)!t&&!f.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||c&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,y))||h.push(g);return h}var a=n(95),o=n(96),i=n(98),u=n(99),l=n(101),s=n(102),d=Object.prototype,f=d.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){var r=n(97),a=n(18),o=Object.prototype,i=o.hasOwnProperty,u=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!u.call(e,"callee")};e.exports=l},function(e,t,n){function r(e){return o(e)&&a(e)==i}var a=n(10),o=n(18),i="[object Arguments]";e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var r=n(12),a=n(100),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,u=i&&i.exports===o,l=u?r.Buffer:void 0,s=l?l.isBuffer:void 0,d=s||a;e.exports=d}).call(t,n(20)(e))},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(e,t){var n=typeof e;return t=null==t?r:t,!!t&&("number"==n||"symbol"!=n&&a.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,a=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){var r=n(103),a=n(105),o=n(106),i=o&&o.isTypedArray,u=i?a(i):r;e.exports=u},function(e,t,n){function r(e){return i(e)&&o(e.length)&&!!P[a(e)]}var a=n(10),o=n(104),i=n(18),u="[object Arguments]",l="[object Array]",s="[object Boolean]",d="[object Date]",f="[object Error]",c="[object Function]",p="[object Map]",h="[object Number]",y="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",D="[object Int8Array]",x="[object Int16Array]",I="[object Int32Array]",O="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",R="[object Uint32Array]",P={};P[S]=P[E]=P[D]=P[x]=P[I]=P[O]=P[A]=P[T]=P[R]=!0,P[u]=P[l]=P[b]=P[s]=P[_]=P[d]=P[f]=P[c]=P[p]=P[h]=P[y]=P[g]=P[m]=P[v]=P[w]=!1,e.exports=r},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var r=n(13),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a,u=i&&r.process,l=function(){try{var e=o&&o.require&&o.require("util").types;return e?e:u&&u.binding&&u.binding("util")}catch(t){}}();e.exports=l}).call(t,n(20)(e))},function(e,t,n){function r(e){if(!a(e))return o(e);var t=[];for(var n in Object(e))u.call(e,n)&&"constructor"!=n&&t.push(n);return t}var a=n(108),o=n(109),i=Object.prototype,u=i.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||r;return e===n}var r=Object.prototype;e.exports=n},function(e,t,n){var r=n(17),a=r(Object.keys,Object);e.exports=a},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!a(e)}var a=n(66),o=n(104);e.exports=r},function(e,t,n){function r(e,t){return e&&a(t,o(t),e)}var a=n(92),o=n(112);e.exports=r},function(e,t,n){function r(e){return i(e)?a(e,!0):o(e)}var a=n(94),o=n(113),i=n(110);e.exports=r},function(e,t,n){function r(e){if(!a(e))return i(e);var t=o(e),n=[];for(var r in e)("constructor"!=r||!t&&l.call(e,r))&&n.push(r);return n}var a=n(67),o=n(108),i=n(114),u=Object.prototype,l=u.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}var a=n(12),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,u=i&&i.exports===o,l=u?a.Buffer:void 0,s=l?l.allocUnsafe:void 0;e.exports=r}).call(t,n(20)(e))},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e,t){return a(e,o(e),t)}var a=n(92),o=n(118);e.exports=r},function(e,t,n){var r=n(119),a=n(120),o=Object.prototype,i=o.propertyIsEnumerable,u=Object.getOwnPropertySymbols,l=u?function(e){return null==e?[]:(e=Object(e),r(u(e),function(t){return i.call(e,t)}))}:a;e.exports=l},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}e.exports=n},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function r(e,t){return a(e,o(e),t)}var a=n(92),o=n(122);e.exports=r},function(e,t,n){var r=n(123),a=n(16),o=n(118),i=n(120),u=Object.getOwnPropertySymbols,l=u?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=l},function(e,t){function n(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){return a(e,i,o)}var a=n(125),o=n(118),i=n(93);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return o(e)?r:a(r,n(e))}var a=n(123),o=n(98);e.exports=r},function(e,t,n){function r(e){return a(e,i,o)}var a=n(125),o=n(122),i=n(112);e.exports=r},function(e,t,n){var r=n(128),a=n(63),o=n(129),i=n(130),u=n(131),l=n(10),s=n(70),d="[object Map]",f="[object Object]",c="[object Promise]",p="[object Set]",h="[object WeakMap]",y="[object DataView]",g=s(r),m=s(a),v=s(o),w=s(i),b=s(u),_=l;(r&&_(new r(new ArrayBuffer(1)))!=y||a&&_(new a)!=d||o&&_(o.resolve())!=c||i&&_(new i)!=p||u&&_(new u)!=h)&&(_=function(e){var t=l(e),n=t==f?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case g:return y;case m:return d;case v:return c;case w:return p;case b:return h}return t}),e.exports=_},function(e,t,n){var r=n(64),a=n(12),o=r(a,"DataView");e.exports=o},function(e,t,n){var r=n(64),a=n(12),o=r(a,"Promise");e.exports=o},function(e,t,n){var r=n(64),a=n(12),o=r(a,"Set");e.exports=o},function(e,t,n){var r=n(64),a=n(12),o=r(a,"WeakMap");e.exports=o},function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&a.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,a=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case m:return a(e);case s:case d:return new r(+e);case v:return o(e,n);case w:case b:case _:case S:case E:case D:case x:case I:case O:return l(e,n);case f:return new r;case c:case y:return new r(e);case p:return i(e);case h:return new r;case g:return u(e)}}var a=n(134),o=n(136),i=n(137),u=n(138),l=n(139),s="[object Boolean]",d="[object Date]",f="[object Map]",c="[object Number]",p="[object RegExp]",h="[object Set]",y="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",D="[object Uint8Array]",x="[object Uint8ClampedArray]",I="[object Uint16Array]",O="[object Uint32Array]";e.exports=r},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new a(t).set(new a(e)),t}var a=n(135);e.exports=r},function(e,t,n){var r=n(12),a=r.Uint8Array;e.exports=a},function(e,t,n){function r(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var a=n(134);e.exports=r},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e){return i?Object(i.call(e)):{}}var a=n(11),o=a?a.prototype:void 0,i=o?o.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var a=n(134);e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||i(e)?{}:a(o(e))}var a=n(141),o=n(16),i=n(108);e.exports=r},function(e,t,n){var r=n(67),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(143),a=n(105),o=n(106),i=o&&o.isMap,u=i?a(i):r;e.exports=u},function(e,t,n){function r(e){return o(e)&&a(e)==i}var a=n(127),o=n(18),i="[object Map]";e.exports=r},function(e,t,n){var r=n(145),a=n(105),o=n(106),i=o&&o.isSet,u=i?a(i):r;e.exports=u},function(e,t,n){function r(e){return o(e)&&a(e)==i}var a=n(127),o=n(18),i="[object Set]";e.exports=r},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatFnaResult=exports.formatNumber=exports.doWfDetailFormulaCol=exports.format=exports.div1=exports.mul1=exports.cut1=exports.isNumber=exports.add1=exports.getDateStr=exports.doWfDetailCountRow=exports.doWfDetailCountCol=exports.doWfDetailResize=exports.doWfDetailEditTypeGet=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_bignumber=__webpack_require__(147),doWfDetailEditTypeGet=exports.doWfDetailEditTypeGet=function(e,t,n,r,a){if(a){for(var o=0;o<a.length;o++)for(var i=a[o],u=i.changefieldids?i.changefieldids.split(","):[],l=0;l<u.length;l++){var s=u[l].split("_")[0];if(s===r){var d=i.selectfieldid.split("_"),f="";if(2===d.length&&(f=parseInt(n["wdfield"+d[0]])),f===parseInt(i.selectfieldvalue)){if("1"===i.viewattr)return 1;if("2"===i.viewattr)return 2;if("3"===i.viewattr)return 0}}}return e}},w=9999,doWfDetailResize=exports.doWfDetailResize=function(e,t){var n=window.sessionStorage.getItem("WfDetailWeight"+e);if(null==n||""==n||void 0==n||!n||"null"==n){var r=jQuery(window).width()-30||9999,a=jQuery("#wfDetail_"+e).parent().width()-14||9999,o=jQuery(".excelMainTable").width()||jQuery(".maintable").width()||9999,i=jQuery(".excelOuterTable").width()||jQuery(".outerTable").width()||9999,u=a<=r&&a>0?a:o<=r?o:i<=r?i:r;w=u>w&&w>0?w:u;var l=window["wfDetail_"+e+"_width"];l>0&&(w=l<w?l:w),n=w,void 0!==e&&9999!==w&&window.sessionStorage.setItem("WfDetailWeight"+e,w)}if(t)if(t.indexOf("%")>0){var s=Number(t.split("%")[0])/100*n;jQuery("#wfDetail_"+e).width(s),jQuery(".ant-table-scroll-custom"+e).width(s)}else jQuery("#wfDetail_"+e).width(t),jQuery(".ant-table-scroll-custom"+e).width(t),jQuery(".ant-table-treenode"+e).width(t-285);else jQuery("#wfDetail_"+e).width(n),jQuery(".ant-table-scroll-custom"+e).width(n),jQuery(".ant-table-treenode"+e).width(n-285)},doWfDetailCountCol=exports.doWfDetailCountCol=function(e,t,n){if(e&&e.maincalstr)for(var r=e.maincalstr.split(";"),a=0;a<r.length;a++){var o=r[a].split("=");if(2==o.length){for(var i=o[1].replace("detailfield_","wdfield"),u=o[0].replace("mainfield_","field"),l=!1,s=0;s<n.length&&!l;s++)"wdfield"+n[s].id==i&&(l=!0);for(var d=0,f=0;f<t.length&&jQuery("#"+u).length>0&&l;f++){var c=t[f],p=0;c[i]&&(p=c[i].toString().replace(/,/g,"")),isNumber(p)||(p=0),p=p&&""!=p?parseFloat(p):0,d=new _bignumber.BigNumber(d),d=d.plus(new _bignumber.BigNumber(p)).toNumber()}jQuery("#"+u).length>0&&l&&(jQuery("#"+u).val(d),"hidden"==jQuery("#"+u).attr("type")&&jQuery("#"+u+"span").html(d))}}},doWfDetailCountRow=exports.doWfDetailCountRow=function doWfDetailCountRow(data,config){var wfd=config.wfd,wdfl=config.wdfl;if(!wfd||!wfd.rowcalstr)return data;try{var _ret=function(){for(var rowCalStrArr=wfd.rowcalstr.split(";"),obj=_extends({},data),returnObj=_extends({},data),_loop=function _loop(i){var rowCalStr=rowCalStrArr[i].toString().replace(new RegExp("detailfield_","gm"),"obj.wdfield"),rowCalIds=rowCalStrArr[i].toString().match(/\d+/gi)||[];wdfl.map(function(e){rowCalIds.some(function(t){return t==e.id})&&(2==e.type&&(obj["wdfield"+e.id]=obj["wdfield"+e.id]?parseInt(obj["wdfield"+e.id]):0,obj["wdfield"+e.id+"span"]=obj["wdfield"+e.id+"span"]?parseInt(obj["wdfield"+e.id+"span"]):0),3!=e.type&&5!=e.type||(obj["wdfield"+e.id]=obj["wdfield"+e.id]?parseFloat(obj["wdfield"+e.id]):0,obj["wdfield"+e.id+"span"]=obj["wdfield"+e.id+"span"]?parseFloat(obj["wdfield"+e.id+"span"]):0))});var objKey=rowCalStr.split("=")[0].split(".")[1];eval(rowCalStr),returnObj[objKey]=obj[objKey],wdfl.map(function(e){rowCalIds.some(function(t){return t==e.id})&&3!=e.fieldhtmltype&&6!=e.fieldhtmltype&&4!=e.fieldhtmltype&&5!=e.fieldhtmltype&&(5!=e.type&&3!=e.type||(returnObj["wdfield"+e.id]=returnObj["wdfield"+e.id]?formatNumber(parseFloat(returnObj["wdfield"+e.id]),parseInt(e.qfws),0):0,returnObj["wdfield"+e.id+"span"]=formatNumber(parseFloat(returnObj["wdfield"+e.id]),parseInt(e.qfws),0)),2==e.type&&(returnObj["wdfield"+e.id]=(returnObj["wdfield"+e.id]?Math.round(returnObj["wdfield"+e.id]):0)+"",returnObj["wdfield"+e.id+"span"]=returnObj["wdfield"+e.id]))}),returnObj[objKey+"span"]=obj[objKey],"-Infinity"==returnObj[objKey+"span"]&&(returnObj[objKey+"span"]=0,returnObj[objKey]=0)},i=0;i<rowCalStrArr.length;i++)_loop(i);return{v:returnObj}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}catch(e){}},getDateStr=exports.getDateStr=function(e){var t=new Date,n=new Date(t);n.setDate(t.getDate()+7);var r=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();return r},add1=exports.add1=function(e,t){var n=void 0,r=void 0,a=void 0;try{n=e.toString().split(".")[1].length}catch(o){n=0}try{r=t.toString().split(".")[1].length}catch(o){r=0}return a=Math.pow(10,Math.max(n,r)),window.console&&console.log(" arg1 ",e," arg2 ",t," r1 ",n," r2 ",r," m ",a," result ",(e*a+t*a)/a),(e*a+t*a)/a},isNumber=exports.isNumber=function(e){var t=/^\d+(\.\d+)?$/,n=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!t.test(e)&&!n.test(e))},cut1=exports.cut1=function(e,t){var n,r,a,o;try{n=e.toString().split(".")[1].length}catch(i){n=0}try{r=t.toString().split(".")[1].length}catch(i){r=0}return a=Math.pow(10,Math.max(n,r)),o=n>=r?n:r,((e*a-t*a)/a).toFixed(o)},mul1=exports.mul1=function(e,t){var n=0,r=e.toString(),a=t.toString();try{n+=r.split(".")[1].length}catch(o){}try{n+=a.split(".")[1].length}catch(o){}return Number(r.replace(".",""))*Number(a.replace(".",""))/Math.pow(10,n)},div1=exports.div1=function(e,t){var n,r,a=0,o=0;try{a=e.toString().split(".")[1].length}catch(i){}try{o=t.toString().split(".")[1].length}catch(i){}return n=Number(e.toString().replace(".","")),r=Number(t.toString().replace(".","")),n/r*pow(10,o-a)},format=exports.format=function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},doWfDetailFormulaCol=exports.doWfDetailFormulaCol=function(e,t,n,r){if(t&&""!=t&&n&&0!=n){var a=t.split("_"),o=parseInt(a[3].substring(2))-1;try{wfDetail.doFatherFormula(o,n,e,r)}catch(i){alert(i)}}},formatNumber=exports.formatNumber=function(e,t,n,r){e=e.toString().replace(/\$|\,/g,""),e=1==t?parseInt(e):parseFloat(e).toFixed(t);var a="";if(0==n)a=e;else{var o=e==(e=Math.abs(e));for(e=Math.floor(e*Math.pow(10,t)+.50000000001),cents=e%Math.pow(10,t),e=Math.floor(e/Math.pow(10,t)).toString(),cents=cents.toString();cents.length<t;)cents="0"+cents;for(cents=cents.toString();cents.length<t;)cents="0"+cents;for(var i=0;i<Math.floor((e.length-(1+i))/3);i++)e=e.substring(0,e.length-(4*i+3))+","+e.substring(e.length-(4*i+3));a=0==t?(o?"":"-")+e:(o?"":"-")+e+"."+cents}return a},formatFnaResult=exports.formatFnaResult=function(e){if(e){var t=e.split(",");return"可用预算："+t[0]+"<br>已发生费用："+t[1]+"<br>审批中费用："+t[2]}}},function(e,t,n){var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){"use strict";function i(e){function t(e,n){var r,a,o,i,u,l,s,f,c=this;if(!(c instanceof t))return new t(e,n);if(null==n){if(e instanceof t)return c.s=e.s,c.e=e.e,void(c.c=(e=e.c)?e.slice():e);if(l="number"==typeof e,l&&0*e==0){if(c.s=1/e<0?(e=-e,-1):1,e===~~e){for(i=0,u=e;u>=10;u/=10,i++);return c.e=i,void(c.c=[e])}f=String(e)}else{if(f=String(e),!y.test(f))return T(c,f,l);c.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(i=f.indexOf("."))>-1&&(f=f.replace(".","")),(u=f.search(/e/i))>0?(i<0&&(i=u),i+=+f.slice(u+1),f=f.substring(0,u)):i<0&&(i=f.length)}else{if(d(n,2,U.length,"Base"),f=String(e),10==n)return c=new t(e instanceof t?e:f),h(c,k+c.e+1,j);if(l="number"==typeof e){if(0*e!=0)return T(c,f,l,n);if(c.s=1/e<0?(f=f.slice(1),-1):1,t.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(w+e);l=!1}else c.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=U.slice(0,n),i=u=0,s=f.length;u<s;u++)if(r.indexOf(a=f.charAt(u))<0){if("."==a){if(u>i){i=s;continue}}else if(!o&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){o=!0,u=-1,i=0;continue}return T(c,String(e),l,n)}f=A(f,n,10,c.s),(i=f.indexOf("."))>-1?f=f.replace(".",""):i=f.length}for(u=0;48===f.charCodeAt(u);u++);for(s=f.length;48===f.charCodeAt(--s););if(f=f.slice(u,++s)){if(s-=u,l&&t.DEBUG&&s>15&&(e>S||e!==m(e)))throw Error(w+c.s*e);if(i=i-u-1,i>L)c.c=c.e=null;else if(i<M)c.c=[c.e=0];else{if(c.e=i,c.c=[],u=(i+1)%_,i<0&&(u+=_),u<s){for(u&&c.c.push(+f.slice(0,u)),s-=_;u<s;)c.c.push(+f.slice(u,u+=_));f=f.slice(u),u=_-f.length}else u-=s;for(;u--;f+="0");c.c.push(+f)}}else c.c=[c.e=0]}function n(e,n,r,a){var o,i,u,s,f;if(null==r?r=j:d(r,0,8),!e.c)return e.toString();if(o=e.c[0],u=e.e,null==n)f=l(e.c),f=1==a||2==a&&(u<=C||u>=N)?c(f,u):p(f,u,"0");else if(e=h(new t(e),n,r),i=e.e,f=l(e.c),s=f.length,1==a||2==a&&(n<=i||i<=C)){for(;s<n;f+="0",s++);f=c(f,i)}else if(n-=u,f=p(f,i,"0"),i+1>s){if(--n>0)for(f+=".";n--;f+="0");}else if(n+=i-s,n>0)for(i+1==s&&(f+=".");n--;f+="0");return e.s<0&&o?"-"+f:f}function r(e,n){for(var r,a=1,o=new t(e[0]);a<e.length;a++){if(r=new t(e[a]),!r.s){o=r;break}n.call(o,r)&&(o=r)}return o}function o(e,t,n){for(var r=1,a=t.length;!t[--a];t.pop());for(a=t[0];a>=10;a/=10,r++);return(n=r+n*_-1)>L?e.c=e.e=null:n<M?e.c=[e.e=0]:(e.e=n,e.c=t),e}function h(e,t,n,r){var a,o,i,u,l,s,d,f=e.c,c=E;if(f){e:{for(a=1,u=f[0];u>=10;u/=10,a++);if(o=t-a,o<0)o+=_,i=t,l=f[s=0],d=l/c[a-i-1]%10|0;else if(s=g((o+1)/_),s>=f.length){if(!r)break e;for(;f.length<=s;f.push(0));l=d=0,a=1,o%=_,i=o-_+1}else{for(l=u=f[s],a=1;u>=10;u/=10,a++);o%=_,i=o-_+a,d=i<0?0:l/c[a-i-1]%10|0}if(r=r||t<0||null!=f[s+1]||(i<0?l:l%c[a-i-1]),r=n<4?(d||r)&&(0==n||n==(e.s<0?3:2)):d>5||5==d&&(4==n||r||6==n&&(o>0?i>0?l/c[a-i]:0:f[s-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,r?(t-=e.e+1,f[0]=c[(_-t%_)%_],e.e=-t||0):f[0]=e.e=0,e;if(0==o?(f.length=s,u=1,s--):(f.length=s+1,u=c[_-o],f[s]=i>0?m(l/c[a-i]%c[i])*u:0),r)for(;;){if(0==s){for(o=1,i=f[0];i>=10;i/=10,o++);for(i=f[0]+=u,u=1;i>=10;i/=10,u++);o!=u&&(e.e++,f[0]==b&&(f[0]=1));break}if(f[s]+=u,f[s]!=b)break;f[s--]=0,u=1}for(o=f.length;0===f[--o];f.pop());}e.e>L?e.c=e.e=null:e.e<M&&(e.c=[e.e=0])}return e}function I(e){var t,n=e.e;return null===n?e.toString():(t=l(e.c),t=n<=C||n>=N?c(t,n):p(t,n,"0"),e.s<0?"-"+t:t)}var O,A,T,R=t.prototype={constructor:t,toString:null,valueOf:null},P=new t(1),k=20,j=4,C=-7,N=21,M=-1e7,L=1e7,W=!1,B=1,q=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},U="0123456789abcdefghijklmnopqrstuvwxyz";return t.clone=i,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=function(e){var t,n;if(null!=e){if("object"!=("undefined"==typeof e?"undefined":a(e)))throw Error(v+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(n=e[t],d(n,0,x,t),k=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(n=e[t],d(n,0,8,t),j=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&(n=e[t],n&&n.pop?(d(n[0],-x,0,t),d(n[1],0,x,t),C=n[0],N=n[1]):(d(n,-x,x,t),C=-(N=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if(n=e[t],n&&n.pop)d(n[0],-x,-1,t),d(n[1],1,x,t),M=n[0],L=n[1];else{if(d(n,-x,x,t),!n)throw Error(v+t+" cannot be zero: "+n);M=-(L=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if(n=e[t],n!==!!n)throw Error(v+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw W=!n,Error(v+"crypto unavailable");W=n}else W=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(n=e[t],d(n,0,9,t),B=n),e.hasOwnProperty(t="POW_PRECISION")&&(n=e[t],d(n,0,x,t),q=n),e.hasOwnProperty(t="FORMAT")){if(n=e[t],"object"!=("undefined"==typeof n?"undefined":a(n)))throw Error(v+t+" not an object: "+n);F=n}if(e.hasOwnProperty(t="ALPHABET")){if(n=e[t],"string"!=typeof n||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(v+t+" invalid: "+n);U=n}}return{DECIMAL_PLACES:k,ROUNDING_MODE:j,EXPONENTIAL_AT:[C,N],RANGE:[M,L],CRYPTO:W,MODULO_MODE:B,POW_PRECISION:q,FORMAT:F,ALPHABET:U}},t.isBigNumber=function(e){return e instanceof t||e&&e._isBigNumber===!0||!1},t.maximum=t.max=function(){return r(arguments,R.lt)},t.minimum=t.min=function(){return r(arguments,R.gt)},t.random=function(){var e=9007199254740992,n=Math.random()*e&2097151?function(){return m(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var r,a,o,i,u,l=0,s=[],f=new t(P);if(null==e?e=k:d(e,0,x),i=g(e/_),W)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(i*=2));l<i;)u=131072*r[l]+(r[l+1]>>>11),u>=9e15?(a=crypto.getRandomValues(new Uint32Array(2)),r[l]=a[0],r[l+1]=a[1]):(s.push(u%1e14),l+=2);l=i/2}else{if(!crypto.randomBytes)throw W=!1,Error(v+"crypto unavailable");for(r=crypto.randomBytes(i*=7);l<i;)u=281474976710656*(31&r[l])+1099511627776*r[l+1]+4294967296*r[l+2]+16777216*r[l+3]+(r[l+4]<<16)+(r[l+5]<<8)+r[l+6],u>=9e15?crypto.randomBytes(7).copy(r,l):(s.push(u%1e14),l+=7);l=i/7}if(!W)for(;l<i;)u=n(),u<9e15&&(s[l++]=u%1e14);for(i=s[--l],e%=_,i&&e&&(u=E[_-e],s[l]=m(i/u)*u);0===s[l];s.pop(),l--);if(l<0)s=[o=0];else{for(o=-1;0===s[0];s.splice(0,1),o-=_);for(l=1,u=s[0];u>=10;u/=10,l++);l<_&&(o-=_-l)}return f.e=o,f.c=s,f}}(),t.sum=function(){for(var e=1,n=arguments,r=new t(n[0]);e<n.length;)r=r.plus(n[e++]);return r},A=function(){function e(e,t,n,r){for(var a,o,i=[0],u=0,l=e.length;u<l;){for(o=i.length;o--;i[o]*=t);for(i[0]+=r.indexOf(e.charAt(u++)),a=0;a<i.length;a++)i[a]>n-1&&(null==i[a+1]&&(i[a+1]=0),i[a+1]+=i[a]/n|0,i[a]%=n)}return i.reverse()}var n="0123456789";return function(r,a,o,i,u){var s,d,f,c,h,y,g,m,v=r.indexOf("."),w=k,b=j;for(v>=0&&(c=q,q=0,r=r.replace(".",""),m=new t(a),y=m.pow(r.length-v),q=c,m.c=e(p(l(y.c),y.e,"0"),10,o,n),m.e=m.c.length),g=e(r,a,o,u?(s=U,n):(s=n,U)),f=c=g.length;0==g[--c];g.pop());if(!g[0])return s.charAt(0);if(v<0?--f:(y.c=g,y.e=f,y.s=i,y=O(y,m,w,b,o),g=y.c,h=y.r,f=y.e),d=f+w+1,v=g[d],c=o/2,h=h||d<0||null!=g[d+1],h=b<4?(null!=v||h)&&(0==b||b==(y.s<0?3:2)):v>c||v==c&&(4==b||h||6==b&&1&g[d-1]||b==(y.s<0?8:7)),d<1||!g[0])r=h?p(s.charAt(1),-w,s.charAt(0)):s.charAt(0);else{if(g.length=d,h)for(--o;++g[--d]>o;)g[d]=0,d||(++f,g=[1].concat(g));for(c=g.length;!g[--c];);for(v=0,r="";v<=c;r+=s.charAt(g[v++]));r=p(r,f,s.charAt(0))}return r}}(),O=function(){function e(e,t,n){var r,a,o,i,u=0,l=e.length,s=t%D,d=t/D|0;for(e=e.slice();l--;)o=e[l]%D,i=e[l]/D|0,r=d*o+i*s,a=s*o+r%D*D+u,u=(a/n|0)+(r/D|0)+d*i,e[l]=a%n;return u&&(e=[u].concat(e)),e}function n(e,t,n,r){var a,o;if(n!=r)o=n>r?1:-1;else for(a=o=0;a<n;a++)if(e[a]!=t[a]){o=e[a]>t[a]?1:-1;break}return o}function r(e,t,n,r){for(var a=0;n--;)e[n]-=a,a=e[n]<t[n]?1:0,e[n]=a*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(a,o,i,l,s){var d,f,c,p,y,g,v,w,S,E,D,x,I,O,A,T,R,P=a.s==o.s?1:-1,k=a.c,j=o.c;if(!(k&&k[0]&&j&&j[0]))return new t(a.s&&o.s&&(k?!j||k[0]!=j[0]:j)?k&&0==k[0]||!j?0*P:P/0:NaN);for(w=new t(P),S=w.c=[],f=a.e-o.e,P=i+f+1,s||(s=b,f=u(a.e/_)-u(o.e/_),P=P/_|0),c=0;j[c]==(k[c]||0);c++);if(j[c]>(k[c]||0)&&f--,P<0)S.push(1),p=!0;else{for(O=k.length,T=j.length,c=0,P+=2,y=m(s/(j[0]+1)),y>1&&(j=e(j,y,s),k=e(k,y,s),T=j.length,O=k.length),I=T,E=k.slice(0,T),D=E.length;D<T;E[D++]=0);R=j.slice(),R=[0].concat(R),A=j[0],j[1]>=s/2&&A++;do{if(y=0,d=n(j,E,T,D),d<0){if(x=E[0],T!=D&&(x=x*s+(E[1]||0)),y=m(x/A),y>1)for(y>=s&&(y=s-1),g=e(j,y,s),v=g.length,D=E.length;1==n(g,E,v,D);)y--,r(g,T<v?R:j,v,s),v=g.length,d=1;else 0==y&&(d=y=1),g=j.slice(),v=g.length;if(v<D&&(g=[0].concat(g)),r(E,g,D,s),D=E.length,d==-1)for(;n(j,E,T,D)<1;)y++,r(E,T<D?R:j,D,s),D=E.length}else 0===d&&(y++,E=[0]);S[c++]=y,E[0]?E[D++]=k[I]||0:(E=[k[I]],D=1)}while((I++<O||null!=E[0])&&P--);p=null!=E[0],S[0]||S.splice(0,1)}if(s==b){for(c=1,P=S[0];P>=10;P/=10,c++);h(w,i+(w.e=c+f*_-1)+1,l,p)}else w.e=f,w.r=+p;return w}}(),T=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,n=/^([^.]+)\.$/,r=/^\.([^.]+)$/,a=/^-?(Infinity|NaN)$/,o=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(i,u,l,s){var d,f=l?u:u.replace(o,"");if(a.test(f))i.s=isNaN(f)?null:f<0?-1:1,i.c=i.e=null;else{if(!l&&(f=f.replace(e,function(e,t,n){return d="x"==(n=n.toLowerCase())?16:"b"==n?2:8,s&&s!=d?e:t}),s&&(d=s,f=f.replace(n,"$1").replace(r,"0.$1")),u!=f))return new t(f,d);if(t.DEBUG)throw Error(v+"Not a"+(s?" base "+s:"")+" number: "+u);i.c=i.e=i.s=null}}}(),R.absoluteValue=R.abs=function(){var e=new t(this);return e.s<0&&(e.s=1),e},R.comparedTo=function(e,n){return s(this,new t(e,n))},R.decimalPlaces=R.dp=function(e,n){var r,a,o,i=this;if(null!=e)return d(e,0,x),null==n?n=j:d(n,0,8),h(new t(i),e+i.e+1,n);if(!(r=i.c))return null;if(a=((o=r.length-1)-u(this.e/_))*_,o=r[o])for(;o%10==0;o/=10,a--);return a<0&&(a=0),a},R.dividedBy=R.div=function(e,n){return O(this,new t(e,n),k,j)},R.dividedToIntegerBy=R.idiv=function(e,n){return O(this,new t(e,n),0,1)},R.exponentiatedBy=R.pow=function(e,n){var r,a,o,i,u,l,s,d,c,p=this;if(e=new t(e),e.c&&!e.isInteger())throw Error(v+"Exponent not an integer: "+I(e));if(null!=n&&(n=new t(n)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return c=new t(Math.pow(+I(p),l?2-f(e):+I(e))),n?c.mod(n):c;if(s=e.s<0,n){if(n.c?!n.c[0]:!n.s)return new t(NaN);a=!s&&p.isInteger()&&n.isInteger(),a&&(p=p.mod(n))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return i=p.s<0&&f(e)?-0:0,p.e>-1&&(i=1/i),new t(s?1/i:i);q&&(i=g(q/_+2))}for(l?(r=new t(.5),s&&(e.s=1),d=f(e)):(o=Math.abs(+I(e)),d=o%2),c=new t(P);;){if(d){if(c=c.times(p),!c.c)break;i?c.c.length>i&&(c.c.length=i):a&&(c=c.mod(n))}if(o){if(o=m(o/2),0===o)break;d=o%2}else if(e=e.times(r),h(e,e.e+1,1),e.e>14)d=f(e);else{if(o=+I(e),0===o)break;d=o%2}p=p.times(p),i?p.c&&p.c.length>i&&(p.c.length=i):a&&(p=p.mod(n))}return a?c:(s&&(c=P.div(c)),n?c.mod(n):i?h(c,q,j,u):c)},R.integerValue=function(e){var n=new t(this);return null==e?e=j:d(e,0,8),h(n,n.e+1,e)},R.isEqualTo=R.eq=function(e,n){return 0===s(this,new t(e,n))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(e,n){return s(this,new t(e,n))>0},R.isGreaterThanOrEqualTo=R.gte=function(e,n){return 1===(n=s(this,new t(e,n)))||0===n},R.isInteger=function(){return!!this.c&&u(this.e/_)>this.c.length-2},R.isLessThan=R.lt=function(e,n){return s(this,new t(e,n))<0},R.isLessThanOrEqualTo=R.lte=function(e,n){return(n=s(this,new t(e,n)))===-1||0===n},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0;
},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(e,n){var r,a,i,l,s=this,d=s.s;if(e=new t(e,n),n=e.s,!d||!n)return new t(NaN);if(d!=n)return e.s=-n,s.plus(e);var f=s.e/_,c=e.e/_,p=s.c,h=e.c;if(!f||!c){if(!p||!h)return p?(e.s=-n,e):new t(h?s:NaN);if(!p[0]||!h[0])return h[0]?(e.s=-n,e):new t(p[0]?s:3==j?-0:0)}if(f=u(f),c=u(c),p=p.slice(),d=f-c){for((l=d<0)?(d=-d,i=p):(c=f,i=h),i.reverse(),n=d;n--;i.push(0));i.reverse()}else for(a=(l=(d=p.length)<(n=h.length))?d:n,d=n=0;n<a;n++)if(p[n]!=h[n]){l=p[n]<h[n];break}if(l&&(i=p,p=h,h=i,e.s=-e.s),n=(a=h.length)-(r=p.length),n>0)for(;n--;p[r++]=0);for(n=b-1;a>d;){if(p[--a]<h[a]){for(r=a;r&&!p[--r];p[r]=n);--p[r],p[a]+=b}p[a]-=h[a]}for(;0==p[0];p.splice(0,1),--c);return p[0]?o(e,p,c):(e.s=3==j?-1:1,e.c=[e.e=0],e)},R.modulo=R.mod=function(e,n){var r,a,o=this;return e=new t(e,n),!o.c||!e.s||e.c&&!e.c[0]?new t(NaN):!e.c||o.c&&!o.c[0]?new t(o):(9==B?(a=e.s,e.s=1,r=O(o,e,0,3),e.s=a,r.s*=a):r=O(o,e,0,B),e=o.minus(r.times(e)),e.c[0]||1!=B||(e.s=o.s),e)},R.multipliedBy=R.times=function(e,n){var r,a,i,l,s,d,f,c,p,h,y,g,m,v,w,S=this,E=S.c,x=(e=new t(e,n)).c;if(!(E&&x&&E[0]&&x[0]))return!S.s||!e.s||E&&!E[0]&&!x||x&&!x[0]&&!E?e.c=e.e=e.s=null:(e.s*=S.s,E&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(a=u(S.e/_)+u(e.e/_),e.s*=S.s,f=E.length,h=x.length,f<h&&(m=E,E=x,x=m,i=f,f=h,h=i),i=f+h,m=[];i--;m.push(0));for(v=b,w=D,i=h;--i>=0;){for(r=0,y=x[i]%w,g=x[i]/w|0,s=f,l=i+s;l>i;)c=E[--s]%w,p=E[s]/w|0,d=g*c+p*y,c=y*c+d%w*w+m[l]+r,r=(c/v|0)+(d/w|0)+g*p,m[l--]=c%v;m[l]=r}return r?++a:m.splice(0,1),o(e,m,a)},R.negated=function(){var e=new t(this);return e.s=-e.s||null,e},R.plus=function(e,n){var r,a=this,i=a.s;if(e=new t(e,n),n=e.s,!i||!n)return new t(NaN);if(i!=n)return e.s=-n,a.minus(e);var l=a.e/_,s=e.e/_,d=a.c,f=e.c;if(!l||!s){if(!d||!f)return new t(i/0);if(!d[0]||!f[0])return f[0]?e:new t(d[0]?a:0*i)}if(l=u(l),s=u(s),d=d.slice(),i=l-s){for(i>0?(s=l,r=f):(i=-i,r=d),r.reverse();i--;r.push(0));r.reverse()}for(i=d.length,n=f.length,i-n<0&&(r=f,f=d,d=r,n=i),i=0;n;)i=(d[--n]=d[n]+f[n]+i)/b|0,d[n]=b===d[n]?0:d[n]%b;return i&&(d=[i].concat(d),++s),o(e,d,s)},R.precision=R.sd=function(e,n){var r,a,o,i=this;if(null!=e&&e!==!!e)return d(e,1,x),null==n?n=j:d(n,0,8),h(new t(i),e,n);if(!(r=i.c))return null;if(o=r.length-1,a=o*_+1,o=r[o]){for(;o%10==0;o/=10,a--);for(o=r[0];o>=10;o/=10,a++);}return e&&i.e+1>a&&(a=i.e+1),a},R.shiftedBy=function(e){return d(e,-S,S),this.times("1e"+e)},R.squareRoot=R.sqrt=function(){var e,n,r,a,o,i=this,s=i.c,d=i.s,f=i.e,c=k+4,p=new t("0.5");if(1!==d||!s||!s[0])return new t(!d||d<0&&(!s||s[0])?NaN:s?i:1/0);if(d=Math.sqrt(+I(i)),0==d||d==1/0?(n=l(s),(n.length+f)%2==0&&(n+="0"),d=Math.sqrt(+n),f=u((f+1)/2)-(f<0||f%2),d==1/0?n="1e"+f:(n=d.toExponential(),n=n.slice(0,n.indexOf("e")+1)+f),r=new t(n)):r=new t(d+""),r.c[0])for(f=r.e,d=f+c,d<3&&(d=0);;)if(o=r,r=p.times(o.plus(O(i,o,c,1))),l(o.c).slice(0,d)===(n=l(r.c)).slice(0,d)){if(r.e<f&&--d,n=n.slice(d-3,d+1),"9999"!=n&&(a||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(h(r,r.e+k+2,1),e=!r.times(r).eq(i));break}if(!a&&(h(o,o.e+k+2,0),o.times(o).eq(i))){r=o;break}c+=4,d+=4,a=1}return h(r,r.e+k+1,j,e)},R.toExponential=function(e,t){return null!=e&&(d(e,0,x),e++),n(this,e,t,1)},R.toFixed=function(e,t){return null!=e&&(d(e,0,x),e=e+this.e+1),n(this,e,t)},R.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==("undefined"==typeof t?"undefined":a(t))?(n=t,t=null):e&&"object"==("undefined"==typeof e?"undefined":a(e))?(n=e,e=t=null):n=F;else if("object"!=("undefined"==typeof n?"undefined":a(n)))throw Error(v+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var i,u=r.split("."),l=+n.groupSize,s=+n.secondaryGroupSize,d=n.groupSeparator||"",f=u[0],c=u[1],p=o.s<0,h=p?f.slice(1):f,y=h.length;if(s&&(i=l,l=s,s=i,y-=i),l>0&&y>0){for(i=y%l||l,f=h.substr(0,i);i<y;i+=l)f+=d+h.substr(i,l);s>0&&(f+=d+h.slice(i)),p&&(f="-"+f)}r=c?f+(n.decimalSeparator||"")+((s=+n.fractionGroupSize)?c.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):c):f}return(n.prefix||"")+r+(n.suffix||"")},R.toFraction=function(e){var n,r,a,o,i,u,s,d,f,c,p,h,y=this,g=y.c;if(null!=e&&(s=new t(e),!s.isInteger()&&(s.c||1!==s.s)||s.lt(P)))throw Error(v+"Argument "+(s.isInteger()?"out of range: ":"not an integer: ")+I(s));if(!g)return new t(y);for(n=new t(P),f=r=new t(P),a=d=new t(P),h=l(g),i=n.e=h.length-y.e-1,n.c[0]=E[(u=i%_)<0?_+u:u],e=!e||s.comparedTo(n)>0?i>0?n:f:s,u=L,L=1/0,s=new t(h),d.c[0]=0;c=O(s,n,0,1),o=r.plus(c.times(a)),1!=o.comparedTo(e);)r=a,a=o,f=d.plus(c.times(o=f)),d=o,n=s.minus(c.times(o=n)),s=o;return o=O(e.minus(r),a,0,1),d=d.plus(o.times(f)),r=r.plus(o.times(a)),d.s=f.s=y.s,i*=2,p=O(f,a,i,j).minus(y).abs().comparedTo(O(d,r,i,j).minus(y).abs())<1?[f,a]:[d,r],L=u,p},R.toNumber=function(){return+I(this)},R.toPrecision=function(e,t){return null!=e&&d(e,1,x),n(this,e,t,2)},R.toString=function(e){var n,r=this,a=r.s,o=r.e;return null===o?a?(n="Infinity",a<0&&(n="-"+n)):n="NaN":(null==e?n=o<=C||o>=N?c(l(r.c),o):p(l(r.c),o,"0"):10===e?(r=h(new t(r),k+o+1,j),n=p(l(r.c),r.e,"0")):(d(e,2,U.length,"Base"),n=A(p(l(r.c),o,"0"),10,e,a,!0)),a<0&&r.c[0]&&(n="-"+n)),n},R.valueOf=R.toJSON=function(){return I(this)},R._isBigNumber=!0,"function"==typeof Symbol&&"symbol"==a(Symbol.iterator)&&(R[Symbol.toStringTag]="BigNumber",R[Symbol["for"]("nodejs.util.inspect.custom")]=R.valueOf),null!=e&&t.set(e),t}function u(e){var t=0|e;return e>0||e===t?t:t-1}function l(e){for(var t,n,r=1,a=e.length,o=e[0]+"";r<a;){for(t=e[r++]+"",n=_-t.length;n--;t="0"+t);o+=t}for(a=o.length;48===o.charCodeAt(--a););return o.slice(0,a+1||1)}function s(e,t){var n,r,a=e.c,o=t.c,i=e.s,u=t.s,l=e.e,s=t.e;if(!i||!u)return null;if(n=a&&!a[0],r=o&&!o[0],n||r)return n?r?0:-u:i;if(i!=u)return i;if(n=i<0,r=l==s,!a||!o)return r?0:!a^n?1:-1;if(!r)return l>s^n?1:-1;for(u=(l=a.length)<(s=o.length)?l:s,i=0;i<u;i++)if(a[i]!=o[i])return a[i]>o[i]^n?1:-1;return l==s?0:l>s^n?1:-1}function d(e,t,n,r){if(e<t||e>n||e!==(e<0?g(e):m(e)))throw Error(v+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function f(e){var t=e.c.length-1;return u(e.e/_)==t&&e.c[t]%2!=0}function c(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function p(e,t,n){var r,a;if(t<0){for(a=n+".";++t;a+=n);e=a+e}else if(r=e.length,++t>r){for(a=n,t-=r;--t;a+=n);e+=a}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var h,y=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,g=Math.ceil,m=Math.floor,v="[BigNumber Error] ",w=v+"Number primitive has more than 15 significant digits: ",b=1e14,_=14,S=9007199254740991,E=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],D=1e7,x=1e9;h=i(),h["default"]=h.BigNumber=h,r=function(){return h}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(void 0)},function(e,t,n){!function(t){"use strict";var r,a=t.Base64,o="2.2.1";if("undefined"!=typeof e&&e.exports)try{r=n(149).Buffer}catch(i){}var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(u),s=String.fromCharCode,d=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?s(192|t>>>6)+s(128|63&t):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|63&t)},f=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,c=function(e){return e.replace(f,d)},p=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[u.charAt(n>>>18),u.charAt(n>>>12&63),t>=2?"=":u.charAt(n>>>6&63),t>=1?"=":u.charAt(63&n)];return r.join("")},h=t.btoa?function(e){return t.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,p)},y=r?r.from?function(e){return(e.constructor===r.constructor?e:r.from(e)).toString("base64")}:function(e){return(e.constructor===r.constructor?e:new r(e)).toString("base64")}:function(e){return h(c(e))},g=function(e,t){return t?y(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):y(String(e))},m=function(e){return g(e,!0)},v=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),w=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return s((n>>>10)+55296)+s((1023&n)+56320);case 3:return s((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return s((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},b=function(e){return e.replace(v,w)},_=function(e){var t=e.length,n=t%4,r=(t>0?l[e.charAt(0)]<<18:0)|(t>1?l[e.charAt(1)]<<12:0)|(t>2?l[e.charAt(2)]<<6:0)|(t>3?l[e.charAt(3)]:0),a=[s(r>>>16),s(r>>>8&255),s(255&r)];return a.length-=[0,0,2,1][n],a.join("")},S=t.atob?function(e){return t.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,_)},E=r?r.from?function(e){return(e.constructor===r.constructor?e:r.from(e,"base64")).toString()}:function(e){return(e.constructor===r.constructor?e:new r(e,"base64")).toString()}:function(e){return b(S(e))},D=function(e){return E(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},x=function(){var e=t.Base64;return t.Base64=a,e};if(t.Base64={VERSION:o,atob:S,btoa:h,fromBase64:D,toBase64:g,utob:c,encode:g,encodeURI:m,btou:b,decode:D,noConflict:x},"function"==typeof Object.defineProperty){var I=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",I(function(){return D(this)})),Object.defineProperty(String.prototype,"toBase64",I(function(e){return g(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",I(function(){return g(this,!0)}))}}}(this)},function(e,t,n){(function(e){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,r):"string"==typeof t?f(e,t,n):h(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function s(e,t,n,r){return l(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function d(e,t){if(l(t),e=o(e,t<0?0:0|y(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n);e=o(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function c(e,t){var n=t.length<0?0:0|y(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=c(e,t),e}function h(e,t){if(i.isBuffer(t)){var n=0|y(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Y(t.length)?o(e,0):c(e,t);if("Buffer"===t.type&&Z(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),i.alloc(+e)}function m(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(r)return G(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,a);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,a){function o(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}var i=1,u=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,u/=2,l/=2,n/=2}var s;if(a){var d=-1;for(s=n;s<u;s++)if(o(e,s)===o(t,d===-1?0:s-d)){if(d===-1&&(d=s),s-d+1===l)return d*i}else d!==-1&&(s-=s-d),d=-1}else for(n+l>u&&(n=u-l),s=n;s>=0;s--){for(var f=!0,c=0;c<l;c++)if(o(e,s+c)!==o(t,c)){f=!1;break}if(f)return s}return-1}function S(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r),r>a&&(r=a)):r=a;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var i=0;i<r;++i){var u=parseInt(t.substr(2*i,2),16);if(isNaN(u))return i;e[n+i]=u}return i}function E(e,t,n,r){return X(G(t,e.length-n),e,n,r)}function D(e,t,n,r){return X(H(t),e,n,r)}function x(e,t,n,r){return D(e,t,n,r)}function I(e,t,n,r){return X(Q(t),e,n,r)}function O(e,t,n,r){return X(V(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var o=e[a],i=null,u=o>239?4:o>223?3:o>191?2:1;if(a+u<=n){var l,s,d,f;switch(u){case 1:o<128&&(i=o);break;case 2:l=e[a+1],128===(192&l)&&(f=(31&o)<<6|63&l,f>127&&(i=f));break;case 3:l=e[a+1],s=e[a+2],128===(192&l)&&128===(192&s)&&(f=(15&o)<<12|(63&l)<<6|63&s,f>2047&&(f<55296||f>57343)&&(i=f));break;case 4:l=e[a+1],s=e[a+2],d=e[a+3],128===(192&l)&&128===(192&s)&&128===(192&d)&&(f=(15&o)<<18|(63&l)<<12|(63&s)<<6|63&d,f>65535&&f<1114112&&(i=f))}}null===i?(i=65533,u=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),a+=u}return R(r)}function R(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",o=t;o<n;++o)a+=K(e[o]);return a}function C(e,t,n){for(var r=e.slice(t,n),a="",o=0;o<r.length;o+=2)a+=String.fromCharCode(r[o]+256*r[o+1]);return a}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,a,o){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-n,2);a<o;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function W(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-n,4);a<o;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function B(e,t,n,r,a,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(e,t,n,r,a){return a||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,a){return a||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(e,t,n,r,52,8),n+8}function U(e){if(e=z(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){t=t||1/0;for(var n,r=e.length,a=null,o=[],i=0;i<r;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),a=n;continue}n=(a-55296<<10|n-56320)+65536}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function V(e,t){for(var n,r,a,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),r=n>>8,a=n%256,o.push(a),o.push(r);return o}function Q(e){return J.toByteArray(U(e))}function X(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function Y(e){return e!==e}var J=n(150),$=n(151),Z=n(152);t.Buffer=i,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:r(),t.kMaxLength=a(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return u(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return s(null,e,t,n)},i.allocUnsafe=function(e){return d(null,e)},i.allocUnsafeSlow=function(e){return d(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,o=Math.min(n,r);a<o;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},i.byteLength=m,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):v.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,a){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,a>>>=0,this===e)return 0;for(var o=a-r,u=n-t,l=Math.min(o,u),s=this.slice(r,a),d=e.slice(t,n),f=0;f<l;++f)if(s[f]!==d[f]){o=s[f],u=d[f];break}return o<u?-1:u<o?1:0},i.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},i.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return D(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=i.prototype;else{var a=t-e;r=new i(a,void 0);for(var o=0;o<a;++o)r[o]=this[o+e]}return r},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},i.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],a=1,o=0;++o<t&&(a*=256);)r+=this[e+o]*a;return a*=128,r>=a&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,a=1,o=this[e+--r];r>0&&(a*=256);)o+=this[e+--r]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},i.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),$.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),$.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),$.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),$.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var a=Math.pow(2,8*n)-1;M(this,e,t,n,a,0)}var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var a=Math.pow(2,8*n)-1;M(this,e,t,n,a,0)}var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):W(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):W(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);M(this,e,t,n,a-1,-a)}var o=0,i=1,u=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/i>>0)-u&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);M(this,e,t,n,a-1,-a)}var o=n-1,i=1,u=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/i>>0)-u&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):W(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):W(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return q(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return q(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,o=r-n;if(this===e&&n<t&&t<r)for(a=o-1;a>=0;--a)e[a+t]=this[a+n];else if(o<1e3||!i.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var u=i.isBuffer(e)?e:G(new i(e,r).toString()),l=u.length;for(o=0;o<n-t;++o)this[o+t]=u[o%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function r(e){var t=n(e),r=t[0],a=t[1];return 3*(r+a)/4-a}function a(e,t,n){return 3*(t+n)/4-n}function o(e){for(var t,r=n(e),o=r[0],i=r[1],u=new f(a(e,o,i)),l=0,s=i>0?o-4:o,c=0;c<s;c+=4)t=d[e.charCodeAt(c)]<<18|d[e.charCodeAt(c+1)]<<12|d[e.charCodeAt(c+2)]<<6|d[e.charCodeAt(c+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===i&&(t=d[e.charCodeAt(c)]<<2|d[e.charCodeAt(c+1)]>>4,u[l++]=255&t),1===i&&(t=d[e.charCodeAt(c)]<<10|d[e.charCodeAt(c+1)]<<4|d[e.charCodeAt(c+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function i(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function u(e,t,n){for(var r,a=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(i(r));return a.join("")}function l(e){for(var t,n=e.length,r=n%3,a=[],o=16383,i=0,l=n-r;i<l;i+=o)a.push(u(e,i,i+o>l?l:i+o));return 1===r?(t=e[n-1],a.push(s[t>>2]+s[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],a.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"=")),a.join("")}t.byteLength=r,t.toByteArray=o,t.fromByteArray=l;for(var s=[],d=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=c.length;p<h;++p)s[p]=c[p],d[c.charCodeAt(p)]=p;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,a){var o,i,u=8*a-r-1,l=(1<<u)-1,s=l>>1,d=-7,f=n?a-1:0,c=n?-1:1,p=e[t+f];for(f+=c,o=p&(1<<-d)-1,p>>=-d,d+=u;d>0;o=256*o+e[t+f],f+=c,d-=8);for(i=o&(1<<-d)-1,o>>=-d,d+=r;d>0;i=256*i+e[t+f],f+=c,d-=8);if(0===o)o=1-s;else{if(o===l)return i?NaN:(p?-1:1)*(1/0);i+=Math.pow(2,r),o-=s}return(p?-1:1)*i*Math.pow(2,o-r)},t.write=function(e,t,n,r,a,o){var i,u,l,s=8*o-a-1,d=(1<<s)-1,f=d>>1,c=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),t+=i+f>=1?c/l:c*Math.pow(2,1-f),t*l>=2&&(i++,l/=2),i+f>=d?(u=0,i=d):i+f>=1?(u=(t*l-1)*Math.pow(2,a),i+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,a),i=0));a>=8;e[n+p]=255&u,p+=h,u/=256,a-=8);for(i=i<<a|u,s+=a;s>0;e[n+p]=255&i,p+=h,i/=256,s-=8);e[n+p-h]|=128*y}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,r){var a=this,o={color:r.shownamecolor||"#111",backgroundColor:r.detailbackgroudcolor||"#e7f3fc",padding:"10px 8px"},i="";e||(i="");var u=0,l="<span style ='color:#FF0000;font-size:20px;font-weight:800'>*</span>";"2"==r.head.editType&&(e=l+e,u=l.length+3),"2"==n&&(i=y["default"].createElement("div",{style:o,dangerouslySetInnerHTML:{__html:e}})),i=e.length-u>t?y["default"].createElement(v.Tooltip,{title:e},y["default"].createElement("div",{className:"ant-div-mowarp",style:o,dangerouslySetInnerHTML:{__html:e.substring(u,t)+"..."}})):y["default"].createElement("div",{className:"ant-div-mowarp",style:o,dangerouslySetInnerHTML:{__html:e}});var s=r.head.titleButtons;return"object"===("undefined"==typeof s?"undefined":p(s))&&s.length?y["default"].createElement("div",{style:o},i,y["default"].createElement(N,{size:"small"},s.map(function(e){return y["default"].createElement(v.Button,c({type:"primary",onClick:e.event.bind(a,r.key)},e.props||{}),e.name)}))):i}function s(e){return{detail:e.detail,config:e.detail.config,datas:e.detail.datas,heads:e.detail.heads,columns:e.detail.columns,fliterDatas:e.detail.fliterDatas,pagination:e.detail.pagination,fliterPagination:e.detail.fliterPagination,rowSelection:e.detail.rowSelection,loading:e.detail.loading,paging:e.detail.paging,showType:e.detail.showType,searchValue:e.detail.searchValue,searchingforcolValue:e.detail.searchingforcolValue,saveLoading:e.detail.saveLoading,selTreenode:e.detail.selTreenode,isTreenode:e.detail.isTreenode,showModal:e.detail.showModal,impDatas:e.detail.impDatas,impMsg:e.detail.impMsg,impLoading:e.detail.impLoading,impModal:e.detail.impModal,impPercent:e.detail.impPercent,fatherKey:e.detail.fatherKey,editLogByRemarkVisible:e.detail.editLogByRemarkVisible,editLogByRemarkDatas:e.detail.editLogByRemarkDatas,editLogByRemarkColumns:e.detail.editLogByRemarkColumns,expandedRowKeys:e.detail.expandedRowKeys,mustHideStr:e.detail.mustHideStr}}function d(e){return{actions:(0,g.bindActionCreators)(E,e)}}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n(5),y=a(h),g=n(7),m=n(27),v=n(154),w=n(155),b=n(2),_=a(b),S=n(156),E=r(S),D=n(146),x=r(D),I=n(158),O=a(I),A=n(161),T=a(A),R=n(162),P=a(R),k=n(163),j=a(k),C=v.Select.Option,N=v.Button.Group,M=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"componentDidMount",value:function(){try{var e=this.props,t=e.heads,n=e.datas,r=e.fatherKey,a=e.fliterDatas,o=this.props.config,i=o.dn,u=o.wfd,l=o.width,s=o.supDetail;x.doWfDetailResize(i,l),x.doWfDetailCountCol(u,n,t),x.doWfDetailFormulaCol(a,s,r,i)}catch(d){}}},{key:"componentDidUpdate",value:function(){try{var e=this.props,t=e.heads,n=e.datas,r=e.fatherKey,a=e.fliterDatas,o=this.props.config,i=o.dn,u=o.wfd,l=o.width,s=o.supDetail;x.doWfDetailResize(i,l),x.doWfDetailCountCol(u,n,t),x.doWfDetailFormulaCol(a,s,r,i)}catch(d){}}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.showModal,r=e.heads,a=e.actions,o=t.modal,i=t.btnName,u=t.width,l=t.lang,s=void 0!==l&&7!==l;if(0==r.length)return y["default"].createElement("div",null);if(o||t.supDetail){var d=""!=u?u:"90%";d.indexOf("%")<0&&(d=parseInt(d)+40);var f=s?"Detail ":"明细"+t.dn;return y["default"].createElement("div",null,!t.supDetail&&y["default"].createElement(v.Button,{style:{marginTop:"5px"},onClick:function(){return a.showModal()}},i||f),y["default"].createElement(v.Modal,{title:s?"Detail":"明细",visible:n,onCancel:function(){return a.hideModal()},width:d,footer:[y["default"].createElement(v.Button,{key:"back",type:"ghost",size:"large",onClick:function(){return a.hideModal()}},s?"Back":"返回")]},this.renderTable()))}return this.renderTable()}},{key:"renderTable",value:function(){var e=this.props,t=e.columns,n=e.pagination,r=e.rowSelection,a=e.selTreenode,o=e.datas,i=e.fliterDatas,u=e.fliterPagination,s=e.isTreenode,d=e.fatherKey,f=e.editLogByRemarkVisible,p=e.editLogByRemarkDatas,h=e.editLogByRemarkColumns,g=e.expandedRowKeys,m=e.detail,b=e.mustHideStr,S=this.props,E=S.heads,D=S.actions,x=S.loading,I=S.config,A=S.showType,R=this.props,k=R.searchValue,N=R.searchingforcolValue,M=R.saveLoading,L=(R.showModal,I.canRemark),W=I.searching,B=I.searchingforcol,q=I.rt,F=I.excelImport,U=I.excelOutput,z=I.treetable,K=I.canAdd,G=I.canDel,H=I.treenode,V=(I.modal,I.btnName,I.dn),Q=I.wll,X=I.width,Y=I.height,J=I.tdatashowonly,$=I.reqId,Z=I.lang,ee=r,te=ee.selectedRowKeys,ne=s||""!=k||""!=N||0!=d,re=0,ae=!1,oe=!0,ie=void 0!==Z&&7!==Z;t=t.filter(function(e){return"4"!==e.head.editType}),t=t.map(function(e,t){var n=e.head,r=n.fixed,a=n.editType,u=n.mergeRow;if(r&&""!=r&&(ae=!0),1!=a&&2!=a||(oe=!1),u&&"0"==a||u&&"2"==A){for(var l=ne?i:o,s=0,d=new Array;s<l.length;){for(var f=0,c=!0,p=s+1;p<l.length&&c;p++)l[s][e.dataIndex]===l[p][e.dataIndex]?f++:c=!1;if(0!==f){d[s]=f+1;for(var h=s+1;h<s+f+1;h++)d[h]=0;s+=f+1}else d[s]=1,s++}e.markDatas=d}else e.markDatas=null;return e});var ue=function(e,t,n){if(!n)return e;var r={children:e,props:{}};return r.props.rowSpan=n[t],r},le=0;t=t.map(function(e,t){if(t>0){var n=parseFloat(e.head.width||150);return re+=n,0==q||oe||"2"==A||window.attachEvent,e.head.fixed||0!==le?(0,_["default"])({},e,{title:l(e.title,20,A,e),width:n,fixed:e.head.fixed||!1,render:function(t,n,r){return ue(y["default"].createElement(O["default"],{config:I,canRemark:L,actions:D,text:t,record:n,dn:V,wll:Q,index:r,heads:E,head:e.head,rt:q,showType:A}),r,e.markDatas)}}):(le=t,(0,_["default"])({},e,{title:l(e.title,20,A,e),width:n,render:function(t,n,r){return ue(y["default"].createElement(O["default"],{config:I,canRemark:L,actions:D,text:t,record:n,dn:V,wll:Q,index:r,heads:E,head:e.head,rt:q,showType:A}),r,e.markDatas)}}))}var r=z&&ae?200:50;return re+=r,(0,_["default"])({},e,c({width:r,fixed:!!ae&&"left"},z&&!s&&"2"!==A&&0!==q?{className:"wfdetail-sn"}:{},{render:function(t,n,r){return ue(z&&!s&&"2"!==A&&0!==q?y["default"].createElement("span",null,t," ",y["default"].createElement("a",{onClick:function(){return D.addChildrenRow({key:[n.key]})}},y["default"].createElement("i",{className:"anticon anticon-plus-circle"}))):y["default"].createElement("span",null,t),r,e.markDatas)}}))}),n=(0,_["default"])({},n,{onChange:function(e){D.goPage({current:e})}}),u=(0,_["default"])({},u,{onChange:function(e){D.goPage({current:e})}}),r=(0,_["default"])({},r,{onChange:function(e,t){D.selRow({checkKeys:e})}}),"0"!=A&&"2"!=A||(ne?u=!1:n=!1);var se=0==q||x||s,de=(navigator.userAgent.indexOf("MSIE 8.0")>0,!!window.ActiveXObject||"ActiveXObject"in window);return y["default"].createElement("div",{className:"ant-table-scroll-custom"+V,style:{marginTop:"8px"}},!s&&y["default"].createElement(v.Row,{style:{marginBottom:"5px"}},y["default"].createElement(v.Col,{span:"12"},!J&&y["default"].createElement("span",{style:{"float":"left"}},y["default"].createElement(v.Select,{onChange:function(e){return D.editShowType({showType:e})},value:A,disabled:x,style:{width:"80px"},size:"small"},y["default"].createElement(C,{value:"0"},ie?"Normal View":"普通模式"),y["default"].createElement(C,{value:"1"},ie?"Paging View":"分页模式"),y["default"].createElement(C,{value:"2"},ie?"Display View":"显示模式"))),W&&y["default"].createElement("span",{style:{"float":"left",marginLeft:"8px"}},y["default"].createElement(w.WeaInput,{size:"small",type:"text",style:{width:"130px"},placeholder:ie?"Keyword of datas":"请输入数据关键字",value:k,onChange:function(e){return D.changeSearch(e)}})),B&&y["default"].createElement("span",{style:{"float":"left",marginLeft:"8px"}},y["default"].createElement(w.WeaInput,{size:"small",type:"text",style:{width:"130px"},placeholder:ie?"Keyword of columns":"请输入列关键字",value:N,onChange:function(e){return D.changeSearchforCol(e)}})),M&&y["default"].createElement(v.Button,{style:{marginLeft:"10px"},type:"primary",size:"small",loading:!0})),y["default"].createElement(v.Col,{span:"12",style:{textAlign:"right"}},0!=q&&b&&""!==b&&"��e"!=b&&y["default"].createElement(v.Switch,{checkedChildren:ie?"on":"开",unCheckedChildren:ie?"off":"关",onChange:D.hideRow,defaultChecked:!1}),0!=q&&F&&y["default"].createElement(v.Button,{onClick:function(){"-1"==$?v.Modal.confirm({title:ie?"Notice":"信息确认",content:ie?"Datas is not saved, going to save now?":"流程数据还未保存，现在保存吗？",okText:ie?"Yes":"确定",
cancelText:ie?"No":"取消",onOk:function(){D.doWfSave(m)},onCancel:function(){}}):D.showImpModal()},style:{marginLeft:"10px"},type:"primary",size:"small",disabled:x},ie?"Import":"导入"),U&&y["default"].createElement(v.Button,{onClick:function(){return D.detailExcelOut(!0)},style:{marginLeft:"10px"},type:"primary",size:"small",disabled:x},ie?"Export":"导出"),0!=q&&K&&y["default"].createElement(v.Button,{onClick:function(){return D.addRow()},style:{marginLeft:"10px"},type:"primary",size:"small",disabled:x},ie?"Insert":"添加"),0!=q&&K&&y["default"].createElement(v.Button,{onClick:function(){return D.copyRow()},style:{marginLeft:"10px"},type:"primary",size:"small",disabled:x},ie?"Copy":"复制"),0!=q&&G&&y["default"].createElement(v.Button,{onClick:function(){return D.delRow()},type:"primary",size:"small",style:{marginLeft:"10px"},disabled:x||0==te.length},ie?"Delete":"删除"),L?[y["default"].createElement(v.Button,{onClick:function(){return D.showEditLogByRemark(!0)},type:"primary",size:"small",style:{marginLeft:10}},ie?"Change Logs":"更改日志"),y["default"].createElement(j["default"],{actions:D,visible:f,columns:h,datas:p})]:null)),y["default"].createElement("div",{className:"wea-detail-table"},s&&y["default"].createElement("div",{style:{width:"280px",marginRight:"5px","float":"left"}},y["default"].createElement(T["default"],{actions:D,datas:o,treenode:H,selTreenode:a})),y["default"].createElement("div",{style:s?{width:X,"float":"left"}:{width:X},className:s?"ant-table-treenode"+V:""},y["default"].createElement(v.Table,{style:{textAlign:"left"},locale:{filterConfirm:ie?"Confirm":"确定",filterReset:ie?"Reset":"重置",emptyText:ie?"No Data":"暂无数据"},pagination:ne?u:n,rowSelection:se?null:r,loading:x,dataSource:ne?i:o,columns:t,scroll:Y&&"0"!=Y&&!de?{x:re,y:Y}:{x:re},size:"middle",showTotal:!0,bordered:!0,expandedRowKeys:g,onExpandedRowsChange:function(e){return D.setExpandedRowKeys({expandedRowKeys:e})}}))),F&&y["default"].createElement(P["default"],this.props))}}]),t}(h.Component);M.propTypes={config:h.PropTypes.object.isRequired,heads:h.PropTypes.array.isRequired,datas:h.PropTypes.array.isRequired,columns:h.PropTypes.array.isRequired,fliterDatas:h.PropTypes.array.isRequired,fliterPagination:h.PropTypes.object.isRequired,pagination:h.PropTypes.object.isRequired,rowSelection:h.PropTypes.object.isRequired,loading:h.PropTypes.object.isRequired,paging:h.PropTypes.object.isRequired,showType:h.PropTypes.object.isRequired,searchValue:h.PropTypes.object.isRequired,searchingforcolValue:h.PropTypes.object.isRequired,saveLoading:h.PropTypes.object.isRequired,selTreenode:h.PropTypes.object.isRequired,isTreenode:h.PropTypes.object.isRequired,showModal:h.PropTypes.object.isRequired,impDatas:h.PropTypes.array.isRequired,impMsg:h.PropTypes.array.isRequired,impLoading:h.PropTypes.object.isRequired,impModal:h.PropTypes.object.isRequired,impPercent:h.PropTypes.object.isRequired,fatherKey:h.PropTypes.object.isRequired,actions:h.PropTypes.object.isRequired,mustHideStr:h.PropTypes.object};(function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"render",value:function(){return y["default"].createElement("div",{className:"terrible-error"},this.props.error)}}]),t})(y["default"].Component);t["default"]=(0,m.connect)(s,d)(M)},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_154__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_155__},function(module,exports,__webpack_require__){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setExpandedRowKeys=exports.getEditLogByRemark=exports.showEditLogByRemark=exports.addRemark=exports.doSqlTrigger=exports.doLoading=exports.doHeadSet=exports.doFnaTrigger=exports.linkFather=exports.changeSearchforCol=exports.changeSearch=exports.changeImpType=exports.impExcelDatas=exports.uploadChange=exports.doWfSave=exports.detailExcelOut=exports.doDetailExcelOut=exports.hideImpModal=exports.showImpModal=exports.hideModal=exports.showModal=exports.setTree=exports.saveDetail=exports.addChildrenRow=exports.endLoading=exports.startLoading=exports.editCell=exports.editShowType=exports.goPage=exports.selRow=exports.hideRow=exports.delRow=exports.copyRow=exports.addRow=exports.initDatas=exports.initDatasV2=exports.getPagesDatas=exports.initOutDatas=void 0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_ActionTypes=__webpack_require__(45),types=_interopRequireWildcard(_ActionTypes),_detail=__webpack_require__(46),API=_interopRequireWildcard(_detail),_Storage=__webpack_require__(157),_Storage2=_interopRequireDefault(_Storage),_antd=__webpack_require__(154),_objectAssign=__webpack_require__(2),_objectAssign2=_interopRequireDefault(_objectAssign),_redux=__webpack_require__(7),_cloneDeep=__webpack_require__(47),_cloneDeep2=_interopRequireDefault(_cloneDeep),_WdUtil=__webpack_require__(146),Util=_interopRequireWildcard(_WdUtil),_jsBase=__webpack_require__(148),opQueue=void 0,opQueue2=void 0,linkPromise=function(){return new Promise(function(e){e(!0)})},initOutDatas=exports.initOutDatas=function(e,t){return function(t,n){var r=n().detail,a=r.datas,o=r.config,i=o.dn,u=[];a.map(function(t){var n=t.key,r=t.dbId;if(r){var a=!0;e.newDatas.map(function(e){e.dbId&&e.dbId===r&&(a=!1)}),a&&u.push(n)}}),_Storage2["default"].setWfDetailIsSave(i),_Storage2["default"].setAutoSubmit(""),u.length>0&&t({type:types.DEL_ROW,params:{delRowKey:u}}),t({type:types.SET_DATAS,params:e}),e.ifNoTrigger||(opQueue||(opQueue=linkPromise()),opQueue=opQueue.then(function(e){t(wfTrigger({key:""}))}).then(function(){t(doSqlTrigger({key:""}))}).then(function(){t(doFnaTrigger({key:""}))}))}},getPagesDatas=exports.getPagesDatas=function(e,t){return function(t,n){t({type:types.START_LOADING});var r=n().detail,a=r.heads,o=r.datas,i=(r.delDbIds,r.config),u=i.reqId,l=i.wfId,s=i.dn;API.doWfDetailSaveMultP({reqId:u,wfId:l,dn:s,heads:a,values:o,type:"add",startFlag:0}).then(function(n){API.doWfDetailListGetP(e).then(function(e){var n=e.datas,r=e.current,a=e.total;t({type:types.INIT_DATAS,params:{datas:n,current:r,total:a}}),t({type:types.END_LOADING})})})}},initDatasV2=exports.initDatasV2=function(e,t){return function(n,r){n({type:types.START_LOADING}),API.doWfDetailRowGetP(e).then(function(t){try{n({type:types.INIT_HEADS,params:{config:t,params:e}})}catch(r){alert("initDatas INIT_HEADS dispatch 报错: "+r)}if("-1"==e.reqId)return{datas:[]};var a=_Storage2["default"].getWfDetailNowDatas(e.dn,e.reqId);return e.heads=t.wdfl,!a||a&&0==a.length?(t.tdatashowonly&&(e.current=1),API.doWfDetailListGetPV2(e)):(n({type:types.SET_DATAS,params:{newDatas:a}}),{datas:[]})})["catch"](function(t){alert("明细"+e.dn+"配置信息读取异常："+t),console.log(t)}).then(function(a){var o=a.datas;if("undefined"!=typeof a.length)n({type:types.INIT_DATAS,params:{datas:o}});else if(o.length>0){var i=o;n({type:types.SET_DATAS_V2,params:{newDatas:i}}),0!=e.rt&&n(doSqlTrigger({key:""}))}else for(var u=r().detail.config,l=u.defaultRow,s=u.reqId,d=u.supDetail,f=l;f>0&&"-1"==s&&""==d;){var c={};n({type:types.ADD_ROW,params:c}),f--}n({type:types.END_LOADING}),t()})["catch"](function(t){alert("明细"+e.dn+"数据读取异常："+t),console.log(t)})}},initDatas=exports.initDatas=function(e,t){return function(n,r){n({type:types.START_LOADING}),API.doWfDetailRowGetP(e).then(function(t){try{n({type:types.INIT_HEADS,params:{config:t,params:e}})}catch(r){alert("initDatas INIT_HEADS dispatch 报错: "+r)}if("-1"==e.reqId)return{datas:[]};var a=_Storage2["default"].getWfDetailNowDatas(e.dn,e.reqId);return e.heads=t.wdfl,!a||a&&0==a.length?(t.tdatashowonly&&(e.current=1),API.doWfDetailListGetP(e)):(n({type:types.SET_DATAS,params:{newDatas:a}}),{datas:[]})})["catch"](function(t){alert("明细"+e.dn+"配置信息读取异常："+t),console.log(t)}).then(function(a){var o=a.datas,i=a.total;if("undefined"!=typeof a.length)n({type:types.INIT_DATAS,params:{datas:o}});else if(o.length>0)n({type:types.INIT_DATAS,params:{datas:o,total:i}}),0!=e.rt&&n(doSqlTrigger({key:""}));else for(var u=r().detail.config,l=u.defaultRow,s=u.reqId,d=u.supDetail,f=l;f>0&&"-1"==s&&""==d;){var c={};n({type:types.ADD_ROW,params:c}),f--}n({type:types.END_LOADING}),t()})["catch"](function(t){alert("明细"+e.dn+"数据读取异常："+t),console.log(t)})}},addRow=exports.addRow=function(e){return function(t,n){var r=n().detail.config,a=r.dn,o=r.rt;_Storage2["default"].setWfDetailIsSave(a),_Storage2["default"].setAutoSubmit(""),e={},t({type:types.ADD_ROW,params:e});var i=n().detail.datas;0!=o?(t(doSqlTrigger({key:i.length})),t(doFnaTrigger({key:i.length})),t(wfTrigger({key:i.length}))):t(doFnaTrigger({key:i.length})),wfDetail.doAdd(a,i.length,i.length-1,!1)}},copyRow=exports.copyRow=function(e){return function(t,n){var r=n().detail.config,a=r.dn;_Storage2["default"].setWfDetailIsSave(a),_Storage2["default"].setAutoSubmit(""),e={isCopy:!0},t({type:types.ADD_ROW,params:e});var o=n().detail.datas;wfDetail.doAdd(a,o[o.length-1].key,o.length-1,!0)}},delRow=exports.delRow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=n().detail,a=r.config,o=r.rowSelection,i=a.dn,u=o.selectedRowKeys;_Storage2["default"].setWfDetailIsSave(i),_Storage2["default"].setAutoSubmit(""),t({type:types.DEL_ROW,params:e}),wfDetail.doDel(i,u)}},hideRow=exports.hideRow=function(e){return function(t,n){opQueue||(opQueue=linkPromise()),opQueue=opQueue.then(function(n){t(1==e?{type:types.SHOW_ROW}:{type:types.HIDE_ROW})}).then(function(){wfDetail.afterHide(e)})}},selRow=exports.selRow=function(e){return function(t,n){t({type:types.SEL_ROW,params:e})}},goPage=exports.goPage=function(e){return function(t,n){t({type:types.GO_PAGE,params:e});var r=n().detail,a=r.config,o=r.heads,i=r.pagination,u=a.dn,l=a.wfId,s=a.reqId,d=a.nodeId,f=i.current,c=i.pageSize;a.tdatashowonly&&"-1"!==s&&(newParams={current:f,pageSize:c,dn:u,wfId:l,reqId:s,nodeId:d,heads:o},t({type:types.HIDE_IMPMODAL,params:{}}),t(getPagesDatas(newParams)))}},editShowType=exports.editShowType=function(e){return function(t,n){t({type:types.EDIT_SHOWTYPE,params:e})}},editCell=exports.editCell=function(e){return function(t,n){var r=n().detail,a=r.datas,o=r.config,i=o.dn,u=o.tol,l=o.rt,s=o.canEditOld,d=new Object;d.oldvalue=e.value,d.oldvalueSpan=e.valueSpan;for(var f=0;f<a.length;f++){var c=a[f];if(Number(c.key)===Number(e.key)){var p=c["wdfield"+e.fieldId]+"",h=c["wdfield"+e.fieldId+"span"]+"";d.oldvalue=p?p:"",d.oldvalueSpan=h?h:""}}_Storage2["default"].setWfDetailIsSave(i),_Storage2["default"].setAutoSubmit(""),e.ifNoTrigger||(opQueue||(opQueue=linkPromise()),opQueue=opQueue.then(function(n){t({type:types.EDIT_CELL,params:e}),0==s&&(e.value=d.oldvalue,e.valueSpan=d.oldvalueSpan,t({type:types.EDIT_CELL,params:e}))}).then(function(){t(doSqlTrigger({key:e.key,fieldId:e.fieldId}))}).then(function(){t(doFnaTrigger({key:e.key}))}).then(function(){for(var n=!1,r=0;r<u.length&&!n;r++){var a=u[r];a.triggerFieldName=="field"+e.fieldId&&(n=!0)}n&&0!=l&&setTimeout(t(wfTrigger({key:e.key,fieldId:e.fieldId})),1e3)}).then(function(){wfDetail.doEdit(i,e.key,e.fieldId,e.value,e.valuespan)}))}},startLoading=exports.startLoading=function(){return function(e,t){e({type:types.START_LOADING})}},endLoading=exports.endLoading=function(){return function(e,t){e({type:types.END_LOADING})}},addChildrenRow=exports.addChildrenRow=function(e){return function(t,n){var r=n().detail,a=r.config.dn,o=r.datas,i=e.key[0].toString().split("."),u=i[0],l=o;i.forEach(function(e,t){if(l=l[Number(e)-1],l.children&&0!==l.children.length){var n=l.children.length,r=i[t+1];u+="."+(r&&r<=n?r:n+1),l=l.children}else u+=".1"}),t({type:types.ADD_CHILDRENROW,params:e}),wfDetail.doAddChildrenRow(a,u)}},setDbIdsLoop=function e(t,n){for(var r=0;r<n.length;r++){for(var a=n[r],o=!1,i=0;i<t.length&&!o;i++){var u=t[i];u.key+""==a.id+""&&(o=!0,u.dbId=a.dbId)}if(!o)for(var l=0;l<t.length&&!o;l++){var s=t[l];0==o&&s.children&&s.children.length>0&&(s.children=e(s.children,n))}}return t},saveDetail=exports.saveDetail=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];arguments[2];return function(n,r){n({type:types.START_SAVELOADING});var a=r().detail,o=a.heads,i=a.datas,u=a.delDbIds,l=a.config,s=a.initDatas,d=l.reqId,f=l.wfId,c=l.dn,p=l.canRemark,h=l.detailtable;if(p){var y=[];i.forEach(function(e,t){Object.keys(e).forEach(function(t){if(/wdfield\d+remarkstring/.test(t)){var n=t.replace(/wdfield|remarkstring/g,function(){return""}),r=(t.replace("remarkstring",function(){return"remarkstatus"}),e.dbId),a=s.filter(function(e){return e.dbId===r});if(1===a.length){var o=a[0]["wdfield"+n],i=e["wdfield"+n];""!==o&&o!=i&&y.push({dbId:r,fieldId:n,remarkStatus:""===i?0:1,oldValue:o,newValue:i})}}})}),y.length>0&&API.doWfDetailEditByRemark({detailtable:h,reqId:d,values:y})}opQueue||(opQueue=linkPromise());var g=!0;if(o.map(function(e){"1"!==e.editType&&"2"!==e.editType||(g=!1)}),e.force&&(g=!1),u&&u.length>0&&(opQueue=opQueue.then(function(){return API.doWfDetailDelMultP({delDbIds:u,heads:o,reqId:d,wfId:f,dn:c})})),!g||wfDetail.mustSave()){for(var m=function(e){opQueue=opQueue.then(function(t){if("boolean"!=typeof t&&t&&t.length>0){var r=i;r=setDbIdsLoop(r,t),n({type:types.SET_DBID,params:{datas:r}})}return API.doWfDetailSaveMultP({reqId:d,wfId:f,heads:o,dn:c,values:i.slice(e,e+100),type:"add",startFlag:e})})},v=0;v<i.length;v+=100)m(v);i.length>0&&(opQueue=opQueue.then(function(e){if(e&&e.error&&e.error.length>0&&alert("明细保存失败["+e.error[0]+"],请联系管理员！"),e&&e.length>0){var t=i;t=setDbIdsLoop(t,e),n({type:types.SET_DBID,params:{datas:t}})}return linkPromise}))}opQueue=opQueue.then(function(){return new Promise(function(e){_Storage2["default"].setWfDetailIsSave(c,"0"),_Storage2["default"].setWfDetailNowDatas(c,i,d),n({type:types.END_SAVELOADING}),t(),e(!0)})})["catch"](function(e){var t="明细数据处理队列异常["+e+"]，请联系管理员！";alert(t),_antd.message.error(t)})}},setTree=exports.setTree=function(e){return function(t,n){t({type:types.SET_TREE,params:e}),t({type:types.DO_FLITER,params:{}})}},showModal=exports.showModal=function(){return function(e,t){e({type:types.SHOW_MODAL,params:{}})}},hideModal=exports.hideModal=function(){return function(e,t){e({type:types.HIDE_MODAL,params:{}})}},showImpModal=exports.showImpModal=function(){if(wfDetail.beforeImport())return function(e,t){e({type:types.SHOW_IMPMODAL,params:{}})}},hideImpModal=exports.hideImpModal=function(){return function(e,t){e({type:types.HIDE_IMPMODAL,params:{}})}},doDetailExcelOut=exports.doDetailExcelOut=function(e){opQueue||(opQueue=linkPromise()),opQueue=opQueue.then(function(t){return API.doWfDetailExcelOutP(e)}).then(function(e){""!=e?window.location.href=e:_antd.message.error("excel导出异常，请联系管理员！")}),opQueue["catch"](function(e){alert("excel导出异常，请联系管理员："+e),_antd.message.error("excel导出异常，请联系管理员！")})},detailExcelOut=exports.detailExcelOut=function(e){return function(t,n){var r=n().detail,a=r.config,o=r.datas,i=r.outDbIds,u=r.heads,l=a.reqId,s=a.wfId,d=a.dn,f=a.excelOutputAll;t({type:types.START_LOADING}),"-1"==l&&e?(_Storage2["default"].setWfDetailNowDatas(d,o,l),_Storage2["default"].setWfDetailExcelOut(d,"0"),_Storage2["default"].setAutoSubmit("2"),doWfSave(n().detail)):("-1"!=l&&t(saveDetail({},function(){})),doDetailExcelOut({reqId:l,wfId:s,heads:u,dn:d,outDbIds:e?i:[""],excelOutputAll:f?"0":"1"})),t({type:types.END_LOADING})}},doWfSave=exports.doWfSave=function(e){try{var t=e.config,n=t.lang,r=void 0!==n&&7!==n;_antd.message.warning(r?"Saving...":"流程保存中...",0),$GetEle("frmmain").src.value="save",jQuery($GetEle("flowbody")).attr("onbeforeunload",""),CkeditorExt.updateContent(),getRemarkText_log(),StartUploadAll(),checkuploadcomplet(),enableAllmenu(),$GetEle("frmmain").topage.value="ViewRequest.jsp?f_weaver_belongto_userid=1&f_weaver_belongto_usertype=null"}catch(a){alert(a)}},getDatasLoop=function t(e){var n=new Array;return e.map(function(e){e.children&&e.children.length>0&&(n=n.concat(t(e.children)));var r=(0,_cloneDeep2["default"])(e);delete r.children,n.push(r)}),n},wfAllTrigger=function(e){return function(t,n){var r=n().detail,a=r.config,o=r.heads,i=r.datas,u=a.dn,l=a.wfId,s=a.tol,d=(a.rt,a.wfl,a.reqId,getDatasLoop(i)),f=[];if(e.fieldId?s.map(function(t){t.triggerFieldName==="field"+e.fieldId&&f.push(t)}):f=[].concat(s),opQueue||(opQueue=linkPromise()),""===e.key){for(var c=function(e){opQueue=opQueue.then(function(n){return n&&n.length>0&&t({type:types.SET_TRIGGER,params:{datas:n}}),API.doWfDetailTriggerP({wfId:l,heads:o,dn:u,triggerSet:f,datas:d.slice(e,e+100),startFlag:e})})},p=0;p<d.length;p+=100)c(p);opQueue=opQueue.then(function(e){return e&&e.length>0&&(_Storage2["default"].setWfDetailIsSave(u),_Storage2["default"].setAutoSubmit("")),new Promise(function(e){e(!0)})})}opQueue["catch"](function(e){alert("字段联动异常："+e),console.log(e)})}},wfTrigger=function n(e){return function(t,r){var a=r().detail,o=a.config,i=a.heads,u=a.datas,l=o.dn,s=o.wfId,d=o.tol,f=o.rt,c=getDatasLoop(u),p=[];if(e.fieldId?d.map(function(t){t.triggerFieldName==="field"+e.fieldId&&p.push(t)}):p=[].concat(d),opQueue||(opQueue=linkPromise()),""===e.key){for(var h=function(e){opQueue=opQueue.then(function(n){return n&&n.length>0&&t({type:types.SET_TRIGGER,params:{datas:n}}),API.doWfDetailTriggerP({wfId:s,heads:i,dn:l,triggerSet:p,datas:c.slice(e,e+100),startFlag:e})})},y=0;y<c.length;y+=100)h(y);opQueue=opQueue.then(function(e){return e&&e.length>0&&(t({type:types.SET_TRIGGER,params:{datas:e}}),_Storage2["default"].setWfDetailIsSave(l),_Storage2["default"].setAutoSubmit("")),new Promise(function(e){e(!0)})})}else opQueue=opQueue.then(function(t){return API.doWfDetailTriggerP({wfId:s,heads:i,dn:l,triggerSet:p,datas:[getDataByKey(e,u)],startFlag:0})}).then(function(e){return e&&e.length>0&&(t({type:types.SET_TRIGGER,params:{datas:e}}),_Storage2["default"].setWfDetailIsSave(l),_Storage2["default"].setAutoSubmit("")),d&&d.map(function(r){e.map(function(e){for(var a in e)"wd"+r.triggerFieldName==a&&0!=f&&t(n({key:e.key,fieldId:a.split("wdfield")[1]}))})}),wfDetail.doAfterTrigger(),new Promise(function(e){e(!0)})});opQueue["catch"](function(e){alert("字段联动异常："+e),console.log(e)})}},getDataByKey=function r(e,t){var n=null;return t.map(function(t){null===n&&(t.key===e.key?n=t:t.children&&t.children.length>0&&(n=r(e,t.children)))}),n},loadingInt=void 0,uploadChange=exports.uploadChange=function(e){return function(t,n){var r=n().detail.impLoading,a=e.file.status,o=e.file.response;"uploading"!==a||r||(t({type:types.START_IMPLOADING,params:{}}),loadingInt=setInterval(function(){t({type:types.RUN_IMPPERCENT,params:{}})},100)),o&&("error"===a&&t({type:types.SET_IMPDATAS,params:{datas:"1"}}),"done"===a&&(o&&"false"==o.s_status?t({type:types.SHOW_EXCELINPUTMSG,params:{impMsg:o.msg}}):"true"==o.s_status&&o.datas.length>0&&t({type:types.SET_IMPDATAS,params:{datas:o.datas}})),window.clearInterval(loadingInt))}},impExcelDatas=exports.impExcelDatas=function(){return function(e,t){var n=t().detail,r=n.impDatas,a=n.config,o=n.impType,i=(n.heads,a.dn),u=a.rt;a.wfd;r&&"1"!==r&&r.length>0&&(e({type:types.HIDE_IMPMODAL,params:{}}),setTimeout(function(){var n=t().detail.datas;e({type:types.DO_EXCELINPUT,params:{impDatas:r}}),opQueue||(opQueue=linkPromise()),opQueue2||(opQueue2=linkPromise()),_Storage2["default"].setWfDetailIsSave(i),_Storage2["default"].setAutoSubmit(""),opQueue=opQueue.then(function(){1==wfDetail.beforeImport(i)&&(0!=u?opQueue2=opQueue2.then(function(){e(doSqlTrigger({key:""}))}).then(function(){e(wfTrigger({key:""}))}).then(function(){e(doFnaTrigger({key:""}))}):e(doFnaTrigger({key:""})))}).then(function(){var e=0==o?n.length+1:1,a=[];r.map(function(t,n){a.push(e+n)});var u=t().detail.datas;wfDetail.doImport(i,u,a)})},300))}},changeImpType=exports.changeImpType=function(e){return{type:types.SET_IMPTYPE,params:{impType:e}}},changeSearch=exports.changeSearch=function(e){return{type:types.DO_SEARCH,params:{value:e.target.value}}},changeSearchforCol=exports.changeSearchforCol=function(e){return{type:types.DO_SEARCH_COL,params:{value:e.target.value}}},linkFather=exports.linkFather=function(e){return function(t,n){t({type:types.LINK_FATHER,params:{fatherKey:e}});var r=n().detail,a=r.config,o=r.fliterDatas,i=a.defaultRow,u=a.reqId,l=i;if(0===o.length)for(;l>0&&"-1"==u;){var s={};t({type:types.ADD_ROW,params:s}),l--}}},openMsg=function(e,t,n){_antd.notification[e]({message:t,description:n})},doFnaTrigger=exports.doFnaTrigger=function(e){return function(t,n){var r=n().detail,a=r.config,o=r.datas,i=a.fml,u=a.reqId;i&&i.length>0&&!function(){for(var n={requestid:u,dtl_id:"",km:"",kmField:"",cdztlx:"",cdztlxField:"",cdzt:"",cdztField:"",rq:"",rqField:"",ys:"",ryField:"",bmField:"",fbField:"",cbzxField:""},r=0;r<i.length;r++){var a=i[r];"1"==a.fieldType&&(n.kmField=a.fieldId),"2"==a.fieldType&&(n.cdztlxField=a.fieldId),"3"==a.fieldType&&(n.cdztField=a.fieldId),"4"==a.fieldType&&(n.rqField=a.fieldId),"6"==a.fieldType&&(n.ryField=a.fieldId),"7"==a.fieldType&&(n.bmField=a.fieldId),"8"==a.fieldType&&(n.fbField=a.fieldId),"9"==a.fieldType&&(n.cbzxField=a.fieldId),n.dtl_id="-1"==u?"0":a.dtlNumber}opQueue||(opQueue=linkPromise());for(var l=new Array,s=function(t){var r=(0,_cloneDeep2["default"])(o[t]);opQueue=""==e.key||e.key==r.key||"object"==_typeof(e.key)&&e.key.length>0?opQueue.then(function(e){var t=n;return t.km=r["wdfield"+t.kmField],t.cdztlx=r["wdfield"+t.cdztlxField],t.cdzt=r["wdfield"+t.cdztField],t.rq=r["wdfield"+t.rqField],n.cdztlx=r["wdfield"+t.cdztlxField],API.doWfDetailFnaTriggerP(t)}).then(function(e){var t=e.split("|"),a=Util.formatFnaResult(t[2]);"0"==n.cdztlx&&(r["wdfield"+n.ryField]=a),"1"==n.cdztlx&&(r["wdfield"+n.bmField]=a),"2"==n.cdztlx&&(r["wdfield"+n.fbField]=a),"3"==n.cdztlx&&(r["wdfield"+n.cbzxField]=a),l.push(r)}):opQueue.then(function(e){l.push(r)})},d=0;d<o.length;d++)s(d);opQueue.then(function(e){t({type:types.SET_TRIGGER,params:{datas:l}})}),opQueue["catch"](function(e){alert("预算取值异常"+e)})}()}},by=function(e,t){return function(n,r){var a=void 0,o=void 0;return n&&r&&"object"===("undefined"==typeof n?"undefined":_typeof(n))&&"object"===("undefined"==typeof r?"undefined":_typeof(r))?(a=n[e],o=r[e],a===o?"function"==typeof t?t(n,r):0:("undefined"==typeof a?"undefined":_typeof(a))===("undefined"==typeof o?"undefined":_typeof(o))?a<o?-1:1:("undefined"==typeof a?"undefined":_typeof(a))<("undefined"==typeof o?"undefined":_typeof(o))?-1:1):void thro("error")}},doHeadSet=exports.doHeadSet=function(e){return function(t,n){t({type:types.SET_HEADS,params:e})}},doLoading=exports.doLoading=function(e){return function(t,n){t(e.loading?{type:types.START_LOADING}:{type:types.END_LOADING})}},doSqlTrigger=exports.doSqlTrigger=function doSqlTrigger(params){return function(dispatch,getState){var fieldId=params.fieldId,key=params.key,_getState$detail14=getState().detail,config=_getState$detail14.config,datas=_getState$detail14.datas,heads=_getState$detail14.heads,wfl=config.wfl,reqId=config.reqId;if(wfl){for(var triSqlArr=new Array,triDateArr=new Array,i=0;i<heads.length;i++){var head=heads[i];if(""!==head.cdata){for(var cdataFields=new Array,cdataDateFields=new Array,cdata=_jsBase.Base64.decode(head.cdata),j=0;j<wfl.length;j++){var obj=wfl[j];cdata.indexOf("$"+obj.id+"$")>=0&&(cdata.indexOf("doFieldDate")>=0?cdataDateFields.push(obj):cdataFields.push(obj))}head.cdataFields=cdataFields,head.cdataDateFields=cdataDateFields,cdata.indexOf("doFieldDate")>=0?triDateArr.push(head):triSqlArr.push(head)}}triSqlArr.sort(by("cdataOrder")),opQueue||(opQueue=linkPromise());for(var newDatas=(0,_cloneDeep2["default"])(datas),dateTrigger=function dateTrigger(_nowDatas){triDateArr.map(function(triDate){var cdata=_jsBase.Base64.decode(triDate.cdata),cdataDateFields=triDate.cdataDateFields,_cdata=cdata.replace(new RegExp(" ","g"),"");_cdata=_cdata.replace(new RegExp('"',"g"),""),_cdata=_cdata.replace(new RegExp("'","g"),""),_cdata=_cdata.split("doFieldDate(")[1].split(")")[0];var __cdata=_cdata.match(new RegExp(/\$\d+(\$\-?\+?\$\d+)+\$/,"g"),"")[0];_nowDatas=_nowDatas.map(function(data,index){if(!key||key===index+1){var setData=!1,newCdata=__cdata;if(cdataDateFields.map(function(e){(fieldId&&fieldId===e.id||!fieldId)&&(setData=!0)}),cdataDateFields.map(function(e){if(data["wdfield"+e.id]){if(data["wdfield"+e.id]&&setData){var t=new RegExp("\\$"+e.id+"\\$","ig");newCdata=newCdata.replace(t,data["wdfield"+e.id]?new Date(data["wdfield"+e.id]).getTime():0)}}else setData=!1}),setData){var _data=_extends({},data);return _data["wdfield"+triDate.id]=eval(_cdata.replace(__cdata,Math.ceil(eval(newCdata)/24e3/3600))),_data}return data}return data})})},_loop5=function(e){for(var t=_jsBase.Base64.decode(triSqlArr[e].cdata),n=triSqlArr[e].cdataFields,r=function(r){opQueue=opQueue.then(function(a){for(var o=new Array,i=getState().detail.datas,u=function(r){var a=i[r];if("object"==("undefined"==typeof key?"undefined":_typeof(key))&&key.length>0)key.map(function(i){var u=t;if(i==a.key){for(var l=0;l<n.length;l++){var s=new RegExp("\\$"+n[l].id+"\\$","ig");if(""!=n[l].detailtable){var d=a["wdfield"+n[l].id];d=d?d.toString():"",u=u.replace(s,d?""+d:"''")}else{var f=document.getElementById("field"+n[l].id);u=u.replace(s,f?f.value:"''")}}var c={id:triSqlArr[e].id,key:a.key,str:_jsBase.Base64.encode(u),value:"",cdataDbName:triSqlArr[e].cdataDbName,flag:r};o.push(c)}});else if(""==key||key==a.key){for(var u=t,l=0;l<n.length;l++){var s=new RegExp("\\$"+n[l].id+"\\$","ig");if(""!=n[l].detailtable){var d="wdfield"+n[l].id;if("undefined"!=typeof a[d]){var f=a[d].toString();u=u.replace(s,f?f:"''")}}else{var c=document.getElementById("field"+n[l].id);u=u.replace(s,c?c.value:"''")}}var p={id:triSqlArr[e].id,key:a.key,str:_jsBase.Base64.encode(u),value:"",cdataDbName:triSqlArr[e].cdataDbName,flag:r};o.push(p)}},l=r;l<r+100&&l<i.length;l++)u(l);return o.length>0?API.doWfDetailSqlTriggerP({triggerSqls:o,reqId:reqId}):[]}).then(function(e){var t=(0,_cloneDeep2["default"])(getState().detail.datas);if(t&&t.length>0){for(var n=0;n<e.length;n++){var r=e[n],a=t[r.flag];a&&(a["wdfield"+r.id]=r.value,a["wdfield"+r.id+"span"]=r.valuespan)}dateTrigger(t),dispatch({type:types.SET_TRIGGER,params:{datas:t}})}})},a=0;a<datas.length;a+=100)r(a);opQueue.then(function(e){}),opQueue["catch"](function(e){})},k=0;k<triSqlArr.length;k++)_loop5(k)}}},addRemark=exports.addRemark=function(e,t){return function(n,r){var a=r().detail.config,o=a.reqId,i=a.detailtable,u=a.canRemark;e.fieldId,e.dbId;u&&API.doWfDetailRemark(_extends({detailtable:i,reqId:o},e)).then(function(){t().then(function(t){n({type:types.ADD_REMARK,params:_extends({},e,{remarkString:JSON.stringify(t.datas)})})})})}},showEditLogByRemark=exports.showEditLogByRemark=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:types.SHOW_EDITLOGBYREMARK,bool:e}},getEditLogByRemark=exports.getEditLogByRemark=function(e){return function(e,t){var n=t().detail.config,r=n.reqId,a=n.detailtable;API.doWfDetailEditLogByRemark({detailtable:a,reqId:r}).then(function(t){var n=t.columns,r=t.datas;e({type:types.SET_EDITLOGBYREMARK,params:{editLogByRemarkColumns:n,editLogByRemarkDatas:r}})})}},setExpandedRowKeys=exports.setExpandedRowKeys=function(e){return function(t,n){var r=n().detail.config.dn;t({type:types.SET_EXPANDROWKEYS,params:e}),wfDetail.doExpanded(r,e.expandedRowKeys)}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=window.sessionStorage,r=(window.localStorage,{setWfDetailSyncStatus:function(e,t){var r=[];n.wfDetailSyncStatus&&(r=JSON.parse(n.wfDetailSyncStatus)),r[e]=t,n.wfDetailSyncStatus=JSON.stringify(r)},getWfDetailSyncStatus:function(e){if(n.wfDetailSyncStatus){var t=JSON.parse(n.wfDetailSyncStatus);return t[e]}return!1},resetWfDetailSyncStatus:function(){n.wfDetailSyncStatus&&(n.wfDetailSyncStatus=JSON.stringify([]))},checkMarkWfDetailSyncDatas:function(e){var t=[],r=[];return n.wfDetailSyncDatas&&(t=JSON.parse(n.wfDetailSyncDatas)),n.markWfDetailSyncDatas&&(r=JSON.parse(n.markWfDetailSyncDatas)),JSON.stringify(t[e])===JSON.stringify(r[e])},markWfDetailSyncDatas:function(){n.markWfDetailSyncDatas=n.wfDetailSyncDatas},setWfDetailSyncDatas:function(e,t){var r=[];n.wfDetailSyncDatas&&(r=JSON.parse(n.wfDetailSyncDatas)),r[e]=t,n.wfDetailSyncDatas=JSON.stringify(r)},getWfDetailSyncDatas:function(e){if(n.wfDetailSyncDatas){var t=JSON.parse(n.wfDetailSyncDatas);return t[e]}return!1},setWfDetailNowDatas:function(e,t,r){this.setWfDetailIsSave(e,"1"),"-1"==r&&n.setItem(r+"_"+e+"_wfDetailNowDatas",JSON.stringify(t))},getWfDetailNowDatas:function(e,t){if(n["-1_"+e+"_wfDetailNowDatas"]){var r=n["-1_"+e+"_wfDetailNowDatas"];return n.removeItem("-1_"+e+"_wfDetailNowDatas"),JSON.parse(r)}return!1},setWfDetailIsSave:function(e,t){var r=[];n.wfDetailIsSave&&(r=JSON.parse(n.wfDetailIsSave)),r[e]=t,n.wfDetailIsSave=JSON.stringify(r)},getWfDetailIsSave:function(e){if(n.wfDetailIsSave){var t=JSON.parse(n.wfDetailIsSave);return t[e]}return!1},setBrowerDatas:function(e,t){var r=new Object;n.browerDatas&&(r=JSON.parse(n.browerDatas)),r[e]=t,n.browerDatas=JSON.stringify(r)},getBrowerDatas:function(e){if(n.browerDatas){var t=JSON.parse(n.browerDatas);return t[e]}return!1},setAutoSubmit:function(e){n.autoSubmit=e},getAutoSubmit:function(){return n.autoSubmit},setWfDetailExcelOut:function(e,t){var r=[];r[e]=t,n.wfDetailExcelOut=JSON.stringify(r)},getWfDetailExcelOut:function(e){if(n.wfDetailExcelOut){var t=JSON.parse(n.wfDetailExcelOut);return t[e]}return!1}});window.wfDetailStorage=r,t["default"]=r},function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(5),c=a(f),p=n(154),h=n(155),y=n(146),g=r(y),m=n(159),v=a(m),w=p.Button.Group,b=function(e,t,n){e=e?e.toString():"",t=t?t.toString():"";for(var r=e?e.split(","):[],a=t?t.split(","):[],o=[],i=0;i<r.length&&a.length===r.length;i++)0!==i&&o.push(","),o.push(c["default"].createElement("a",{href:n+r[i],target:"_blank"},a[i]));return c["default"].createElement("div",null,o)},_=function(e){function t(){return i(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),d(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.actions,r=t.text,a=t.record,i=t.head,u=t.rt,l=t.showType,d=t.wll,f=t.dn,y=t.index,m=t.canRemark,_=t.config,S=g.doWfDetailEditTypeGet(i.editType,f,a,i.id,d),E=parseInt(i.fieldhtmltype),D=parseInt(i.type),x=i.fielddbtype,I=_.lang,O=_.reqId,A=_.detailtable,T=_.userInfo,R=_.wfId,P=(_.canEditOld,
void 0!==I&&7!==I),k=a.key.toString().indexOf(".")>0?"10000"+a.key.replace(/\./gi,""):y,j="";i.buttons&&(j=c["default"].createElement("span",{style:{marginLeft:2,width:"28%"}},c["default"].createElement(w,{size:"small"},i.buttons.map(function(t){return c["default"].createElement(p.Button,s({type:"primary",onClick:t.event.bind(e,y,a)},t.props||{}),t.name)}))));var C=r,N=a["wdfield"+i.id+"span"];if(N="undefined"!=typeof N&&""!==N?N:C,"undefined"!=typeof C&&""!==C&&(1==E&&3==D&&(C=g.formatNumber(parseFloat(C),parseInt(i.qfws),0,i.noZeroEnd),N=C),i.numCon&&1==E&&2==D&&(C=g.formatNumber(parseInt(C),0,1,i.noZeroEnd),N=C),i.numCon&&1==E&&3==D&&(C=g.formatNumber(parseFloat(C),parseInt(i.qfws),1,i.noZeroEnd),N=C),1==E&&5==D&&(C=g.formatNumber(parseFloat(C),parseInt(i.qfws),1,i.noZeroEnd),N=C)),i.chDetail){var M=i.chDetail.split("_"),L=4===M.length?parseInt(M[3].substring(2))-1:-1;return c["default"].createElement("div",null,c["default"].createElement("span",null,N),c["default"].createElement(p.Button,{size:"small",onClick:function(){return wfDetail.showChDetail(L,a.key)},style:{marginLeft:10}},"子明细"))}var W={isEN:P,canRemark:m,detailtable:A,reqId:O,userInfo:T,fieldId:i.id,dbId:a.dbId,onChange:function(e,t,r){n.addRemark(s({key:a.key,dbId:a.dbId,fieldId:e},t),r)},filedType:"edit",buttons:j};if(void 0!==a["wdfield"+i.id+"remarkstatus"]&&(W.remarkStatus=a["wdfield"+i.id+"remarkstatus"]),void 0!==a["wdfield"+i.id+"remarkstring"]&&(W.remarkString=a["wdfield"+i.id+"remarkstring"]),S<=0||S>2||0===u||"2"===l){var B=function(e){var t=/<[^>]+>/g;return t.test(e)},q=function(){return{__html:N}};return 6==E?2==D||3==D?c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaUpload,{index:k,fieldid:i.id,style:{width:"100%"},head:i,reqId:O,wfId:R,onChange:z,value:C,valueSpan:N,listType:2==D?"picture":3==D?"picture-card":"text",readOnly:!0,ht:E,t:D,et:S})):c["default"].createElement("div",null,b(C,N,"/cloudstore/system/GetDownloadFile.jsp?"+("requestid="+O+"&fieldid="+i.id+"&fileid=")),c["default"].createElement("input",{type:"hidden",value:C,id:"field"+i.id+"_"+k})):3==E&&1==D||3==E&&17==D?c["default"].createElement(v["default"],s({},W,{filedType:"read"}),b(C,N,"/hrm/resource/HrmResource.jsp?id="),c["default"].createElement("input",{type:"hidden",value:C,id:"field"+i.id+"_"+k})):3==E&&16==D||3==E&&152==D?c["default"].createElement(v["default"],s({},W,{filedType:"read"}),b(C,N,"/workflow/request/ViewRequest.jsp?requestid="),c["default"].createElement("input",{type:"hidden",value:C,id:"field"+i.id+"_"+k})):4==E?c["default"].createElement(v["default"],s({},W,{filedType:"read"}),"1"==C?"是":"否",c["default"].createElement("input",{type:"hidden",value:C,id:"field"+i.id+"_"+k})):B(N)?c["default"].createElement(v["default"],s({},W,{filedType:"read"}),c["default"].createElement("div",{style:1!=E||3!=D&&5!=D?null:{textAlign:"right"},dangerouslySetInnerHTML:q()}),c["default"].createElement("input",{type:"hidden",value:C,id:"field"+i.id+"_"+k})):c["default"].createElement(v["default"],s({},W,{filedType:"read"}),c["default"].createElement("div",{style:1!=E||3!=D&&5!=D?null:{textAlign:"right"}},N),c["default"].createElement("input",{type:"hidden",value:C,id:"field"+i.id+"_"+k}))}var F=function(e){n.editCell({key:a.key,fieldId:i.id,value:e.target.value,valueSpan:e.target.value})},U=function(e){n.editCell({key:a.key,fieldId:i.id,value:e.target.checked?"1":"0",valueSpan:e.target.checked?"已选":"未选"})},z=function(e,t){n.editCell({key:a.key,fieldId:i.id,value:e,valueSpan:t})};if(1==E&&1==D){if(j&&""!=j)return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaInput,{index:k,fieldid:i.id,type:"text",style:{width:"65%"},value:C,onBlur:F,et:S}));var K=Number(i.fielddbtype.split("(")[1].split(")")[0]);return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaInput,{index:k,fieldid:i.id,type:"text",style:{width:"100%"},value:C,onBlur:F,maxLength:K,et:S,dt:x}))}if(1==E&&2==D)return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaInput4Num,{index:k,fieldid:i.id,style:{width:"100%"},value:C,onBlur:z,et:S,step:0,isThousand:i.numCon&&1==i.numCon?1:0}));if(1==E&&3==D)return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaInput4Num,{index:k,fieldid:i.id,style:{width:"100%"},value:C,onBlur:z,et:S,noZeroEnd:i.noZeroEnd,step:parseInt(i.qfws),isThousand:i.numCon&&1==i.numCon?1:0}));if(1==E&&4==D)return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaInput4NumTp,{index:k,fieldid:i.id,style:{width:"100%"},value:C,onBlur:z,et:S,step:parseInt(i.qfws)}));if(1==E&&5==D)return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaInput4NumCon,{index:k,fieldid:i.id,style:{width:"100%"},value:C,onBlur:z,et:S,noZeroEnd:i.noZeroEnd,step:parseInt(i.qfws)}));if(2==E)return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaTextarea,{index:k,fieldid:i.id,style:{width:"100%"},value:C,onBlur:F,et:S}));if(3==E&&2==D)return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaDatePicker,{index:k,fieldid:i.id,style:{width:"100%"},et:S,id:i.id,value:C,onChange:z}));if(3==E&&19==D)return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaTimePicker,{index:k,fieldid:i.id,style:{width:"100%"},value:C,et:S,onChange:z}));if(3==E&&(1==D||4==D||7==D||8==D||9==D||12==D||13==D||16==D||17==D||18==D||22==D||23==D||24==D||25==D||27==D||28==D||29==D||30==D||31==D||34==D||35==D||36==D||37==D||38==D||52==D||53==D||54==D||55==D||57==D||59==D||60==D||61==D||62==D||63==D||65==D||69==D||89==D||119==D||135==D||141==D||142==D||152==D||160==D||161==D||162==D||164==D||171==D||179==D||194==D||226==D||244==D||251==D||256==D||260==D||279==D||280==D))return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaBrowserE8,{index:k,fieldid:i.id,value:C,valueSpan:N,isSingle:17!=D&&162!=D,ht:E,t:D,dt:x,onChange:z,et:S}));if(3==E&&16==D)return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaInput4Request,{index:k,fieldid:i.id,style:{width:"100%"},value:C,valueSpan:N,id:i.id+"_"+a.dbId,isMult:!1,fieldfieldid:i.id,ht:E,t:D,dt:x,onChange:z,et:S}));if(3==E&&152==D){var G;return c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaInput4Request,(G={index:k,fieldid:i.id,style:{width:"100%"},value:C,valueSpan:N},o(G,"fieldid",i.id),o(G,"isMult",!0),o(G,"fieldfieldid",i.id),o(G,"ht",E),o(G,"t",D),o(G,"dt",x),o(G,"onChange",z),o(G,"et",S),G)))}return 4==E?c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaCheckbox,{index:k,fieldid:i.id,defaultChecked:"1"==C,onChange:U})):5==E?c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaSelect4Base,{index:k,fieldid:i.id,style:{width:"100%"},defaultValue:C,fieldfieldid:i.id,onChange:z,datas:i.selValues,ht:E,t:D,et:S})):6==E?c["default"].createElement(v["default"],W,c["default"].createElement(h.WeaUpload,{index:k,fieldid:i.id,style:{width:"100%"},reqId:O,wfId:R,head:i,onChange:z,value:C,valueSpan:N,listType:2==D?"picture":3==D?"picture-card":"text",ht:E,t:D,et:S})):c["default"].createElement(v["default"],W,c["default"].createElement("div",null,N),c["default"].createElement("input",{type:"hidden",value:C,id:"field"+i.id+"_"+k}))}}]),t}(f.Component);t["default"]=_},function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,s,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(5),p=a(c),h=n(154),y=n(46),g=r(y),m=n(160),v=a(m),w=h.Modal.confirm,b=h.Modal.warning,_=["success","info","warning","error"],S=(s=l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.strToList=function(e){return e?JSON.parse(e):[]},n.noRemark=function(e){return 0===n.strToList(e).length},n.getLoglist=function(){return new Promise(function(e){n.setState({loading:!0});var t=n.props,r=t.reqId,a=t.detailtable,o=t.fieldId,i=t.dbId;g.doWfDetailRemarkLog({reqId:r,detailtable:a,fieldId:o,dbId:i}).then(function(t){var r=t.columns,a=t.datas;n.setState({columns:r,datas:a,loading:!1}),n.initGetList=!0,e(t)})})},n.onAdd=function(){var e=n.state.content,t=n.props,r=t.onChange,a=t.fieldId,o=t.userInfo,i=o.userid,u=o.username,l=JSON.stringify({id:"",userid:i,username:u,content:e});"function"==typeof r&&r(a,{value:l,isAdd:!0},n.getLoglist),n.setState({content:""})},n.onDel=function(e){var t=n.props,r=t.onChange,a=t.fieldId;w({title:"提示",content:"确认删除本条批注意见吗？",onOk:function(){"function"==typeof r&&r(a,{value:JSON.stringify(e),isDel:!0},n.getLoglist)}})},n.onOk=function(){var e=n.state.content;e?n.onAdd():b({title:"提示",content:"批注意见不能为空！"})},n.onCancel=function(){n.setState({modalVisible:!1,content:""})},n.getPopoverProps=function(e){return{trigger:"hover",overlayClassName:n.prefixClass+"-popover",placement:"topLeft",content:p["default"].createElement("div",{className:n.prefixClass+"-popover-content"},e.map(function(e,t){var n=e.userid,r=e.username,a=e.time,o=e.content;return p["default"].createElement(h.Alert,{key:n+"_"+t,message:o,description:p["default"].createElement("span",null,p["default"].createElement("span",{style:{marginRight:5}},r),a.substr(0,16)),type:_[t%4]})}))}},n.isInstanceMounted=!1,n.prefixClass="wfdetail-remark",n.initGetList=!1,n.state={modalVisible:!1,content:"",columns:[],datas:[],loading:!1},n}return u(t,e),f(t,[{key:"componentDidMount",value:function(){this.isInstanceMounted=!0;var e=this.props,t=e.filedType,n=e.remarkString;"read"===t&&this.refs.r1&&$(this.refs.r1).closest("td").css({position:"relative",backgroundColor:this.noRemark(n)?"transparent":"#ff0"}),!this.noRemark(n)&&"edit"===t&&this.refs.r2&&$(this.refs.r2).closest("td").css({backgroundColor:"#ff0"})}},{key:"componentWillReceiveProps",value:function(e){var t=e.remarkString,n=e.filedType,r=this.noRemark(this.props.remarkString),a=this.noRemark(t);!r&&a&&this.refs.r1&&$(this.refs.r1).closest("td").css({backgroundColor:"transparent"}),r&&!a&&this.refs.r1&&$(this.refs.r1).closest("td").css({backgroundColor:"#ff0"}),"edit"===n&&this.refs.r2&&!a&&$(this.refs.r2).closest("td").css({backgroundColor:"#ff0"})}},{key:"componentWillUnmount",value:function(){this.isInstanceMounted=!1}},{key:"getModal",value:function(){var e=this,t=this.state,n=t.modalVisible,r=t.content,a=t.datas,o=t.columns,i=t.loading,u=[p["default"].createElement("div",null,p["default"].createElement(h.Button,{key:"submit",type:"primary",onClick:this.onOk},"确 认"),p["default"].createElement(h.Button,{key:"back",type:"ghost",onClick:this.onCancel},"取 消")),p["default"].createElement("p",{className:"wfdetail-remark-log-title"},"历史批注"),p["default"].createElement(v["default"],d({},this.props,{datas:a,columns:o,loading:i},{onDel:this.onDel}))];return p["default"].createElement(h.Modal,{width:700,wrapClassName:"wfdetail-remark-dialog",title:"请填写修改意见",maskClosable:!1,visible:n,onCancel:this.onCancel,footer:u},p["default"].createElement(h.Input,{type:"textarea",rows:4,value:r,onChange:function(t){return e.setState({content:t.target.value})}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.filedType,r=t.remarkStatus,a=t.remarkString,o=t.children,i=t.canRemark,u=t.buttons;if(!i||void 0===r)return p["default"].createElement("div",null,o,u);var l=this.strToList(a),s=this.noRemark(a),f={className:this.prefixClass,title:"read"===n?"点击填写修改意见":""};return"read"===n?p["default"].createElement("div",d({},f,{ref:"r1",onClick:function(){e.setState({modalVisible:!0}),!e.initGetList&&e.getLoglist()}}),o,u,this.getModal(),1===r?p["default"].createElement("span",{className:this.prefixClass+"-red"}):null):s?p["default"].createElement("div",null,o,u):p["default"].createElement(h.Popover,this.getPopoverProps(l),p["default"].createElement("div",d({},f,{ref:"r2"}),o,u))}}]),t}(p["default"].Component),l.defaultProps={},s);t["default"]=S},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),d=r(s),f=n(154),c=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isInstanceMounted=!1,n.prefixClass="wfdetail-remark-log",n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.isInstanceMounted=!0}},{key:"componentWillUnmount",value:function(){this.isInstanceMounted=!1}},{key:"getColumns",value:function(){var e=this.props,t=e.userInfo.userid,n=e.columns,r=e.onDel;return n.map(function(e){return u({},e,"operate"===e.dataIndex?{render:function(e){return"0"===e?"添加":"1"===e?"修改":"删除"}}:{},{onFilter:function(t,n){return n[e.dataIndex].indexOf(t)>=0},sorter:function(t,n){return t[e.dataIndex]<n[e.dataIndex]?-1:t[e.dataIndex]>n[e.dataIndex]?1:0}})}).concat({dataIndex:"delete",title:"操作",render:function(e,n){return n.userid===t?d["default"].createElement("a",{href:"javascript:void(0)",onClick:function(){return r(n)},style:{color:"#57c5f7"}},"删除"):""}})}},{key:"render",value:function(){var e=this.props,t=e.datas,n=e.loading;return d["default"].createElement("div",null,d["default"].createElement(f.Table,{columns:this.getColumns(),dataSource:t,size:"middle",loading:n}))}}]),t}(d["default"].Component);t["default"]=c},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),s=r(l),d=n(154),f=d.Tree.TreeNode,c=function h(e,t){var n=e.children;return s["default"].createElement(f,{title:"["+e.key+"] ",key:e.key},n&&n.length>0&&n.map(function(e){return h(e)}))},p=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.datas,r=e.treenode,a=e.selTreenode;return s["default"].createElement(d.Card,{title:"类型",style:{width:"100%"}},n.length>0&&s["default"].createElement(d.Tree,{onSelect:function(e){return t.setTree({selTreenode:e[0]})},defaultSelectedKeys:[a],defaultExpandedKeys:[n[0].key]},n.map(function(e){return c(e,r)})))}}]),t}(l.Component);t["default"]=p},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),d=r(s),f=n(154),c=f.Form.Item,p=f.Radio.Button,h=f.Radio.Group,y=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.actions,t=this.props.config.impTypeAuth,n=t&&""!=t?JSON.parse(t):[0],r=0;r=n.indexOf(0)>=0?0:n.indexOf(1)>=0?1:n.indexOf(2)>=0?2:0,e.changeImpType(r)}},{key:"render",value:function(){var e=this.props,t=e.impModal,n=e.impDatas,r=(e.impNoDel,e.impPercent),a=e.impMsg,o=this.props,i=o.actions,l=o.heads,s=o.config,y=o.pagination,g=s.reqId,m=s.wfId,v=s.dn,w=s.impTypeAuth,b=s.tdatashowonly,_=s.lang,S=s.nodeId,E=void 0!==_&&7!==_,D=y.current,x={labelCol:{span:8},wrapperCol:{span:16}},I={name:"excelFile",showUploadList:!1,action:"/cloudstore/app/no0000012/ControlServlet.jsp?action=Action_DoWfDetailExcelImport",data:{reqId:g,wfId:m,nodeId:S,heads:JSON.stringify(l),dn:v},onChange:function(e){i.uploadChange(e)}},O=w&&""!=w?JSON.parse(w):[0],A=0;return A=O.indexOf(0)>=0?0:O.indexOf(1)>=0?1:O.indexOf(2)>=0?2:0,d["default"].createElement(f.Modal,{title:E?"Detail Import":"明细导入",visible:t,onCancel:function(){return i.hideImpModal()},footer:[d["default"].createElement(f.Button,{key:"back",type:"ghost",size:"large",onClick:function(){return i.hideImpModal()}},E?"Back":"返回"),d["default"].createElement(f.Button,{key:"submit",type:"primary",size:"large",onClick:function(){b?i.goPage({current:D}):i.impExcelDatas()},disabled:!n||n&&"1"==n||n&&"1"!=n&&0==n.length||a.length>0},E?"Confirm":"确定")]},d["default"].createElement(f.Form,{horizontal:!0},d["default"].createElement(c,u({},x,{label:E?"Template":"导入模板:"}),d["default"].createElement("a",{className:"ant-form-text",onClick:function(){return i.detailExcelOut(!1)},target:"_blank"},E?"Download":"点击获取")),d["default"].createElement(c,u({},x,{label:E?"Import File":"选择文件:",required:!0}),d["default"].createElement(f.Upload,I,d["default"].createElement(f.Button,{type:"ghost"},d["default"].createElement(f.Icon,{type:"upload"})," ",E?"Select File":"选择后自动读取:"))),d["default"].createElement(c,u({},x,{label:E?"Import Method":"导入方式:"}),d["default"].createElement(h,{onChange:function(e){return i.changeImpType(e.target.value)},defaultValue:A},O.indexOf(0)>=0&&d["default"].createElement(p,{value:0},E?"Insert":"新增"),O.indexOf(1)>=0&&d["default"].createElement(p,{value:1},E?"Update":"更新"),O.indexOf(2)>=0&&d["default"].createElement(p,{value:2},E?"Cover":"覆盖"))),d["default"].createElement(c,u({},x,{label:E?"Progressing":"进度:"}),d["default"].createElement(f.Progress,{percent:r,status:"1"==n?"exception":100==r?"success":"active"})),a.length>0&&d["default"].createElement(c,u({},x,{label:E?"Tip":"提示:"}),d["default"].createElement(f.Alert,{message:d["default"].createElement("div",null,d["default"].createElement("p",null,E?"Data error, please correct and re-import:":"导入数据异常，请修改后重试，具体信息如下："),a.map(function(e){return d["default"].createElement("p",null,e)})),type:"error"})),"1"==n&&d["default"].createElement(c,u({},x,{label:E?"Tip":"提示:"}),d["default"].createElement(f.Alert,{message:E?d["default"].createElement("div",null,d["default"].createElement("p",null,"Sorry, EXCEL reads exceptions, perhaps the reason is:"),d["default"].createElement("p",null,"1. EXCEL data is too much to be processed, please reduce data and batch import"),d["default"].createElement("p",null,"2. EXCEL format is wrong!")):d["default"].createElement("div",null,d["default"].createElement("p",null,"对不起，EXCEL读取异常，可能原因是："),d["default"].createElement("p",null,"（1）您读取的EXCEL数据过多，后台无法处理，需减少数据并进行分批导入；"),d["default"].createElement("p",null,"（2）您的EXCEL格式有误！")),type:"error"})),n&&"1"!=n&&n.length>0&&d["default"].createElement(c,u({},x,{label:E?"Tip":"提示:"}),d["default"].createElement(f.Alert,{message:E?n.length+" records read successfully , click Confirm to import!":"EXECL读取成功，共读取"+n.length+"条记录，点击确认即可同步到明细中！",type:"success"})),d["default"].createElement(c,u({},x,{label:E?"Instruction":"说明:"}),d["default"].createElement(f.Alert,{message:E?d["default"].createElement("div",null,d["default"].createElement("p",null,"1. Only allow to import the field data with editable property on current node, and ignore the import operation on the field data without editable property."),d["default"].createElement("p",null,"2. When select “Insert” import method, Add new field data after old ones (blank at 1st time operation) . It is only applicable before 1st time submit."),d["default"].createElement("p",null,"3. When select “Update” import method, Update the field data.")):d["default"].createElement("div",null,d["default"].createElement("p",null,"（1）建议每次导入数量不超过500条，可多次导入"),d["default"].createElement("p",null,"（2）只允许导入有编辑权限的数据，如果没有编辑权限会自动忽略"),d["default"].createElement("p",null,"（3）导入方式选择【新增】时，将会追加数据"),d["default"].createElement("p",null,"（4）导入方式选择【更新】时，将只导入有主键数据，无主键数据自动忽略"),d["default"].createElement("p",null,"（5）导入方式选择【覆盖】时，将会清空当前权限下已有数据"),d["default"].createElement("p",null,"（6）对导入数据没有数字要求时，请尽量清空当前列的格式")),type:"info"}))))}}]),t}(s.Component);t["default"]=y},function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(5),c=r(f),p=n(154),h=(l=u=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=function(){var e=n.props.actions;e.showEditLogByRemark&&e.showEditLogByRemark(!1)},n.isInstanceMounted=!1,n.prefixClass="wfdetail-remark-log",n}return i(t,e),d(t,[{key:"componentDidMount",value:function(){this.isInstanceMounted=!0;var e=this.props.actions;e.getEditLogByRemark()}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillUnmount",value:function(){this.isInstanceMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.visible,n=void 0!==t&&t,r=e.columns,a=e.datas,o=void 0===a?[]:a,i=r.map(function(e){return s({},e,{onFilter:function(t,n){return n[e.dataIndex].indexOf(t)>=0},sorter:function(t,n){return t[e.dataIndex]<n[e.dataIndex]?-1:t[e.dataIndex]>n[e.dataIndex]?1:0}})});return c["default"].createElement(p.Modal,{width:700,title:"更改日志",visible:n,onCancel:this.onClose,onOk:this.onClose},c["default"].createElement(p.Table,{columns:i,dataSource:o,size:"middle"}))}}]),t}(c["default"].Component),u.defaultProps={},l);t["default"]=h},function(e,t,n){var r=n(165);"string"==typeof r&&(r=[[e.id,r,""]]);n(167)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(166)(),t.push([e.id,".wfDetail .ant-btn span{background:transparent!important}.wfDetail .advanced-search-form{padding:16px 8px;background:#f8f8f8;border:1px solid #d9d9d9;border-radius:6px;margin-bottom:10px}.wfDetail .advanced-search-form>.row{margin-left:-10px}.wfDetail .advanced-search-form>.row>.col-8{padding:0 8px}.wfDetail .advanced-search-form .ant-form-item{margin-bottom:16px}.wfDetail .advanced-search-form .ant-btn+.ant-btn{margin-left:8px}.wfDetail .ant-modal-close span{background:transparent!important}.wfDetail .ant-tabs-nav .ant-tabs-tab{height:auto!important}.wfDetail .ant-loading-span{text-align:center;background:rgba(0,0,0,.05);border-radius:4px;margin-bottom:20px;padding:30px 50px;margin:20px 0}.wfDetail .ant-input-group .ant-input{z-index:auto}.wfDetail .ant-table-body .ant-badge{width:100%}.wfDetail .ant-upload button span{background:none;display:inline-block;float:none;padding:0;margin:0}.wfDetail .ant-radio-button-wrapper{font-weight:400}.wfDetail .wea-detail-table .ant-table-thead>tr>th{background-color:#e7f3fc;font-weight:400}.wfDetail .ant-table{overflow:visible}.wfDetail .wea-detail-table .ant-table-bordered .ant-table-fixed-left .ant-table-fixed .ant-table-thead>tr>th,.wfDetail .wea-detail-table .ant-table-bordered .ant-table-fixed-right .ant-table-fixed .ant-table-thead>tr>th{border-top:1px solid #90badd}.wfDetail .ant-table-fixed-left table,.wfDetail .ant-table-fixed-right table,.wfDetail .wea-detail-table .ant-table-bordered .ant-table-body>table,.wfDetail .wea-detail-table .ant-table-bordered .ant-table-fixed-header,.wfDetail .wea-detail-table .ant-table-bordered .ant-table-tbody>tr>td,.wfDetail .wea-detail-table .ant-table-bordered .ant-table-thead>tr>th{border-color:#90badd}.wfDetail .ant-table-bordered .ant-table-fixed-left .ant-table-fixed,.wfDetail .ant-table-bordered .ant-table-fixed-right .ant-table-fixed{border-bottom:1px solid #90badd}.wfDetail .ant-table-body{height:100%;max-height:100%}.wfDetail .wea-detail-table .ant-table-thead>tr>th{padding:0}.wfDetail .wfdetail-sn{white-space:nowrap}.wfDetail .wfdetail-remark{min-height:16px}.wfDetail .wfdetail-remark .wfdetail-remark-red{border:8px solid red;width:0;height:0;display:block;border-left-color:transparent;border-bottom-color:transparent;font-size:0;line-height:0;position:absolute;right:0;top:0}.wfdetail-remark-popover .ant-popover-inner-content{padding:5px 5px 0}.wfdetail-remark-popover .ant-popover-inner-content .ant-alert-with-description{padding:6px 12px;margin-bottom:5px;max-width:300px}.wfdetail-remark-popover .ant-popover-inner-content .ant-alert-with-description .ant-alert-message{font-size:12px}.wfdetail-remark-dialog .ant-modal-footer{border-top:none;padding:0 0 16px}.wfdetail-remark-dialog .ant-modal-footer>div{padding:0 16px}.wfdetail-remark-dialog .ant-modal-footer .wfdetail-remark-log-title{margin-top:16px;padding:10px 16px;text-align:left;border-top:1px solid #e9e9e9}.wfdetail-sqlmodal .ant-modal-body{height:500px;overflow:hidden auto}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(r[o]=!0)}for(a=0;a<t.length;a++){var i=t[a];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=f[r.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](r.parts[o]);for(;o<r.parts.length;o++)a.parts.push(u(r.parts[o],t))}else{for(var i=[],o=0;o<r.parts.length;o++)i.push(u(r.parts[o],t));f[r.id]={id:r.id,refs:1,parts:i}}}}function a(e){for(var t=[],n={},r=0;r<e.length;r++){var a=e[r],o=a[0],i=a[1],u=a[2],l=a[3],s={css:i,media:u,sourceMap:l};n[o]?n[o].parts.push(s):t.push(n[o]={id:o,parts:[s]})}return t}function o(){var e=document.createElement("style"),t=h();return e.type="text/css",t.appendChild(e),e}function i(){var e=document.createElement("link"),t=h();return e.rel="stylesheet",t.appendChild(e),e}function u(e,t){var n,r,a;if(t.singleton){var u=g++;n=y||(y=o()),r=l.bind(null,n,u,!1),a=l.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=i(),r=d.bind(null,n),a=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(),r=s.bind(null,n),a=function(){n.parentNode.removeChild(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}function l(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=m(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function s(e,t){var n=t.css,r=t.media;t.sourceMap;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,r=(t.media,t.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}var f={},c=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=c(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,g=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var n=a(e);return r(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var u=n[i],l=f[u.id];l.refs--,o.push(l)}if(e){var s=a(e);r(s,t)}for(var i=0;i<o.length;i++){var l=o[i];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete f[l.id]}}}};var m=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}])});
//# sourceMappingURL=wfDetail.js.map