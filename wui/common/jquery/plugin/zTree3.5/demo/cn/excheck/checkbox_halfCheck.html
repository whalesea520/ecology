<!DOCTYPE html>
<HTML>
<HEAD>
	<TITLE> ZTREE DEMO - Checkbox halfCheck</TITLE>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" href="../../../css/demo.css" type="text/css">
	<link rel="stylesheet" href="../../../css/zTreeStyle/zTreeStyle.css" type="text/css">
	<script type="text/javascript" src="../../../js/jquery-1.4.4.min.js"></script>
	<script type="text/javascript" src="../../../js/jquery.ztree.core-3.5.js"></script>
	<script type="text/javascript" src="../../../js/jquery.ztree.excheck-3.5.js"></script>
	<!--
	<script type="text/javascript" src="../../../js/jquery.ztree.exedit-3.5.js"></script>
	-->
	<SCRIPT type="text/javascript">
		<!--
		var setting = {
			async: {
				enable: true,
				url:"../asyncData/getNodes.php",
				autoParam:["id", "name=n", "level=lv"],
				otherParam:{"chk":"chk"},
				dataFilter: dataFilter
			},
			check: {
				enable: true,
				autoCheckTrigger: true
			},
			data: {
				simpleData: {
					enable: true
				}
			},
			callback: {
				onCheck: onCheck,
				onAsyncSuccess: onAsyncSuccess
			}
		};

		function dataFilter(treeId, parentNode, childNodes) {
			if (parentNode.checkedEx === true) {
				for(var i=0, l=childNodes.length; i<l; i++) {
					childNodes[i].checked = parentNode.checked;
					childNodes[i].halfCheck = false;
					childNodes[i].checkedEx = true;
				}
			}
			return childNodes;
		}
		function onCheck(event, treeId, treeNode) {
			cancelHalf(treeNode)
			treeNode.checkedEx = true;
		}
		function onAsyncSuccess(event, treeId, treeNode, msg) {
			cancelHalf(treeNode);
		}
		function cancelHalf(treeNode) {
			if (treeNode.checkedEx) return;
			var zTree = $.fn.zTree.getZTreeObj("treeDemo");
			treeNode.halfCheck = false;
			zTree.updateNode(treeNode);			
		}

		var zNodes =[
			{ id:1, pId:0, name:"鍗婂嬀閫?1", halfCheck:true, isParent:true},
			{ id:2, pId:0, name:"鍗婂嬀閫?2", halfCheck:true, checked:true, isParent:true},
			{ id:3, pId:0, name:"闅忔剰鍕鹃€?3", checked:true, isParent:true}
		];

		$(document).ready(function(){
			$.fn.zTree.init($("#treeDemo"), setting, zNodes);
		});
		//-->
	</SCRIPT>
</HEAD>

<BODY>
<h1>Checkbox halfCheck 婕旂ず</h1>
<h6>[ 鏂囦欢璺緞: excheck/checkbox_halfCheck.html ]</h6>
<div class="content_wrap">
	<div class="zTreeDemoBackground left">
		<ul id="treeDemo" class="ztree"></ul>
	</div>
	<div class="right">
		<ul class="info">
			<li class="title"><h2>1銆佹紨绀鸿鏄?/h2>
				<ul class="list">
				<li>杩欎釜婕旂ず寮忓疄鐜颁簡 寮傛鍔犺浇妯″紡 涓嬬畝鍗曠殑鍕鹃€夋搷浣?/li>
				<li class="highlight_red">1)銆佸姞杞藉瓙鑺傜偣鍚庯紝鐖惰妭鐐圭殑 halfCheck 绔嬪埢澶辨晥</li>
				<li class="highlight_red">2)銆佸嬀閫夌埗鑺傜偣锛屽彲浠ュ奖鍝嶄箣鍚庡姞杞界殑瀛愯妭鐐圭殑鍕鹃€夌姸鎬?/li>
				<li class="highlight_red">3)銆佸嬀閫夌埗鑺傜偣锛屽彲浠ヨ鍏跺瓙鑺傜偣鐨?halfCheck 灞炴€уけ鏁?/li>
				</ul>
			</li>
			<li class="title"><h2>2銆乻etting 閰嶇疆淇℃伅璇存槑</h2>
				<ul class="list">
				<li>瀹炵幇鍗婂嬀閫夊姛鑳斤紝涓嶉渶瑕侀厤缃换浣曞弬鏁般€備絾鍗婂嬀閫夊姛鑳藉睘浜庤緟鍔╁姛鑳斤紝鏃犳硶鍗曠嫭浣跨敤锛屽洜姝や篃闇€瑕佹牴鎹嚜宸辩殑闇€姹傞厤缃壒瀹氬弬鏁般€?/li>
				</ul>
			</li>
			<li class="title"><h2>3銆乼reeNode 鑺傜偣鏁版嵁璇存槑</h2>
				<ul class="list">
				<li class="highlight_red">1)銆佽鍦ㄨ妭鐐瑰垵濮嬪寲涔嬪墠锛岃缃?treeNode.halfCheck 灞炴€э紝璇︾粏璇峰弬瑙?API 鏂囨。涓殑鐩稿叧鍐呭</li>
				<li>2)銆佸叾浠栬鍙傝€?鈥楥heckbox 鍕鹃€夋搷浣溾€?/li>
				</ul>
			</li>
		</ul>
	</div>
</div>
</BODY>
</HTML>