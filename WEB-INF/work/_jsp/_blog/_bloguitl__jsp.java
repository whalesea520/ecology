/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._blog;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import java.text.MessageFormat;
import java.util.*;
import weaver.hrm.*;
import weaver.systeminfo.*;
import weaver.general.StaticObj;
import weaver.general.Util;
import weaver.hrm.settings.RemindSettings;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;

public class _bloguitl__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
	
	response.setHeader("cache-control", "no-cache");
	response.setHeader("pragma", "no-cache");
	response.setHeader("expires", "Mon 1 Jan 1990 00:00:00 GMT");
	

	User user = HrmUserVarify.getUser (request , response) ;
	if(user == null)  return ;
	Log logger= LogFactory.getLog(this.getClass());
	String isIE = (String)session.getAttribute("browser_isie");

      out.write(_jsp_string1, 0, _jsp_string1.length);
      out.print((SystemEnv.getHtmlLabelName(26964,user.getLanguage())));
      out.write(_jsp_string2, 0, _jsp_string2.length);
      out.print((SystemEnv.getHtmlLabelName(27038,user.getLanguage())));
      out.write(_jsp_string3, 0, _jsp_string3.length);
      
			    Object object[]=new Object[1];
			    object[0]="10";
			    String message=MessageFormat.format(SystemEnv.getHtmlLabelName(27040,user.getLanguage()),object);
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((message));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((SystemEnv.getHtmlLabelName(27541,user.getLanguage())));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((SystemEnv.getHtmlLabelName(27544,user.getLanguage())));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      out.print((SystemEnv.getHtmlLabelName(23073,user.getLanguage())+SystemEnv.getHtmlLabelName(345,user.getLanguage())));
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((SystemEnv.getHtmlLabelName(15537,user.getLanguage())));
      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((SystemEnv.getHtmlLabelName(26924,user.getLanguage())));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      out.print((SystemEnv.getHtmlLabelName(26925,user.getLanguage())));
      out.write(_jsp_string11, 0, _jsp_string11.length);
      out.print((SystemEnv.getHtmlLabelName(26924,user.getLanguage())));
      out.write(_jsp_string12, 0, _jsp_string12.length);
      out.print((SystemEnv.getHtmlLabelName(31505,user.getLanguage())));
      out.write(_jsp_string13, 0, _jsp_string13.length);
      out.print((SystemEnv.getHtmlLabelName(31505,user.getLanguage())));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((SystemEnv.getHtmlLabelName(31505,user.getLanguage())));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((SystemEnv.getHtmlLabelName(31505,user.getLanguage())));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((SystemEnv.getHtmlLabelName(31506,user.getLanguage())));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      out.print((SystemEnv.getHtmlLabelName(83161,user.getLanguage())));
      out.write(_jsp_string18, 0, _jsp_string18.length);
      out.print((SystemEnv.getHtmlLabelName(93,user.getLanguage())));
      out.write(_jsp_string19, 0, _jsp_string19.length);
      out.print((SystemEnv.getHtmlLabelName(675,user.getLanguage())));
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((user.getUID() ));
      out.write(_jsp_string21, 0, _jsp_string21.length);
      out.print((SystemEnv.getHtmlLabelName(83172,user.getLanguage())));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((user.getUID()));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((SystemEnv.getHtmlLabelName(27037,user.getLanguage())));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((SystemEnv.getHtmlLabelName(21809,user.getLanguage())));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      out.print((SystemEnv.getHtmlLabelName(26965,user.getLanguage())));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((SystemEnv.getHtmlLabelName(83151,user.getLanguage())));
      out.write(_jsp_string27, 0, _jsp_string27.length);
      out.print((SystemEnv.getHtmlLabelName(91,user.getLanguage())));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      out.print((SystemEnv.getHtmlLabelName(675,user.getLanguage())));
      out.write(_jsp_string29, 0, _jsp_string29.length);
      out.print((SystemEnv.getHtmlLabelName(27037,user.getLanguage())));
      out.write(_jsp_string30, 0, _jsp_string30.length);
      out.print((SystemEnv.getHtmlLabelName(27543,user.getLanguage())));
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print((SystemEnv.getHtmlLabelName(26965,user.getLanguage())));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      out.print((SystemEnv.getHtmlLabelName(83281,user.getLanguage())));
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((SystemEnv.getHtmlLabelName(675,user.getLanguage())));
      out.write(_jsp_string34, 0, _jsp_string34.length);
      out.print((SystemEnv.getHtmlLabelName(201,user.getLanguage())));
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((user.getUID()));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((SystemEnv.getHtmlLabelName(26925,user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      out.print((SystemEnv.getHtmlLabelName(27085,user.getLanguage())));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((SystemEnv.getHtmlLabelName(27085,user.getLanguage())));
      out.write(_jsp_string39, 0, _jsp_string39.length);
      out.print((SystemEnv.getHtmlLabelName(332,user.getLanguage())+SystemEnv.getHtmlLabelName(27085,user.getLanguage())));
      out.write(_jsp_string40, 0, _jsp_string40.length);
      out.print((SystemEnv.getHtmlLabelName(23278,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      out.print((SystemEnv.getHtmlLabelName(19945,user.getLanguage())));
      out.write(_jsp_string42, 0, _jsp_string42.length);
      out.print((SystemEnv.getHtmlLabelName(19205,user.getLanguage())));
      out.write(_jsp_string43, 0, _jsp_string43.length);
      out.print((SystemEnv.getHtmlLabelName(26921,user.getLanguage())));
      out.write(_jsp_string44, 0, _jsp_string44.length);
      out.print((SystemEnv.getHtmlLabelName(26922,user.getLanguage())));
      out.write(_jsp_string45, 0, _jsp_string45.length);
      out.print((SystemEnv.getHtmlLabelName(26923,user.getLanguage())));
      out.write(_jsp_string46, 0, _jsp_string46.length);
      out.print((SystemEnv.getHtmlLabelName(26985,user.getLanguage())));
      out.write(_jsp_string47, 0, _jsp_string47.length);
      out.print((SystemEnv.getHtmlLabelName(26687,user.getLanguage())));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((SystemEnv.getHtmlLabelName(26687,user.getLanguage())));
      out.write(_jsp_string49, 0, _jsp_string49.length);
      out.print((SystemEnv.getHtmlLabelName(26687,user.getLanguage())));
      out.write(_jsp_string50, 0, _jsp_string50.length);
      out.print((SystemEnv.getHtmlLabelName(26687,user.getLanguage())));
      out.write(_jsp_string51, 0, _jsp_string51.length);
      out.print((SystemEnv.getHtmlLabelName(26687,user.getLanguage())));
      out.write(_jsp_string52, 0, _jsp_string52.length);
      out.print((SystemEnv.getHtmlLabelName(27542,user.getLanguage())));
      out.write(_jsp_string53, 0, _jsp_string53.length);
      out.print((SystemEnv.getHtmlLabelName(64,user.getLanguage())));
      out.write(_jsp_string54, 0, _jsp_string54.length);
      out.print((SystemEnv.getHtmlLabelName(83162,user.getLanguage())));
      out.write(_jsp_string55, 0, _jsp_string55.length);
      out.print((SystemEnv.getHtmlLabelName(27541,user.getLanguage())));
      out.write(_jsp_string56, 0, _jsp_string56.length);
      out.print((SystemEnv.getHtmlLabelName(27541,user.getLanguage())));
      out.write(_jsp_string57, 0, _jsp_string57.length);
      out.print((SystemEnv.getHtmlLabelName(27541,user.getLanguage())));
      out.write(_jsp_string58, 0, _jsp_string58.length);
      out.print((SystemEnv.getHtmlLabelName(83163,user.getLanguage())));
      out.write(_jsp_string59, 0, _jsp_string59.length);
      out.print((SystemEnv.getHtmlLabelName(27541,user.getLanguage())));
      out.write(_jsp_string60, 0, _jsp_string60.length);
      out.print((SystemEnv.getHtmlLabelName(26941,user.getLanguage())));
      out.write(_jsp_string61, 0, _jsp_string61.length);
      out.print((SystemEnv.getHtmlLabelName(24957,user.getLanguage())));
      out.write(_jsp_string62, 0, _jsp_string62.length);
      out.print((SystemEnv.getHtmlLabelName(129,user.getLanguage())+SystemEnv.getHtmlLabelName(19558,user.getLanguage())));
      out.write(_jsp_string63, 0, _jsp_string63.length);
      out.print((SystemEnv.getHtmlLabelName(18659,user.getLanguage())));
      out.write(_jsp_string64, 0, _jsp_string64.length);
      out.print((SystemEnv.getHtmlLabelName(129,user.getLanguage())+SystemEnv.getHtmlLabelName(19558,user.getLanguage())));
      out.write(_jsp_string65, 0, _jsp_string65.length);
      out.print((user.getUID()));
      out.write(_jsp_string66, 0, _jsp_string66.length);
      out.print((SystemEnv.getHtmlLabelName(26263,user.getLanguage())));
      out.write(_jsp_string67, 0, _jsp_string67.length);
      out.print((user.getLoginid()));
      out.write(_jsp_string68, 0, _jsp_string68.length);
      out.print((SystemEnv.getHtmlLabelName(21403,user.getLanguage())));
      out.write(_jsp_string69, 0, _jsp_string69.length);
      out.print((SystemEnv.getHtmlLabelName(26759,user.getLanguage())+SystemEnv.getHtmlLabelName(86,user.getLanguage())+SystemEnv.getHtmlLabelName(15242,user.getLanguage())));
      out.write(_jsp_string70, 0, _jsp_string70.length);
      out.print((SystemEnv.getHtmlLabelName(83282,user.getLanguage())));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      out.print((SystemEnv.getHtmlLabelName(23278,user.getLanguage())));
      out.write(_jsp_string72, 0, _jsp_string72.length);
      out.print((SystemEnv.getHtmlLabelName(83164,user.getLanguage())));
      out.write(_jsp_string73, 0, _jsp_string73.length);
      out.print((SystemEnv.getHtmlLabelName(83165,user.getLanguage())));
      out.write(_jsp_string74, 0, _jsp_string74.length);
      out.print((SystemEnv.getHtmlLabelName(25008,user.getLanguage())));
      out.write(_jsp_string75, 0, _jsp_string75.length);
      out.print((SystemEnv.getHtmlLabelName(18758,user.getLanguage())));
      out.write(_jsp_string76, 0, _jsp_string76.length);
      out.print((SystemEnv.getHtmlLabelName(83166,user.getLanguage())));
      out.write(_jsp_string77, 0, _jsp_string77.length);
      out.print((SystemEnv.getHtmlLabelName(15242,user.getLanguage())));
      out.write(_jsp_string78, 0, _jsp_string78.length);
      out.print((SystemEnv.getHtmlLabelName(83167,user.getLanguage())));
      out.write(_jsp_string79, 0, _jsp_string79.length);
      out.print((SystemEnv.getHtmlLabelName(19085,user.getLanguage())));
      out.write(_jsp_string80, 0, _jsp_string80.length);
      out.print((SystemEnv.getHtmlLabelName(26941,user.getLanguage())));
      out.write(_jsp_string81, 0, _jsp_string81.length);
      out.print((SystemEnv.getHtmlLabelName(24957,user.getLanguage())));
      out.write(_jsp_string82, 0, _jsp_string82.length);
      out.print((SystemEnv.getHtmlLabelName(129,user.getLanguage())+SystemEnv.getHtmlLabelName(19558,user.getLanguage())));
      out.write(_jsp_string83, 0, _jsp_string83.length);
      out.print((SystemEnv.getHtmlLabelName(18659,user.getLanguage())));
      out.write(_jsp_string84, 0, _jsp_string84.length);
      out.print((SystemEnv.getHtmlLabelName(129,user.getLanguage())+SystemEnv.getHtmlLabelName(19558,user.getLanguage())));
      out.write(_jsp_string85, 0, _jsp_string85.length);
      out.print((SystemEnv.getHtmlLabelName(18659,user.getLanguage())));
      out.write(_jsp_string86, 0, _jsp_string86.length);
      out.print((SystemEnv.getHtmlLabelName(129,user.getLanguage())+SystemEnv.getHtmlLabelName(19558,user.getLanguage())));
      out.write(_jsp_string87, 0, _jsp_string87.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("blog/blogUitl.jsp"), 8677532690894496153L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("page/maint/common/initNoCache.jsp"), 3270256153856711871L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string30;
  private final static char []_jsp_string48;
  private final static char []_jsp_string46;
  private final static char []_jsp_string49;
  private final static char []_jsp_string50;
  private final static char []_jsp_string51;
  private final static char []_jsp_string2;
  private final static char []_jsp_string33;
  private final static char []_jsp_string42;
  private final static char []_jsp_string72;
  private final static char []_jsp_string37;
  private final static char []_jsp_string54;
  private final static char []_jsp_string34;
  private final static char []_jsp_string43;
  private final static char []_jsp_string5;
  private final static char []_jsp_string10;
  private final static char []_jsp_string29;
  private final static char []_jsp_string74;
  private final static char []_jsp_string1;
  private final static char []_jsp_string85;
  private final static char []_jsp_string62;
  private final static char []_jsp_string60;
  private final static char []_jsp_string7;
  private final static char []_jsp_string75;
  private final static char []_jsp_string14;
  private final static char []_jsp_string69;
  private final static char []_jsp_string87;
  private final static char []_jsp_string45;
  private final static char []_jsp_string44;
  private final static char []_jsp_string31;
  private final static char []_jsp_string39;
  private final static char []_jsp_string4;
  private final static char []_jsp_string79;
  private final static char []_jsp_string71;
  private final static char []_jsp_string8;
  private final static char []_jsp_string11;
  private final static char []_jsp_string18;
  private final static char []_jsp_string58;
  private final static char []_jsp_string17;
  private final static char []_jsp_string15;
  private final static char []_jsp_string84;
  private final static char []_jsp_string81;
  private final static char []_jsp_string57;
  private final static char []_jsp_string23;
  private final static char []_jsp_string20;
  private final static char []_jsp_string0;
  private final static char []_jsp_string78;
  private final static char []_jsp_string77;
  private final static char []_jsp_string83;
  private final static char []_jsp_string70;
  private final static char []_jsp_string68;
  private final static char []_jsp_string41;
  private final static char []_jsp_string65;
  private final static char []_jsp_string55;
  private final static char []_jsp_string12;
  private final static char []_jsp_string66;
  private final static char []_jsp_string24;
  private final static char []_jsp_string16;
  private final static char []_jsp_string47;
  private final static char []_jsp_string28;
  private final static char []_jsp_string86;
  private final static char []_jsp_string35;
  private final static char []_jsp_string53;
  private final static char []_jsp_string56;
  private final static char []_jsp_string82;
  private final static char []_jsp_string73;
  private final static char []_jsp_string64;
  private final static char []_jsp_string3;
  private final static char []_jsp_string38;
  private final static char []_jsp_string80;
  private final static char []_jsp_string26;
  private final static char []_jsp_string13;
  private final static char []_jsp_string6;
  private final static char []_jsp_string61;
  private final static char []_jsp_string40;
  private final static char []_jsp_string76;
  private final static char []_jsp_string9;
  private final static char []_jsp_string21;
  private final static char []_jsp_string59;
  private final static char []_jsp_string67;
  private final static char []_jsp_string36;
  private final static char []_jsp_string22;
  private final static char []_jsp_string25;
  private final static char []_jsp_string52;
  private final static char []_jsp_string63;
  private final static char []_jsp_string32;
  private final static char []_jsp_string27;
  private final static char []_jsp_string19;
  static {
    _jsp_string30 = "\"); //\u670d\u52a1\u5668\u8d85\u65f6\r\n		}\r\n		displayLoading(0);\r\n	})\r\n}\r\n\r\n\r\nfunction showReplySubmitBox(obj,tid,extral,commentType){\r\n    \r\n	var content=\"\";\r\n	var item=jQuery(obj).parents(\".reportItem\");\r\n	\r\n	if(item.find(\".commitBox\").attr(\"state\")== \"1\"){\r\n	   window.top.Dialog.alert(\"".toCharArray();
    _jsp_string48 = "', '2".toCharArray();
    _jsp_string46 = "',    // \u67e5\u770b\u539f\u56fe\u6309\u94ae\u6587\u5b57\r\n			hide:'".toCharArray();
    _jsp_string49 = "', '3".toCharArray();
    _jsp_string50 = "', '4".toCharArray();
    _jsp_string51 = "', '5".toCharArray();
    _jsp_string2 = "\",function(){ //\u786e\u8ba4\u5220\u9664\u8bc4\u8bba\r\n	  	  jQuery.post(\"/blog/blogCommentOparation.jsp\",{'discussid':discussid,'replyid':replyid,'action':'del'},function(backInfo){\r\n	  	  		backInfo = eval('('+backInfo+')');\r\n	  	  		if(backInfo.status==\"1\"){\r\n				var dotedline=jQuery(\"#re_\"+replyid).prev(\".dotedLine\");\r\n				if(dotedline.length==0){\r\n					dotedline=jQuery(\"#re_\"+replyid).next(\".dotedLine\");\r\n				}\r\n				if(jQuery(\"#re_\"+replyid).parent().find(\".sortInfo\").length==1){\r\n					jQuery(\"#re_\"+replyid).parent().remove();\r\n				}\r\n				dotedline.remove();\r\n				jQuery(\"#re_\"+replyid).remove();\r\n			  }else if(backInfo.status==\"-1\"){\r\n		        window.top.Dialog.alert(\"".toCharArray();
    _jsp_string33 = "</label>\"; \r\n	temp+=\"<button type=\\\"button\\\" class=\\\"submitButton\\\" onclick=\\\"addAply(this,'\"+tid+\"'\";\r\n	if(extral.level=='1')\r\n	  temp+=\",'\"+extral.replyid+\"',\"+extral.uid;\r\n	else\r\n	  temp+=\",0,0\";\r\n	temp+=\")\\\">".toCharArray();
    _jsp_string42 = "\");   //\u9875\u9762\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u5019...\r\n        else if(flag==\"data\"||flag==\"search\")\r\n           jQuery(\"#loadingMsg\").html(\"".toCharArray();
    _jsp_string72 = "\"; //\u6b63\u5728\u4fdd\u5b58\uff0c\u8bf7\u7a0d\u7b49...\r\n                        break;\r\n                    case 2:   \r\n                        t=\"".toCharArray();
    _jsp_string37 = ":\"+backInfo.backdata.curDate+\" \"+backInfo.backdata.curTime+\"&nbsp;</span>\"); //\u8865\u4ea4\u4e8e\r\n			item.find(\".sortInfoRightBar\").html(\"\");\r\n			item.find(\".sortInfo\").after(\"<div class=\\\"clear reportContent\\\"></div>\");\r\n			item.find(\".reportContent\").after(\"<div class=\\\"commitBox\\\"></div>\");\r\n			if(item.find(\".state\").hasClass(\"no\")){\r\n				item.find(\".state\").removeClass(\"no\");\r\n				item.find(\".state\").addClass(\"ok\");\r\n			}\r\n			item.attr(\"tid\",backInfo.backdata.id)\r\n			item.find(\".reportContent\").html(content);\r\n			item.find(\".afterSubmit\").remove();\r\n			item.find(\".unSumit\").remove();\r\n		});\r\n}\r\n\r\n\r\n/*\u9ad8\u7ea7\u7f16\u8f91\u5668*/\r\nfunction highEditorForReply(remarkid){\r\n    if(jQuery(\"#\"+remarkid).is(\":visible\")){\r\n		\r\n		var  items=[\r\n						'source','justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist', 'insertunorderedlist', \r\n						'formatblock', 'fontname', 'fontsize',  'forecolor', 'bold','italic',  'strikethrough', 'table'\r\n				   ];\r\n			 \r\n	    K.createEditor({\r\n					id : remarkid,\r\n					height : '150px',\r\n					width:'100%',\r\n					resizeType:1,\r\n					imageUploadJson : '/weaverEditor/jsp/upload_json.jsp',\r\n				    allowFileManager : false,\r\n				    langType:KE.util.getLangType(languageid), \r\n	                newlineTag:'br',\r\n	                imageTabIndex:1,\r\n	                filterMode:false,\r\n	                //jsPath:'/express/js/require/require-jquery_wev8.js',\r\n					//cssPath:'/express/css/jquery.fuzzyquery_wev8.css',\r\n	                items : items,\r\n				    afterCreate : function(id) {\r\n						//KE.util.focus(id);\r\n						this.focus();\r\n				    }\r\n	   });\r\n	   //KE.create(remarkid);\r\n	}\r\n}\r\n\r\n	\r\n/*\u9ad8\u7ea7\u7f16\u8f91\u5668*/\r\nfunction highEditor(remarkid,height){\r\n    height=!height||height<150?150:height;\r\n    if(jQuery(\"#\"+remarkid).is(\":visible\")){\r\n		\r\n		var  items=[\r\n						'source','justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist', 'insertunorderedlist', \r\n						'formatblock', 'fontname', 'fontsize',  'forecolor', 'bold','italic',  'strikethrough', 'image', 'table'\r\n				   ];\r\n			 \r\n	    K.createEditor({\r\n					id : remarkid,\r\n					height :height+'px',\r\n					resizeType:1,\r\n					width:'100%',\r\n					uploadJson:'/weaverEditor/jsp/upload_json.jsp',\r\n				    allowFileManager : false,\r\n				    langType:KE.util.getLangType(languageid),\r\n	                newlineTag:'br',\r\n	                filterMode:false,\r\n	                //jsPath:'/express/js/require/require-jquery_wev8.js',\r\n					//cssPath:'/express/css/jquery.fuzzyquery_wev8.css',\r\n					imageTabIndex:1,\r\n	                items : items,\r\n				    afterCreate : function(id) {\r\n						//KE.util.focus(id);\r\n						this.focus();\r\n				    }\r\n	   });\r\n	   //KE.create(remarkid);\r\n	}\r\n}\r\n\r\n\r\n function show_select(input,option,value,type,e,obj){\r\n      e.cancelBubble=true;\r\n	  inputobj=document.getElementById(input);\r\n	  inputobj=obj;\r\n	  optionobj=jQuery(obj).next();\r\n	  valueobj=jQuery(obj).parent().find(\".qty\");\r\n	  if(optionobj.css(\"display\")==\"\"){\r\n	  	 optionobj.css(\"display\",\"none\");\r\n	  	 return ;\r\n	  }else{\r\n	  	optionobj.css(\"display\",\"\");\r\n	  }\r\n	  optionobj.onblur=function () {\r\n	    optionobj.style.display=\"none\";\r\n	  }\r\n	  if(type==\"mood\"){\r\n		 jQuery(inputobj).focus();\r\n		 jQuery(optionobj).find(\"div\").each(function(){\r\n			     jQuery(this).hover(\r\n			              function(){\r\n			                  jQuery(this).addClass(\"qty_items_over\");\r\n			                  jQuery(this).removeClass(\"qty_items_out\");\r\n			              },\r\n			              function(){\r\n			                  jQuery(this).addClass(\"qty_items_out\");\r\n			                  jQuery(this).removeClass(\"qty_items_over\");\r\n			              }\r\n			      );   \r\n		          jQuery(this).click(function(){\r\n		          	optionobj.hide();\r\n		          	jQuery(inputobj).css(\"background-image\",\"url('\"+jQuery(this).find(\"img\").attr(\"src\")+\"')\");\r\n		          	jQuery(inputobj).attr(\"title\",jQuery(this).text());\r\n					jQuery(valueobj).val(jQuery(this).attr(\"val\"));\r\n		          });\r\n		  });\r\n	 }\r\n	}\r\n\r\nfunction search(content,startdate,enddate,obj,blogid){\r\n	\r\n	if(content==\"hpContent\"){\r\n    	$(\"#homepageMenu .tabitem\").removeClass(\"select2\");\r\n		jQuery(\"#homepageMenu .tabitem:first\").addClass(\"select2\");\r\n    }\r\n    \r\n    if(content==\"myBlogContent\"){\r\n    	$(\"#myBlogMenu .tabitem\").removeClass(\"select2\");\r\n		jQuery(\"#myBlogMenu .tabitem:first\").addClass(\"select2\");\r\n    }\r\n	\r\n	var content= jQuery(\"#\"+content).val();\r\n	var ac=jQuery(obj).attr(\"from\");            //\u6765\u81ea\u9875\u9762\r\n	var startdate=jQuery(\"#\"+startdate).val();\r\n	var enddate=jQuery(\"#\"+enddate).val();\r\n	var url=\"discussList.jsp?requestType=search&t=\"+new Date().getTime();\r\n	\r\n	if(ac==\"gz\"&&\"\"==jQuery.trim(content)){\r\n		window.location=\"myAttention.jsp?startDate=\"+startdate+\"&endDate=\"+enddate;\r\n		return; \r\n	}\r\n	//jQuery(\"#homepageMenu\").hide();\r\n	displayLoading(\"1\",\"search\");\r\n	jQuery.post(url,{\"content\":content,\"startDate\":startdate,\"endDate\":enddate,'blogid':blogid,'ac':ac},function(a){\r\n	    \r\n	    if(ac==\"myBlog\"){\r\n	       jQuery(\".tabStyle2\").find(\".select2\").removeClass(\"select2\");\r\n	       jQuery(\"#blog\").addClass(\"select2\");\r\n	    }   \r\n		jQuery(\"#reportBody\").html(a.replace(/<link.*?>.*?/, ''));\r\n		\r\n		if(\"\"!=jQuery.trim(content)){\r\n		   jQuery('#reportBody .reportItem').each(function(){\r\n		      jQuery(this).find(\".reportContent:first\").highlight(content, {needUnhighlight: true});\r\n		   });\r\n		 }\r\n		\r\n		//\u56fe\u7247\u521d\u59cb\u5316\u5904\u7406  \r\n		jQuery('.reportContent img').each(function(){\r\n		    initImg(this);\r\n		});   \r\n		\r\n		//\u4e0a\u7ea7\u8bc4\u5206\u521d\u59cb\u5316\r\n		jQuery(\".blog_raty\").each(function(){\r\n		   managerScore(this);\r\n		});\r\n		\r\n		displayLoading(\"0\",\"search\");\r\n	});\r\n}\r\nfunction reset(startdate,enddate){\r\n	jQuery(\"#\"+startdate).val(jQuery(\"#\"+startdate+\"_\").val());\r\n	jQuery(\"#\"+startdate+\"span\").text(jQuery(\"#\"+startdate+\"_\").val());\r\n	jQuery(\"#\"+enddate).val(jQuery(\"#\"+enddate+\"_\").val());\r\n	jQuery(\"#\"+enddate+\"span\").text(jQuery(\"#\"+enddate+\"_\").val());\r\n	jQuery(\"#content\").val(\"\");\r\n}\r\n//\u63d0\u9192\r\nfunction unSumitRemind(obj,remindid,discussant,workdate){\r\n    var isRemind=jQuery(obj).attr(\"isRemind\");\r\n    if(isRemind!=\"true\"){\r\n		jQuery.post(\"/blog/blogOperation.jsp?operation=unsubmitRemind&remindid=\"+remindid+\"&discussant=\"+discussant+\"&workdate=\"+workdate,function(){\r\n		   msgRemind(\"".toCharArray();
    _jsp_string54 = "\" && jQuery(data.name) !=\"\"){\r\n				\r\n				 var editorId=jQuery(appObj).parents(\".editor\").find(\"textarea[name=submitText]\").attr(\"id\");\r\n				 var content=KE.html(editorId);\r\n				 if(jQuery.trim(content) != \"\"){\r\n				 	window.top.Dialog.confirm(\"".toCharArray();
    _jsp_string34 = "</button><button type='button' style='margin-right:5px;' class='editCancel' style='float:none'  onclick=\\\"replyCancel(this)\\\">".toCharArray();
    _jsp_string43 = "\");   //\u6b63\u5728\u83b7\u53d6\u6570\u636e,\u8bf7\u7a0d\u7b49...  \r\n              \r\n        //\u663e\u793aloading\r\n	    var loadingHeight=jQuery(\"#loading\").height();\r\n	    var loadingWidth=jQuery(\"#loading\").width();\r\n	    jQuery(\"#loading\").css({\"top\":document.body.scrollTop + document.body.clientHeight/2 - loadingHeight/2,\"left\":document.body.scrollLeft + document.body.clientWidth/2 - loadingWidth/2});\r\n	    jQuery(\"#loading\").show();\r\n    }else{\r\n        jQuery(\"#loading\").hide();\r\n        jQuery(\"#bg\").hide(); //\u906e\u7167\u5173\u95ed\r\n    }\r\n}\r\n\r\n//\u63d0\u4ea4\u56de\u590d\u65f6\uff0c\u63d0\u4ea4\u7b49\u5f85\r\nfunction displayLoading(state,flag){\r\n  if(state==1){\r\n  		var loadingHeight=jQuery(\"#loadingMsg\").height();\r\n	    var loadingWidth=jQuery(\"#loadingMsg\").width();\r\n	    jQuery(\"#loadingMsg\").css({\"top\":document.body.clientHeight/2 - loadingHeight/2,\"left\":document.body.scrollLeft + document.body.clientWidth/2 - loadingWidth/2});\r\n	    jQuery(\"#blogLoading\").show();\r\n    }else{\r\n        jQuery(\"#blogLoading\").hide();\r\n    }\r\n}\r\n\r\n\r\n /*chartType \u62a5\u8868\u7c7b\u578b  blog \u5fae\u535a mood\u5fc3\u60c5 \r\n  value\u9700\u8981\u67e5\u770b\u7684\u4eba\u5458\u6216\u8005\u90e8\u95e8\u3001\u5206\u90e8id \r\n  year \u5e74\u4efd \r\n  type 1\u4eba\u5458 2 \u5206\u90e8 3 \u90e8\u95e8 \r\n  title\u62a5\u8868\u6807\u9898\r\n*/\r\nfunction openChart(chartType,value,year,type,title){\r\n\r\n    var diag = new window.top.Dialog();\r\n    diag.Modal = true;\r\n    diag.Drag=true;\r\n	diag.Width = 680;\r\n	diag.Height = 420;\r\n	diag.ShowButtonRow=false;\r\n	diag.Title = title;\r\n\r\n	diag.URL = \"/blog/blogChart.jsp?chartType=\"+chartType+\"&value=\"+value+\"&type=\"+type+\"&year=\"+year+\"&title=\"+title;\r\n    diag.show();\r\n }\r\n \r\n //\u521d\u59cb\u5316\u56fe\u7247\r\n function initImg(obj){\r\n       var imgWidth=jQuery(obj).attr(\"imgWidth\");\r\n	   if(imgWidth>400)\r\n	      jQuery(obj).width(400);\r\n	   else if(imgWidth==0)\r\n	      jQuery(obj).width(400);   \r\n	   else{\r\n	      $(obj).load(function(){\r\n			   if(jQuery(obj).width()>400){\r\n				 jQuery(obj).width(400);\r\n				 jQuery(obj).attr(\"imgWidth\",400);\r\n               }\r\n		  });\r\n	   }  \r\n	\r\n	   jQuery(obj).coomixPic({\r\n			path: 'js/weaverImgZoom/images',	// \u8bbe\u7f6ecoomixPic\u56fe\u7247\u6587\u4ef6\u5939\u8def\u5f84\r\n			preload: true,						// \u8bbe\u7f6e\u662f\u5426\u63d0\u524d\u7f13\u5b58\u89c6\u91ce\u5185\u7684\u5927\u56fe\u7247\r\n			blur: true,							// \u8bbe\u7f6e\u52a0\u8f7d\u5927\u56fe\u662f\u5426\u6709\u6a21\u7cca\u53d8\u6e05\u6670\u7684\u6548\u679c\r\n			\r\n			// \u8bed\u8a00\u8bbe\u7f6e\r\n		    left: '".toCharArray();
    _jsp_string5 = "\");\r\n			    jQuery(obj).parents(\".reply\").find(\".deleteOperation\").hide();\r\n			 }\r\n	  	  });\r\n	  });\r\n}\r\n	\r\nfunction editContent(obj){\r\n	var tid=jQuery(obj).parents(\".reportItem\").attr(\"tid\");\r\n	var item=jQuery(\"div[tid=\"+tid+\"]\");\r\n	displayLoading(1,\"data\");\r\n	jQuery.post(\"/blog/blogOperation.jsp?operation=getDiscussContent&discussid=\"+tid,function(data){\r\n	    var content=jQuery.trim(data);\r\n		var editor=item.find(\".editor[tid=\"+tid+\"]\");\r\n		\r\n		var workdate=item.attr(\"forDate\");\r\n		jQuery(\".editorTmp\").find(\".uploadDiv\").attr(\"id\",\"uploadDiv_\"+workdate);\r\n		var editorTmp=jQuery(\".editorTmp\").html();\r\n		\r\n		editor.html(editorTmp);\r\n		editor.show();\r\n		editorId=\"text_\"+new Date().getTime();\r\n		editor.find(\"textarea[name=submitText]\").attr(\"id\",editorId);\r\n		var height=item.find(\".reportContent[tid=\"+tid+\"]\").height();\r\n		highEditor(editorId,height+60);\r\n		\r\n		if(jQuery(\"#uploadDiv_\"+workdate).length>0)\r\n		   bindUploaderDiv(jQuery(\"#uploadDiv_\"+workdate),\"relatedacc\",editorId);\r\n		   \r\n		KE.html(editorId,content);\r\n		item.find(\".discussView\").css(\"display\",\"none\");\r\n		var selectedQty=item.find(\".qty_items_out[val=\"+item.attr(\"appItemId\")+\"]\");\r\n		var inputobj=item.find(\".opt_mood_title\");\r\n		var valueobj=item.find(\"input[name=qty_mood]\");\r\n		//jQuery(inputobj).html(jQuery(selectedQty).html());\r\n		jQuery(inputobj).css(\"background-image\",\"url('\"+jQuery(selectedQty).find(\"img\").attr(\"src\")+\"')\");\r\n		jQuery(inputobj).attr(\"title\",jQuery(selectedQty).text());\r\n		\r\n		jQuery(valueobj).attr(\"value\",item.attr(\"appItemId\"));\r\n		\r\n		displayLoading(0);\r\n		KE.util.focus(editorId);\r\n	});\r\n}\r\nfunction saveContent(obj){\r\n    //\u670d\u52a1\u5668\u72b6\u6001\u5224\u65ad\r\n    \r\n    var item=jQuery(obj).parents(\".reportItem\");                 \r\n	var forDate=item.attr(\"forDate\");                              //\u5de5\u4f5c\u65e5\r\n	var isToday=item.attr(\"isToday\");                              //\u662f\u5426\u4e3a\u4eca\u5929\u63d0\u4ea4\r\n	var todayItem=jQuery(\".reportItem:first[isTodayItem=true]\");   //\u4eca\u5929\u5df2\u7ecf\u63d0\u4ea4\u7684\u8bb0\u5f55\r\n	var unsubmit=todayItem.attr(\"unsubmit\");                       //\u51e0\u5929\u662f\u5426\u63d0\u4ea4\r\n	var editorId=item.find(\"textarea[name=submitText]\").attr(\"id\");\r\n	var discussid=item.attr(\"tid\");                                //\u5fae\u535a\u8bb0\u5f55id\r\n	var type=\"mood\";\r\n	var appItemId=item.find(\"input[name=qty_mood]\").val();         //\u5fae\u535a\u5fc3\u60c5id\r\n	var locationdiv = item.find(\".locationdiv\");\r\n	var zanFirTid = jQuery(\"#zanFir_\"+discussid).attr(\"tid\");\r\n	var blogZanDiv = jQuery(\"#blogzan_\"+discussid);\r\n	if(!KE.g[editorId].designMode){\r\n	    window.top.Dialog.alert(\"".toCharArray();
    _jsp_string10 = "\"+backInfo.backdata.createdatetime+\"'></div>\"\r\n			                       +\"	<div class='discussline'></div>\"\r\n			                       +\"</td>\"\r\n			                       +\"<td valign='top' class='item_td'>\"\r\n			                       +\"	<div class='discussitem'>\"\r\n			                       +\"		<div class='discussView'>\";  \r\n			}\r\n			topBlogItemContent+=\"<div class='sortInfo' >\"\r\n								+\"<div style='float: left;'>\"\r\n								+\"	<div class='name'>&nbsp;<a href='viewBlog.jsp?blogid=\"+backInfo.backdata.userid+\"' target='_blank'>\"+backInfo.backdata.userName+\"</a>&nbsp;</div>\";\r\n			\r\n			item.find(\".state\").removeClass(\"no\")\r\n			.addClass(backInfo.backdata.type=='1'?\"after\":\"ok\")\r\n			.attr(\"title\",(backInfo.backdata.type=='1'?\"".toCharArray();
    _jsp_string29 = "'></div>\" //\u8bc4\u8bba\r\n				 +\"		<div class='clear'></div>\"\r\n				 +\"</div>\"\r\n				 +\"</div>\"\r\n				 +\"<div class=\\\"clear reportContent\\\">\"+content+\"</div>\";\r\n				\r\n				temp=temp+\"</div>\";\r\n				\r\n				 if (item.find(\".reply\").length == 0) {\r\n						item.find(\".operationdiv\").before(\"<div class=\\\"reply\\\" target=\\\"\"+tid+\"\\\"></div>\");\r\n				}else{\r\n						temp=\"<div class=\\\"dotedLine\\\"></div>\"+temp;\r\n				}\r\n				\r\n			item.find(\".reply\").append(temp);\r\n			item.find(\".reportContent img\").each(function(){\r\n			   initImg(this);\r\n			});\r\n			\r\n			jQuery(\"textarea[name=\"+tid+\"]\").html(\"\");\r\n			jQuery(tm).parent().parent().hide();\r\n			item.find(\".commitBox\").attr(\"state\",\"0\");\r\n			jQuery(document.body).focus();\r\n			item.find(\".commitBox\").html(\"\");\r\n		}\r\n		else if(backInfo.status==\"2\"){\r\n			window.top.Dialog.alert(\"".toCharArray();
    _jsp_string74 = "...\"; //\u6b63\u5728\u5220\u9664\uff0c\u8bf7\u7a0d\u7b49...\r\n                        break;   \r\n                    case 4:    \r\n                        t=\"".toCharArray();
    _jsp_string1 = "\r\n<script type=\"text/javascript\">\r\n\r\nfunction getIndex(blogid){\r\n  jQuery.post(\"/blog/blogOperation.jsp?operation=getIndex&blogid=\"+blogid,function(data){\r\n        var index=eval('('+data+')');\r\n        \r\n        if(index.work){\r\n           jQuery(\"#workIndex\").html(index.work.workIndex); \r\n           jQuery(\"#workIndexCount\").attr(\"title\",index.work.workIndexTitle).html(index.work.workIndexStar);\r\n        }\r\n        if(index.mood){\r\n           jQuery(\"#moodIndex\").html(\"\"+index.mood.moodIndex); \r\n           jQuery(\"#moodIndexCount\").attr(\"title\",index.mood.moodIndexTitle).html(index.mood.moodIndexStar);\r\n        }\r\n        \r\n        if(index.schedule){\r\n           jQuery(\"#scheduleIndex\").html(\"\"+index.schedule.scheduleIndex); \r\n           jQuery(\"#scheduleIndexCount\").attr(\"title\",index.schedule.scheduleIndexTitle).html(index.schedule.scheduleIndexStar);\r\n        }\r\n    });\r\n}\r\n\r\nfunction deleteDiscuss(obj,discussid,replyid){\r\n	  window.top.Dialog.confirm(\"".toCharArray();
    _jsp_string85 = "\"); //\u7533\u8bf7\u5df2\u7ecf\u53d1\u9001\r\n               jQuery(obj).find(\"#btnLabel\").html(\"<span class='add'>\u221a</span>".toCharArray();
    _jsp_string62 = "</span>\");  \r\n        }\r\n        if(status==\"apply\"){\r\n          if(jQuery(obj).attr(\"isApply\")!==\"true\"){\r\n            jQuery.post(\"/blog/blogOperation.jsp?operation=requestAttention&islower=\"+islower+\"&attentionid=\"+attentionid,function(){\r\n               window.top.Dialog.alert(\"".toCharArray();
    _jsp_string60 = "\"); //\u8bf7\u5c06\u7f16\u8f91\u5668\u5207\u6362\u5230\u53ef\u89c6\u5316\u6a21\u5f0f\uff01\r\n		   }\r\n       }\r\n}\r\n  \r\n  \r\n  //\u9605\u8bfb\u8bb0\u5f55\r\n  function readDiscuss(obj,discussid,blogid){\r\n      var isRead=jQuery(obj).attr(\"isRead\");\r\n      //jQuery(obj).css(\"background\",\"#F5F5F5\");\r\n      if(isRead==\"false\"){\r\n        jQuery(obj).attr(\"isRead\",\"true\");\r\n        jQuery.post(\"/blog/blogOperation.jsp?operation=readDiscuss&discussid=\"+discussid+\"&blogid=\"+blogid,function(){\r\n            jQuery(\"#new_\"+discussid).hide();\r\n	        var count=jQuery(\"#homepage\").find(\".count\").text();\r\n	        count=count-1;\r\n	        if(count>0)\r\n	           jQuery(\"#homepage\").find(\".count\").text(count);\r\n	        else\r\n	           jQuery(\"#homepage\").find(\".msg-count\").hide();   \r\n	        });\r\n      }  \r\n   }\r\n   \r\n   function moveout(obj){\r\n     //jQuery(obj).css(\"background\",\"#fff\");\r\n   }\r\n   \r\n   //\u6253\u5f00\u5e94\u7528\u8fde\u63a5\r\n   function openAppLink(obj,linkid){\r\n     \r\n     var linkType=jQuery(obj).attr(\"linkType\");\r\n     var discussid=jQuery(obj).parents(\".reportItem\").attr(\"id\");\r\n     if(linkType==\"doc\")\r\n        window.open(\"/docs/docs/DocDsp.jsp?moduleid=blog&id=\"+linkid+\"&blogDiscussid=\"+discussid+\"&linkType=\"+linkType+\"&linkid=\"+linkid);\r\n     else if(linkType==\"task\")   \r\n        window.open(\"/proj/process/ViewTask.jsp?moduleid=blog&taskrecordid=\"+linkid+\"&discussid=\"+discussid+\"&linkType=\"+linkType+\"&linkid=\"+linkid);\r\n     else if(linkType==\"crm\")   \r\n        window.open(\"/CRM/data/ViewCustomer.jsp?moduleid=blog&CustomerID=\"+linkid+\"&discussid=\"+discussid+\"&linkType=\"+linkType+\"&linkid=\"+linkid);   \r\n     else if(linkType==\"workflow\")   \r\n        window.open(\"/workflow/request/ViewRequest.jsp?moduleid=blog&requestid=\"+linkid+\"&discussid=\"+discussid+\"&linkType=\"+linkType+\"&linkid=\"+linkid);   \r\n     else if(linkType==\"project\")   \r\n        window.open(\"/proj/data/ViewProject.jsp?moduleid=blog&ProjID=\"+linkid+\"&discussid=\"+discussid+\"&linkType=\"+linkType+\"&linkid=\"+linkid);   \r\n     else if(linkType==\"workplan\")\r\n    	 window.open(\"/workplan/data/WorkPlanDetail.jsp?moduleid=blog&workid=\"+linkid+\"&discussid=\"+discussid+\"&linkType=\"+linkType+\"&linkid=\"+linkid);    \r\n     return false;   \r\n   }\r\n \r\n    //\u6253\u5f00\u9644\u4ef6\r\n	function opendoc(showid,versionid,docImagefileid,obj){\r\n	    var discussid=jQuery(obj).parents(\".reportItem\").attr(\"id\");\r\n	    openFullWindowHaveBar(\"/docs/docs/DocDspExt.jsp?id=\"+showid+\"&imagefileId=\"+docImagefileid+\"&blogDiscussid=\"+discussid+\"&isFromAccessory=true&isfromcoworkdoc=1\");\r\n	}\r\n	//\u6253\u5f00\u9644\u4ef6\r\n	function opendoc1(showid,obj){\r\n	   var discussid=jQuery(obj).parents(\".reportItem\").attr(\"id\");\r\n	   //\u52a0\u4e0a\u8fd9\u4e2a\u53c2\u6570\uff0c\u4f1a\u9ed8\u8ba4\u65e0\u6cd5\u9884\u89c8pstate=sub\r\n	   //openFullWindowHaveBar(\"/docs/docs/DocDsp.jsp?id=\"+showid+\"&blogDiscussid=\"+discussid+\"&pstate=sub\");\r\n	   openFullWindowHaveBar(\"/docs/docs/DocDsp.jsp?id=\"+showid+\"&blogDiscussid=\"+discussid);\r\n	} \r\n	//\u4e0b\u8f7d\u9644\u4ef6\r\n	function downloads(files,obj){\r\n	    var discussid=jQuery(obj).parents(\".reportItem\").attr(\"id\");\r\n	   jQuery(\"#downloadFrame\").attr(\"src\",\"/weaver/weaver.file.FileDownload?fileid=\"+files+\"&download=1&blogDiscussid=\"+discussid);\r\n	}\r\n    \r\n    //\u65f6\u95f4\u65e5\u671f\u683c\u5f0f\u5316\r\n    Date.prototype.pattern=function(fmt) {     \r\n	    var o = {     \r\n		    \"M+\" : this.getMonth()+1, //\u6708\u4efd     \r\n		    \"d+\" : this.getDate(), //\u65e5     \r\n		    \"h+\" : this.getHours()%12 == 0 ? 12 : this.getHours()%12, //\u5c0f\u65f6     \r\n		    \"H+\" : this.getHours(), //\u5c0f\u65f6     \r\n		    \"m+\" : this.getMinutes(), //\u5206     \r\n		    \"s+\" : this.getSeconds(), //\u79d2     \r\n		    \"q+\" : Math.floor((this.getMonth()+3)/3), //\u5b63\u5ea6     \r\n		    \"S\" : this.getMilliseconds() //\u6beb\u79d2     \r\n	    };     \r\n	    var week = {     \r\n		    \"0\" : \"\\u65e5\",\r\n		    \"1\" : \"\\u4e00\",\r\n		    \"2\" : \"\\u4e8c\",\r\n		    \"3\" : \"\\u4e09\",\r\n		    \"4\" : \"\\u56db\",\r\n		    \"5\" : \"\\u4e94\",     \r\n		    \"6\" : \"\\u516d\"\r\n	    };     \r\n	    if(/(y+)/.test(fmt)){     \r\n	        fmt=fmt.replace(RegExp.$1, (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));     \r\n	    }     \r\n	    if(/(E+)/.test(fmt)){     \r\n	        fmt=fmt.replace(RegExp.$1, ((RegExp.$1.length>1) ? (RegExp.$1.length>2 ? \"\\u661f\\u671f\" : \"\\u5468\") : \"\")+week[this.getDay()+\"\"]);     \r\n	    }     \r\n	    for(var k in o){     \r\n	        if(new RegExp(\"(\"+ k +\")\").test(fmt)){     \r\n	            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));     \r\n	        }     \r\n	    }     \r\n    return fmt;     \r\n   }\r\n   \r\n   	//\u6253\u5f00\u62a5\u8868\r\n	function openReport(){\r\n		jQuery(\".menuItem\").each(function(){\r\n		   jQuery(this).removeClass(\"selected\");\r\n		});\r\n	    jQuery(\"#myBlog\").addClass(\"selected\");\r\n	    jQuery(\"#report\").click();                     //\u52a0\u8f7d\u62a5\u8868\r\n	    jQuery(\"#myBlogMenu\").show();                  //\u663e\u793a\u83dc\u5355\r\n		jQuery(\"#searchBtn\").attr(\"from\",\"myBlog\");    //\u4fee\u6539\u641c\u7d22\u6765\u6e90\u9875\r\n	}\r\n	\r\n	function doAttention(obj,attentionid,islower,eve){\r\n        var itemName=jQuery(obj).parent().parent().find(\".title\").text();\r\n        var status=jQuery(obj).attr(\"status\");\r\n        if(status==\"cancel\"){\r\n           jQuery.post(\"/blog/blogOperation.jsp?operation=cancelAttention&islower=\"+islower+\"&attentionid=\"+attentionid);\r\n           jQuery(obj).attr(\"status\",\"apply\");\r\n           jQuery(obj).find(\"#btnLabel\").html(\"<span class='add'>\u221a</span>".toCharArray();
    _jsp_string7 = "\"); //\u8bf7\u53d6\u6d88\u5bf9\u4eca\u5929\u5de5\u4f5c\u5fae\u535a\u7684\u7f16\u8f91\r\n	   return ;\r\n	}\r\n	//\u83b7\u53d6\u5185\u5bb9\u4e2d\u56fe\u7247\u5927\u5c0f\r\n	jQuery(KE.g[editorId].edit.doc.body).find(\"img\").each(function(){\r\n	   var imgWidth=jQuery(this).width();\r\n	   jQuery(this).attr(\"imgWidth\",imgWidth);\r\n	});\r\n	//\u68c0\u67e5\u5185\u5bb9\u4e2d\u76f8\u5173\u8d44\u6e90\u662f\u5426\u5177\u6709\u6743\u9650\r\n	jQuery(KE.g[editorId].edit.doc.body).find(\"a\").each(function(){\r\n	   var linktype=$(this).attr(\"linktype\");\r\n	   var linkid=$(this).attr(\"linkid\");\r\n	   if(linktype&&linkid){\r\n	   	   jQuery.post(\"/blog/blogOperation.jsp\",{\"operation\":\"appRightFilter\",\"linktype\":linktype,\"linkid\":linkid},function(data){\r\n	   	   		data = eval('('+data+')');\r\n	   	   		if(data.linkid==\"\") //\u5982\u679c\u6ca1\u6709\u6743\u9650\u5c31\u5220\u9664\r\n	   	   		$(this).remove();\r\n	   	   })\r\n	   }	   \r\n	});\r\n	//return;\r\n	var content=KE.html(editorId);\r\n	if(jQuery.trim(content)==\"\"||(content.indexOf(\"<img\")==-1&&jQuery.trim(jQuery(KE.g[editorId].edit.doc.body).text().replace(/&nbsp;/g,' '))==\"\")){\r\n		window.top.Dialog.alert(\"".toCharArray();
    _jsp_string75 = "\";                                   \r\n                        break;\r\n                }\r\n                $(\"#remindSpan\").html(t).show();    \r\n        }\r\n        //\u8bf7\u6c42\u5b8c\u6210\u540e\u63d0\u9192\r\n	    function afterrequest(type){\r\n                switch(type)\r\n                {\r\n                    case 1:\r\n                        $(\"#remindSpan\").html(\"".toCharArray();
    _jsp_string14 = "Ipad)\";\r\n			    else if(comefrom==\"3\")  \r\n			        comefromTemp=\"(".toCharArray();
    _jsp_string69 = "';\r\n	    			window.top.Dialog.alert(flag_msg);\r\n	    			flag=false;\r\n	    		}else{\r\n	    		    flag=true;\r\n	    		}\r\n            }\r\n        });\r\n        return flag;\r\n	}\r\n	\r\n function openBlog(blogid){\r\n	var url=\"viewBlog.jsp?blogid=\"+blogid;\r\n	window.open(url);\r\n }\r\n //\u83b7\u5f97\u66f4\u591a\r\n function getMore(obj,url,requestType,content){\r\n       displayLoading(1,\"data\");\r\n       jQuery.post(url,function(data){\r\n           jQuery(obj).remove();\r\n		    var tempdiv=jQuery(\"<div>\"+data+\"</div>\");\r\n		    //\u521d\u59cb\u5316\u5904\u7406\u56fe\u7247\r\n	        tempdiv.find('.reportContent img').each(function(){\r\n				initImg(this);\r\n		    });\r\n		    \r\n		    if(requestType==\"search\"&&\"\"!=jQuery.trim(content)){\r\n		      tempdiv.find('.reportItem').each(function(){\r\n		         jQuery(this).find(\".reportContent:first\").highlight(content, {needUnhighlight: true});\r\n		      });\r\n		      //tempdiv.highlight(content, {needUnhighlight: true});\r\n		    }  \r\n		     \r\n		     //tempdiv.find(\".reportContent\").notepad('.reportContent'); \r\n		      \r\n		     jQuery(\"#reportBody\").append(tempdiv); \r\n            \r\n		    //\u4e0a\u7ea7\u8bc4\u5206\u5904\u7406\r\n		    jQuery(\".blog_raty\").each(function(){\r\n		       if(jQuery(this).attr(\"isRaty\")!=\"true\"){\r\n			       managerScore(this);\r\n			       jQuery(this).attr(\"isRaty\",\"true\"); \r\n			   }    \r\n			});\r\n			\r\n			changeIframeHeight();\r\n			\r\n		    displayLoading(0);\r\n		});\r\n    } \r\n    \r\n  //\u6d88\u606f\u63d0\u9192\r\n  function msgRemind(msg){\r\n   \r\n    msg=msg?msg:\"".toCharArray();
    _jsp_string87 = "\"); //\u7533\u8bf7\u5df2\u7ecf\u53d1\u9001\r\n          }  \r\n        }\r\n        eve.cancelBubble=true;\r\n      }\r\n      \r\n      function changeIframeHeight(){ \r\n			var attentionframe=$(window.parent.document.getElementById('attentionframe'));\r\n			if(attentionframe.length==1){\r\n	    		window.parent.document.getElementById('attentionframe').height=$(document).height();\r\n			}\r\n	  }\r\n\r\n//\u70b9\u8d5e\uff0c\u53d6\u6d88\u8d5e	\r\nfunction zanBlogMethod(obj){\r\n	var tid=jQuery(obj).parents(\".reportItem\").attr(\"tid\");\r\n	if(tid==0 || tid==\"\"){\r\n		window.top.Dialog.alert(\"\u7a7a\u5fae\u535a\u4e0d\u80fd\u70b9\u8d5e\uff01\");\r\n		return;\r\n	}\r\n	var zanflag=jQuery(obj).attr(\"tid\");\r\n	var zanCount = parseInt(jQuery(\"#zanThr_\"+tid).html());\r\n	//var item=jQuery(\"div[tid=\"+tid+\"]\");\r\n	jQuery.post(\"/blog/blogOperation.jsp?operation=zanOpr&discussid=\"+tid+\"&zanflag=\"+zanflag,function(data){\r\n	    //var zanCount=jQuery.trim(data);\r\n	    var iZan=\"\";\r\n		//jQuery(\"#blogzan_\"+tid).html(content);\r\n		if(zanflag==\"zan0\"){\r\n			jQuery(obj).removeClass(\"zan\");\r\n			jQuery(obj).addClass(\"zanSed\");\r\n			jQuery(obj).attr(\"tid\",\"zan1\");\r\n			jQuery(obj).attr(\"title\",\"\u53d6\u6d88\u8d5e\");\r\n			if(!zanCount || zanCount==0 || zanCount==\"\"){\r\n				iZan=\"<div id='zanSed_\"+tid+\"' class='blogZanThr'><span id='izan_\"+tid+\"'>\u6211</span><span><span id='zanThr_\"+tid+\"'>1</span>\u4eba\u89c9\u5f97\u5f88\u8d5e</span></div>\";\r\n				jQuery(\"#blogzan_\"+tid).html(iZan);\r\n			}else{\r\n				iZan=\"<span id='izan_\"+tid+\"'>\u6211\u548c</span>\"\r\n				jQuery(\"#zanSed_\"+tid).prepend(iZan);\r\n				jQuery(\"#zanThr_\"+tid).html(zanCount+1);\r\n			}\r\n			\r\n		}else{\r\n			jQuery(obj).removeClass(\"zanSed\");\r\n			jQuery(obj).addClass(\"zan\");\r\n			jQuery(obj).attr(\"tid\",\"zan0\");\r\n			jQuery(obj).attr(\"title\",\"\u70b9\u8d5e\");\r\n			if(zanCount==1){\r\n				jQuery(\"#blogzan_\"+tid).empty();\r\n			}else{\r\n				jQuery(\"#izan_\"+tid).remove();\r\n				jQuery(\"#zanThr_\"+tid).html(zanCount-1);\r\n			}\r\n		}\r\n		\r\n	});\r\n}\r\n\r\nfunction getBlogZan(tid,zanShowFlag){\r\n	jQuery.post(\"/blog/blogOperation.jsp?operation=getZan&discussid=\"+tid,function(data){\r\n	    var zanBean=eval('('+data+')');\r\n	    var poList = zanBean.blogZanPoList;\r\n	    \r\n	    var zanHtml=\"\";\r\n	    if(zanBean.isZan==1){\r\n			zanHtml += \"<span id='izan_\"+tid+\"'>\u6211\u548c</span>\";\r\n		}\r\n	    if(zanShowFlag==1){\r\n	    	for(var k=0;k<poList.length;k++){\r\n		    	var po = poList[k];\r\n		    	if(zanBean.curUserid==po.zanHrmid){\r\n		    		if(k==poList.length-1){\r\n						zanHtml=zanHtml.substring(0,zanHtml.lastIndexOf(\"\u3001\"))+zanHtml.substring(zanHtml.lastIndexOf(\"\u3001\")+1);\r\n					}\r\n					continue;\r\n		    	}\r\n		    	\r\n				zanHtml +=\"<span style='color:#007FCB;margin-right:2px;' id='hrm_\"+po.zanHrmid+\"'>\"+po.zanHrmname;\r\n				if(k==poList.length-1){\r\n					zanHtml += \"</span>\";\r\n				}else{\r\n					zanHtml += \"\u3001</span>\";\r\n				}\r\n	\r\n		    }\r\n		    \r\n		    zanHtml +=\"<span><span id='zanThr_\"+tid+\"'>\"+zanBean.zanCount+\"</span>\u4eba\u89c9\u5f97\u5f88\u8d5e</span><span onclick='getBlogZan(\"+tid+\",0)' class='blogZanFour_in'></span></div>\";\r\n		    \r\n	    }else{\r\n	    	var intFlag=0;\r\n	    	for(var k=0;k<poList.length;k++){\r\n		    	var po = poList[k];\r\n		    	if(zanBean.curUserid==po.zanHrmid){\r\n		    		if(k==poList.length-1 || k==14){\r\n						zanHtml=zanHtml.substring(0,zanHtml.lastIndexOf(\"\u3001\"))+zanHtml.substring(zanHtml.lastIndexOf(\"\u3001\")+1);\r\n					}\r\n					continue;\r\n		    	}\r\n		    	\r\n		    	if(k<15){\r\n					zanHtml +=\"<span style='color:#007FCB;margin-right:2px;' id='hrm_\"+po.zanHrmid+\"'>\"+po.zanHrmname;\r\n					if(k==poList.length-1 || k==14){\r\n						zanHtml += \"</span>\";\r\n					}else{\r\n						zanHtml += \"\u3001</span>\";\r\n					}\r\n				}else{\r\n					intFlag=1;\r\n					break;\r\n				}\r\n	\r\n		    }\r\n		    if(intFlag==1){\r\n		    	 zanHtml +=\"<span>\u7b49<span id='zanThr_\"+tid+\"'>\"+zanBean.zanCount+\"</span>\u4eba\u89c9\u5f97\u5f88\u8d5e</span><span onclick='getBlogZan(\"+tid+\",1)' class='blogZanFour_out'></span></div>\";\r\n		    }else{\r\n		    	 zanHtml +=\"<span><span id='zanThr_\"+tid+\"'>\"+zanBean.zanCount+\"</span>\u4eba\u89c9\u5f97\u5f88\u8d5e</span></div>\";\r\n		    }\r\n		   \r\n	    \r\n	    }\r\n	    \r\n	    jQuery(\"#zanSed_\"+tid).empty();\r\n		jQuery(\"#zanSed_\"+tid).html(zanHtml);\r\n		\r\n	});\r\n}\r\n </script>\r\n \r\n \r\n".toCharArray();
    _jsp_string45 = "',		// \u53f3\u65cb\u8f6c\u6309\u94ae\u6587\u5b57\r\n		    source: '".toCharArray();
    _jsp_string44 = "',		// \u5de6\u65cb\u8f6c\u6309\u94ae\u6587\u5b57\r\n		    right: '".toCharArray();
    _jsp_string31 = "\");  //\u8bf7\u53d6\u6d88\u6b63\u5728\u7f16\u8f91\u7684\u8bc4\u8bba\r\n	   return;\r\n	}   \r\n	\r\n	var editorid=(new Date()).getTime();\r\n	if(extral.level==\"1\"){\r\n		content=\"<a style='border:medium none;padding:0px;margin:0px;;background:none;color:#1d76a4;cursor:pointer;font-family:\u5fae\u8f6f\u96c5\u9ed1 !important;font-size:12px !important;font:none !important;height:18px !important;text-align:left;' relatedid='\"+extral.uid+\"' unselectable='off' contenteditable='false' href='javascript:void(0)' onclick='try{openBlog(\"+extral.uid+\");}catch(e){}'>@\"+extral.name+\"&nbsp;</a>&nbsp;\";\r\n	    //content=\"<button type='button' relatedid='\"+extral.uid+\"' onclick='try{openBlog(\"+extral.uid+\");}catch(e){}' style='border:medium none;padding:0px;margin:0px;;background:none;color:#1d76a4;cursor:pointer;font-family:\u5fae\u8f6f\u96c5\u9ed1 !important;font-size:12px !important;font:none !important;height:18px !important;text-align:left;' contenteditable='false'  unselectable='off'>@\"+extral.name+\"</button>&nbsp;\";\r\n	}\r\n	var temp=\"\";\r\n	temp+=\"<span>".toCharArray();
    _jsp_string39 = "\");\r\n		});\r\n	 } \r\n	}\r\n//\u5168\u90e8\u63d0\u9192	\r\nfunction unSumitRemindAll(obj,remindid,workdate){\r\n  jQuery(obj).parents(\".attentionStateBody:first\").find(\".remind\").each(function(){\r\n     jQuery(this).click();\r\n  });\r\n  jQuery(obj).removeClass(\"remindAll\").addClass(\"remindedAll\").attr(\"title\",\"".toCharArray();
    _jsp_string4 = "\r\n			    window.top.Dialog.alert(\"".toCharArray();
    _jsp_string79 = "\";\r\n\r\n		diag.URL = \"/blog/showLocation.jsp?discussid=\"+discussid; \r\n	    diag.show();\r\n	}\r\n	\r\n	//\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1\r\n	function stopEvent() {\r\n		if (event.stopPropagation) { \r\n			// this code is for Mozilla and Opera \r\n			event.stopPropagation();\r\n		} \r\n		else if (window.event) { \r\n			// this code is for IE \r\n			window.event.cancelBubble = true; \r\n		}\r\n	}\r\n	\r\n	 //\u6dfb\u52a0cookie\r\n	  function addCookie(objName,objValue,objHours){//\u6dfb\u52a0cookie\r\n			var str = objName + \"=\" + escape(objValue);\r\n			if(objHours > 0){//\u4e3a0\u65f6\u4e0d\u8bbe\u5b9a\u8fc7\u671f\u65f6\u95f4\uff0c\u6d4f\u89c8\u5668\u5173\u95ed\u65f6cookie\u81ea\u52a8\u6d88\u5931\r\n				var date = new Date();\r\n				date.setTime(date.getTime() + objHours);\r\n				str += \"; expires=\" + date.toGMTString();\r\n			}\r\n			document.cookie = str;\r\n	  }\r\n	  //\u8bfb\u53d6cookie\r\n	  function getCookie(objName){//\u83b7\u53d6\u6307\u5b9a\u540d\u79f0\u7684cookie\u7684\u503c\r\n			var arrStr = document.cookie.split(\"; \");\r\n			for(var i = 0;i < arrStr.length;i ++){\r\n			   var temp = arrStr[i].split(\"=\");\r\n			   if(temp[0] == objName) return temp[1]!=undefined?unescape(temp[1]):\"\";\r\n			}\r\n			return \"\";\r\n	  }\r\n	  \r\n	  function delCookie(name)//\u5220\u9664cookie\r\n	  {\r\n	    var exp = new Date();\r\n	    exp.setTime(exp.getTime() - 1);\r\n	    var cval=getCookie(name);\r\n	    if(cval!=null) document.cookie= name + \"=\"+cval+\";expires=\"+exp.toGMTString();\r\n	  }\r\n	  \r\n	  function viewRemind(obj){\r\n\r\n	    var diag = new window.top.Dialog();\r\n	    diag.Modal = true;\r\n	    diag.Drag=true;\r\n		diag.Width = 680;\r\n		diag.Height = 420;\r\n		diag.ShowButtonRow=false;\r\n		diag.Title =\"".toCharArray();
    _jsp_string71 = "\uff01\");\r\n		   return false;\r\n		 } \r\n		  content=\"<br>\"+content;\r\n		 jQuery(obj).attr(\"disabled\",\"true\");\r\n		 beforerequest(2); \r\n		 \r\n		 jQuery.post(\"saveBlogOperation.jsp\",{'discussid':0,'content':content,'forDate':workdate,'appItemId':1},function(backInfo){\r\n		 	backInfo = eval('('+backInfo+')');\r\n		 	if(backInfo.status==\"1\"){\r\n		        afterrequest(2);\r\n		        jQuery(obj).attr(\"disabled\",\"\");\r\n		     } \r\n		 });\r\n	  }\r\n	  //\u8bf7\u6c42\u4e4b\u524d\u63d0\u9192\r\n	  function beforerequest(type){\r\n                var t=\"Loading data...\";\r\n                switch(type)\r\n                {\r\n                    case 1:\r\n                        t=\"".toCharArray();
    _jsp_string8 = "\");  //\u8bf7\u8f93\u5165\u5185\u5bb9 \r\n		return;\r\n	}\r\n	displayLoading(1,\"save\");\r\n	\r\n	//\u5f53\u4e3a\u4eca\u5929\u63d0\u4ea4\uff0c\u5b58\u5728\u4eca\u5929\u8bb0\u5f55\u5df2\u7ecf\u63d0\u4ea4\u7684\u8bb0\u5f55\uff0c\u5185\u5bb9\u8ffd\u52a0\u65f6\u9700\u8981\u6362\u884c\r\n	var contenttemp=content;\r\n	if(isToday==\"true\"&&todayItem.length>0&&unsubmit!==\"true\")\r\n	   content=\"<br>\"+content;\r\n	   \r\n	jQuery.post(\"saveBlogOperation.jsp\",{'discussid':discussid,'content':content,'forDate':forDate,'type':type,'appItemId':appItemId,'isEditor':'1'},function(backInfo){\r\n		backInfo = eval('('+backInfo+')');\r\n		if(backInfo.status==\"1\"){\r\n		  if(isToday!=\"true\"||todayItem.length==0||(isToday==\"true\"&&todayItem.length>0&&unsubmit==\"true\")){\r\n		    \r\n			var topBlogItem;\r\n			if(isToday==\"true\"&&todayItem.length>0&&unsubmit==\"true\"){\r\n			   topBlogItem=todayItem.find(\".discussView\");\r\n			   topBlogItem.attr(\"appItemId\",appItemId);\r\n			}else{\r\n			   topBlogItem=item.find(\".discussView\");\r\n			   item.attr(\"appItemId\",appItemId);\r\n			}\r\n			   \r\n			var topBlogItemContent=\"\";\r\n			//\u4e0d\u5b58\u5728\u4eca\u5929\u63d0\u4ea4\u8bb0\u5f55\u65f6\uff0c\u6dfb\u52a0\u4e00\u6761\u63d0\u4ea4\u8bb0\u5f55\r\n			if(isToday==\"true\"&&todayItem.length==0){\r\n			   topBlogItemContent=\"<div class='reportItem' userid='\"+backInfo.backdata.userid+\"'  id=\"+backInfo.backdata.id+\" tid=\"+backInfo.backdata.id+\" forDate=\"+backInfo.backdata.forDate+\"  appItemId='\"+backInfo.backdata.appItemId+\"'  isTodayItem='true' isToday='false'>\"\r\n			                       +\"<table width='100%' style='TABLE-LAYOUT: fixed;'>\"\r\n			                       +\"<tr>\"\r\n			                       +\"<td valign='top' width='70px' nowrap='nowrap'>\"\r\n			                       +\"	<div class='dateArea'>\"\r\n			                       +\"		<div class='day'>".toCharArray();
    _jsp_string11 = "\":\"".toCharArray();
    _jsp_string18 = "</span>&nbsp;&nbsp;<span class='comefrom'>\"+comefromTemp+\"</span>\"\r\n									+\"</div>\";	\r\n			}\r\n			\r\n\r\n			 var operationdivContent ='<div class=\"operationdiv\" style=\"padding:5px 0px 8px 8px;\">'+\r\n								 '	<div class=\"left\">'+\r\n								 ' 		<span class=\"datetime\">'+\r\n								 			backInfo.backdata.createdatetime+\r\n								 '		</span>'+\r\n								 '	</div>'+\r\n								 '	<div class=\"operations right\">'+\r\n								 '			<div class=\"edit left\" title=\"".toCharArray();
    _jsp_string58 = "\"); //\u8bf7\u5c06\u7f16\u8f91\u5668\u5207\u6362\u5230\u53ef\u89c6\u5316\u6a21\u5f0f\uff01\r\n				 }\r\n				return;\r\n			}\r\n			\r\n		   var sHtml=\"\";\r\n	       var ids=data.id;\r\n	       var names=data.name;\r\n	       if(ids.length>500)\r\n	          window.top.Dialog.alert(\"".toCharArray();
    _jsp_string17 = ")\";\r\n			    else\r\n			        comefromTemp=\"\";\r\n			    topBlogItemContent+=\"<div>\"\r\n									+\"<span class='location' onclick='showLocation(\"+backInfo.backdata.id+\")'>".toCharArray();
    _jsp_string15 = "Android)\";          \r\n			    else if(comefrom==\"4\")  \r\n			        comefromTemp=\"(".toCharArray();
    _jsp_string84 = "\"); \r\n               });\r\n           } \r\n        }\r\n        if(status==\"apply\"){\r\n          if(jQuery(obj).attr(\"isApply\")!==\"true\"){\r\n            jQuery.post(\"blogOperation.jsp?operation=requestAttention&islower=\"+islower+\"&attentionid=\"+attentionid,function(){\r\n               window.top.Dialog.alert(\"".toCharArray();
    _jsp_string81 = "\");  \r\n        }\r\n        if(status==\"add\"){\r\n           if(islower == 1) {\r\n               jQuery.post(\"blogOperation.jsp?operation=addAttention&islower=\"+islower+\"&attentionid=\"+attentionid);\r\n               obj.setAttribute(\"status\",\"cancel\");\r\n               jQuery(obj).addClass(\"grayButton\").removeClass(\"blueButton\");\r\n               jQuery(obj).find(\"#btnLabel\").html(\"<span class='add'>-</span>".toCharArray();
    _jsp_string57 = "\"); //\u8bf7\u5c06\u7f16\u8f91\u5668\u5207\u6362\u5230\u53ef\u89c6\u5316\u6a21\u5f0f\uff01\r\n				 	})\r\n				 }else{\r\n				 	if(KE.g[editorId].designMode)\r\n					    KE.html(editorId,data.name);\r\n				    else\r\n				        window.top.Dialog.alert(\"".toCharArray();
    _jsp_string23 = "_\"+forDate);//\u5220\u9664cookie\r\n		}else if(backInfo.status==\"2\"){\r\n			window.top.Dialog.alert(\"".toCharArray();
    _jsp_string20 = "\" onclick=\"showReplySubmitBox(this,'+backInfo.backdata.id+',{uid:".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string78 = "!\");\r\n                        window.setTimeout(function(){ $(\"#remindSpan\").hide();},3000);\r\n                    break;\r\n                }              \r\n               \r\n         }\r\n    //\u663e\u793a\u7cfb\u7edf\u64cd\u4f5c\u65e5\u5fd7     \r\n	function showLog(obj,blogid,workdate){\r\n		   var extend=jQuery(obj).attr(\"_extend\");\r\n		   var isload=jQuery(obj).attr(\"_isload\");\r\n		   if(extend==\"0\"){\r\n		      jQuery(obj).attr(\"_extend\",\"1\");\r\n		      if(isload==\"0\"){\r\n		      	  displayLoading(1,\"data\");\r\n			      jQuery.post(\"/blog/blogOperation.jsp?operation=getSysLog&blogid=\"+blogid+\"&workdate=\"+workdate,function(data){\r\n			      	jQuery(\"#logs_\"+blogid+\"_\"+workdate).html(data);\r\n			      	jQuery(obj).attr(\"_isload\",\"1\");\r\n			      	jQuery(\"#logs_\"+blogid+\"_\"+workdate).show();\r\n			      	displayLoading(0);\r\n			      });\r\n		      }else{\r\n		      	jQuery(\"#logs_\"+blogid+\"_\"+workdate).show();\r\n		      }\r\n	      	  \r\n		   }else{\r\n		      jQuery(obj).attr(\"_extend\",\"0\");\r\n		      jQuery(\"#logs_\"+blogid+\"_\"+workdate).hide();\r\n		   }       \r\n	}\r\n	\r\n	function openTask(taskid,tasktype){\r\n	   var url=\"\";\r\n	   if(tasktype==\"1\")      //\u4efb\u52a1\r\n	       url=\"/express/task/data/DetailView.jsp?taskid=\"+taskid;\r\n	   else if(tasktype==\"2\") //\u6d41\u7a0b\r\n	       url=\"/workflow/request/ViewRequest.jsp?requestid=\"+taskid+\"&isovertime=0\"; \r\n	   else if(tasktype==\"4\") //\u6587\u6863\r\n	       url=\"/docs/docs/DocDsp.jsp?fromFlowDoc=&blnOsp=false&topage=&pstate=sub&id=\"+taskid;\r\n	   else if(tasktype==\"5\") //\u534f\u4f5c\r\n	       url=\"/cowork/ViewCoWork.jsp?id=\"+taskid;   \r\n	   else if(tasktype==\"7\")\r\n	       url=\"/blog/viewBlog.jsp?blogid=\"+taskid;  \r\n	   else if(tasktype==\"9\")\r\n	       url=\"/CRM/data/ViewCustomer.jsp?CustomerID=\"+taskid;\r\n	   openFullWindowHaveBar(url);        \r\n	}\r\n	\r\n	function showLogContent(obj){ \r\n		jQuery(obj).parents(\"table:first\").find(\".tab2item\").removeClass(\"tab2selected\").addClass(\"tab2unselected\");\r\n		jQuery(obj).addClass(\"tab2selected\").removeClass(\"tab2unselected\");\r\n		\r\n		jQuery(obj).parents(\".content:first\").find(\".log_content\").hide();\r\n		jQuery(jQuery(obj).attr(\"_target\")).show();\r\n	}\r\n	\r\n	function showLocation(discussid){\r\n		\r\n		var diag = new window.top.Dialog();\r\n	    diag.Modal = true;\r\n	    diag.Drag=true;\r\n		diag.Width = 620;\r\n		diag.Height = 420;\r\n		diag.ShowButtonRow=false;\r\n		diag.Title =\"".toCharArray();
    _jsp_string77 = "!\");\r\n                        window.setTimeout(function(){ $(\"#remindSpan\").hide();},3000);\r\n                    case 3:\r\n                    case 4:\r\n                        $(\"#remindSpan\").html(\"".toCharArray();
    _jsp_string83 = "\"); //\u7533\u8bf7\u5df2\u7ecf\u53d1\u9001\r\n                   obj.setAttribute(\"status\",\"apply\");\r\n                   obj.setAttribute(\"isApply\", \"true\");\r\n                   //jQuery(obj).addClass(\"grayButton\").removeClass(\"blueButton\");\r\n                   jQuery(obj).find(\"#btnLabel\").html(\"<span class='add'>\u221a</span>".toCharArray();
    _jsp_string70 = "\"\r\n	jQuery(\"#warn\").find(\".title\").html(msg);\r\n	jQuery(\"#warn\").css(\"display\",\"block\");\r\n	setTimeout(function (){\r\n		jQuery(\"#warn\").css(\"display\",\"none\");\r\n	},1500);\r\n	\r\n  }\r\n   //\u4fdd\u5b58\u5fae\u535a\u4fbf\u7b7e\r\n  	function saveNotepad(obj){\r\n	    var editorId=\"notepadTextarea\";\r\n        //\u83b7\u53d6\u5185\u5bb9\u4e2d\u56fe\u7247\u5927\u5c0f\r\n		jQuery(KE.g[editorId].edit.doc.body).find(\"img\").each(function(){\r\n		   var imgWidth=jQuery(this).width();\r\n		   jQuery(this).attr(\"imgWidth\",imgWidth);\r\n		});\r\n		var content=KE.html(editorId);	  \r\n		beforerequest(1);\r\n	    jQuery.post(\"/blog/blogOperation.jsp\",{'operation':'saveNotepad','content':content,'saveType':'edit'},function(data){\r\n	        afterrequest(1);\r\n	    });\r\n	  }\r\n	  //\u5c06\u5fae\u535a\u4fbf\u7b7e\u4fdd\u5b58\u4e3a\u5fae\u535a\r\n	  function saveAsBlog(obj){\r\n	     var editorId=\"notepadTextarea\";\r\n	     var workdate=jQuery(obj).parents(\".reportItem:first\").attr(\"forDate\");\r\n         //\u83b7\u53d6\u5185\u5bb9\u4e2d\u56fe\u7247\u5927\u5c0f\r\n		 jQuery(KE.g[editorId].edit.doc.body).find(\"img\").each(function(){\r\n		    var imgWidth=jQuery(this).width();\r\n		    jQuery(this).attr(\"imgWidth\",imgWidth);\r\n		 });\r\n		var content=KE.html(editorId);\r\n		if(content==\"\"||(content.indexOf(\"<img\")==-1&&jQuery.trim(jQuery(KE.g[editorId].edit.doc.body).text().replace(/&nbsp;/g,' '))==\"\")){\r\n		   window.top.Dialog.alert(\"".toCharArray();
    _jsp_string68 = "\";\r\n					diag.show();\r\n			        flag=false;\r\n	    		}\r\n	    		else if(data=='2') {\r\n	    			var flag_msg = '".toCharArray();
    _jsp_string41 = "\");   //\u6b63\u5728\u4fdd\u5b58\uff0c\u8bf7\u7a0d\u7b49...\r\n        else if(flag==\"page\")\r\n           jQuery(\"#loadingMsg\").html(\"".toCharArray();
    _jsp_string65 = "\"); //\u7533\u8bf7\u5df2\u7ecf\u53d1\u9001\r\n          }  \r\n        }\r\n        eve.cancelBubble=true;\r\n      }\r\n	\r\n	//\u68c0\u67e5\u670d\u52a1\u5668\u72b6\u6001\r\n	function checkServer(){\r\n	    var xmlhttp;\r\n	    if (window.XMLHttpRequest) {\r\n	    	xmlhttp = new XMLHttpRequest();\r\n	    }  \r\n	    else if (window.ActiveXObject) {\r\n	    	xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");  \r\n	    }\r\n	    var URL = \"/systeminfo/CheckConn.jsp?userid=".toCharArray();
    _jsp_string55 = "\",function(){\r\n				 		if(KE.g[editorId].designMode)\r\n					        KE.html(editorId,data.name);\r\n					    else\r\n					        window.top.Dialog.alert(\"".toCharArray();
    _jsp_string12 = "\")+backInfo.backdata.createdatetime);\r\n			\r\n			//\u5fc3\u60c5\r\n			if(backInfo.backdata.faceImg!=undefined){\r\n				topBlogItemContent+=\"<div class='left'>\"\r\n									+\"	<img id='moodIcon' style='margin-left: 2px;margin-right: 2px' width='16px' src='\"+backInfo.backdata.faceImg+\"' alt='\"+backInfo.backdata.itemName+\"'/>\"\r\n									+\"</div>\";\r\n			}\r\n			\r\n			topBlogItemContent+=\"<div class='clear'></div></div>\"\r\n								+\"<div class='sortInfoRightBar'>\";\r\n			//\u4e0a\u7ea7\u8bc4\u5206\r\n			if(backInfo.backdata.isManagerScore==\"1\") //\u542f\u7528\u4e0a\u7ea7\u8bc4\u5206\r\n			  topBlogItemContent+=\"<span isRaty='false' style='width: 100px' score='\"+backInfo.backdata.score+\"' readOnly='true' discussid='\"+backInfo.backdata.id+\"' target='blog_raty_keep_\"+backInfo.backdata.id+\"' class='blog_raty' id='blog_raty_\"+backInfo.backdata.id+\"'></span>\";					\r\n								\r\n			topBlogItemContent+=\"<div class='clear'></div>\"\r\n								+\"</div>\"\r\n								+\"</div>\"\r\n								+\"<div class='clear reportContent' tid=\"+backInfo.backdata.id+\">\"+content+\"</div>\"\r\n			\r\n			if(locationdiv !=null && typeof(locationdiv) != 'undefined' && locationdiv.html() != null) {\r\n				topBlogItemContent += \"<div class='locationdiv'>\"+locationdiv.html()+\"</div>\"\r\n			}\r\n			\r\n			//\u5fae\u535a\u6765\u81ea\u54ea\u91cc\r\n			if(backInfo.backdata.comefrom!=\"0\"){\r\n			    var comefrom=backInfo.backdata.comefrom;\r\n			    var comefromTemp=\"\";\r\n			    if(comefrom==\"1\")  \r\n			        comefromTemp=\"(".toCharArray();
    _jsp_string66 = "&time=\"+new Date();\r\n	    var flag=true;\r\n	    jQuery.ajax({\r\n            url: URL,\r\n            type: \"post\",\r\n            async: false,\r\n            success: function(data){\r\n               if(data=='1') {\r\n	    			var diag = new Dialog();\r\n					diag.Width = 300;\r\n					diag.Height = 180;\r\n					diag.ShowCloseButton=false;\r\n					diag.Title = \"".toCharArray();
    _jsp_string24 = "\"); //\u670d\u52a1\u5668\u8d85\u65f6\r\n		}else{\r\n		    window.top.Dialog.alert(\"".toCharArray();
    _jsp_string16 = "Web".toCharArray();
    _jsp_string47 = "'        //\u6536\u8d77\r\n	   });\r\n	\r\n }\r\n \r\n  //\u4e0a\u7ea7\u8bc4\u5206\r\n function managerScore(obj){\r\n        if(jQuery(obj).attr(\"isRaty\")==\"true\")\r\n           return ;\r\n           \r\n        jQuery(obj).attr(\"isRaty\",\"true\"); 			       \r\n	    var blog_raty_id=jQuery(obj).attr(\"id\");\r\n	    var score=jQuery(obj).attr(\"score\");\r\n	    var discussid=jQuery(obj).attr(\"discussid\");\r\n	    var readOnly=jQuery(obj).attr(\"readOnly\");\r\n	    var isReadOnly=false;\r\n	    if(readOnly==\"true\")\r\n	        isReadOnly=true;\r\n	        \r\n	    jQuery('#'+blog_raty_id).raty({\r\n	       path:'/blog/js/raty/img/',\r\n	       hintList:['1".toCharArray();
    _jsp_string28 = "'></div>\" //\u5220\u9664\r\n				 +\"		<div class='left comment_s' onclick=\\\"showReplySubmitBox(this,\"+backInfo.backdata.discussid+\",{'uid':'\"+backInfo.backdata.userid+\"','name':'\"+backInfo.backdata.username+\"','level':'1','replyid':'\"+backInfo.backdata.id+\"'},0)\\\" title='".toCharArray();
    _jsp_string86 = "\");\r\n               jQuery(obj).attr(\"isApply\",\"true\");\r\n            });\r\n          }else {\r\n              window.top.Dialog.alert(\"".toCharArray();
    _jsp_string35 = "</button></div>\"; //\u53d6\u6d88\r\n	item.find(\".commitBox\").append(temp);\r\n	item.find(\".commitBox\").attr(\"state\",\"1\");\r\n	item.find(\".commitBox\").attr(\"commentType\",commentType);\r\n	\r\n	item.find(\".commitBox\").css(\"display\",\"block\");\r\n	jQuery(\"#text_\"+editorid).focus();\r\n	highEditorForReply(\"text_\"+editorid);\r\n	\r\n}\r\n\r\nfunction replyCancel(obj){\r\n    jQuery(document.body).focus(); //\u907f\u514d\u5220\u9664div\u65f6 \u9875\u9762\u7126\u70b9\u4e22\u5931\r\n	var item=jQuery(obj).parents(\".reportItem\");\r\n	item.find(\".commitBox\").css(\"display\",\"none\");\r\n	item.find(\".commitBox\").attr(\"state\",\"0\");\r\n	item.find(\".commitBox\").html(\"\");\r\n	\r\n}\r\nfunction editCancel(obj){\r\n	jQuery(obj).parents(\".editor\").css(\"display\", \"none\");\r\n	var editorId=jQuery(obj).parents(\".reportItem\").find(\"textarea[name=submitText]\").attr(\"id\");\r\n	KE.html(editorId,\"\");\r\n	jQuery(obj).parents(\".reportItem\").find(\".discussView\").css(\"display\", \"block\");\r\n	\r\n}\r\nfunction showAfterSubmit(obj){\r\n	var item=jQuery(obj).parents(\".reportItem\");\r\n	item.find(\".discussView\").css(\"display\",\"none\");\r\n	var isToday=item.attr(\"isToday\");\r\n	var workdate=item.attr(\"forDate\");\r\n	var isNeedSubmit=item.attr(\"isNeedSubmit\");\r\n	if(isToday==\"true\")\r\n	    workdate=\"\";\r\n	var editor=item.find(\".editor\");\r\n	if(editor.find(\"textarea\").length!=0){\r\n		if(editor.css(\"display\")==\"none\")\r\n			editor.css(\"display\",\"inline\");\r\n		else{\r\n			//KE.html(editor.find(\"textarea\").attr(\"id\"),\"\");\r\n		}\r\n		return;\r\n	}\r\n	\r\n	jQuery(\".editorTmp\").find(\".uploadDiv\").attr(\"id\",\"uploadDiv_\"+workdate);\r\n	var editorTmp=jQuery(\".editorTmp\").html();\r\n	\r\n	editor.html(editorTmp);\r\n	item.find(\".editor\").show();\r\n	editor=item.find(\".editor\");\r\n	editorId=\"text_\"+new Date().getTime();\r\n	editor.find(\"textarea[name=submitText]\").attr(\"id\",editorId);\r\n	if(isNeedSubmit!=1&&isUsedTemp==1)\r\n	   tempHeight=jQuery(\"#templatediv\").height();\r\n	jQuery(\"#templatediv\").hide();\r\n	highEditor(editorId,tempHeight+60);\r\n	if(isNeedSubmit!=1&&isUsedTemp==1){\r\n		  KE.html(editorId,jQuery(\"#templatediv\").html());\r\n	}else{\r\n		  if(isToday==\"true\"){\r\n		  	  //KE.html(editorId,getCookie(\"blog_content_".toCharArray();
    _jsp_string53 = "', //\u4e0a\u7ea7\u6ca1\u6709\u8bc4\u5206\r\n	       click: function(score, evt) {\r\n               jQuery.post(\"/blog/blogOperation.jsp?operation=managerScore&discussid=\"+discussid+\"&score=\"+score)\r\n           }\r\n	    });\r\n }\r\n\r\n   //\u6253\u5f00\u5e94\u7528\u7a0b\u5e8f\r\n   var appObj;\r\n   var appType;\r\n   function openApp(obj,type){\r\n   	   appObj=obj;\r\n   	   appType=type;\r\n   	   onShowApp(type);\r\n	}\r\n  \r\n  function onShowApp(type){\r\n	   var url;\r\n       if(type=='doc')\r\n	      url=\"/systeminfo/BrowserMain.jsp?url=/docs/docs/MutiDocBrowser.jsp\";\r\n	   else if(type=='project')   \r\n	      url=\"/systeminfo/BrowserMain.jsp?url=/proj/data/MultiProjectBrowser.jsp\";\r\n	   else if(type=='task')   \r\n	      url=\"/systeminfo/BrowserMain.jsp?url=/proj/data/MultiTaskBrowser.jsp\";\r\n	   else if(type=='crm')   \r\n	      url=\"/systeminfo/BrowserMain.jsp?url=/CRM/data/MutiCustomerBrowser.jsp\";\r\n	   else if(type=='workflow')   \r\n	      url=\"/systeminfo/BrowserMain.jsp?url=/workflow/request/MultiRequestBrowser.jsp\"; \r\n	   else if(type==\"workplan\")\r\n		  url=\"/systeminfo/BrowserMain.jsp?url=/workplan/data/WorkplanEventsBrowser.jsp\";    \r\n	   else if(type==\"template\")\r\n		  url=\"/systeminfo/BrowserMain.jsp?url=/blog/BlogTemplateBrowser.jsp\"; \r\n		  \r\n	   showModalDialogForBrowser(event,url,'#','resourceBrowser',false,1,'',{name:'resourceBrowser',hasInput:false,zDialog:true,needHidden:true,dialogTitle:'',arguments:'',_callback:appCallback});	\r\n		  \r\n}\r\n\r\nfunction appCallback(event,data,name,oldid){\r\n	\r\n	if(data){\r\n			//\u9009\u62e9\u6a21\u677f\r\n			if(jQuery.trim(jQuery(appObj).find(\"a\").html()) == \"".toCharArray();
    _jsp_string56 = "\"); //\u8bf7\u5c06\u7f16\u8f91\u5668\u5207\u6362\u5230\u53ef\u89c6\u5316\u6a21\u5f0f\uff01\r\n				 	},function(){\r\n				 		if(KE.g[editorId].designMode)\r\n					        KE.insertHtml(editorId,data.name);\r\n					    else\r\n					        window.top.Dialog.alert(\"".toCharArray();
    _jsp_string82 = "\");  \r\n           } else if(islower == 0) {\r\n               jQuery.post(\"blogOperation.jsp?operation=requestAttention&islower=\"+islower+\"&attentionid=\"+attentionid, function(){\r\n                   window.top.Dialog.alert(\"".toCharArray();
    _jsp_string73 = "\u2026\u2026\"; //\u6b63\u5728\u53d1\u8868\u5fae\u535a\uff0c\u8bf7\u7a0d\u7b49\u2026\u2026\r\n                        break;                   \r\n                    case 3:  \r\n                        t=\"".toCharArray();
    _jsp_string64 = "</span>\");\r\n               jQuery(obj).attr(\"isApply\",\"true\");\r\n            });\r\n          }else {\r\n              window.top.Dialog.alert(\"".toCharArray();
    _jsp_string3 = "\"); //\u6709\u6700\u65b0\u8bc4\u8bba\r\n		        jQuery(obj).parents(\".reply\").find(\".deleteOperation\").hide();\r\n			  }else if(backInfo.status==\"-2\"){\r\n			    ".toCharArray();
    _jsp_string38 = "\");//\u5df2\u63d0\u9192\r\n		   jQuery(obj).attr(\"isRemind\",\"true\").removeClass(\"remind\").addClass(\"reminded\").attr(\"title\",\"".toCharArray();
    _jsp_string80 = "\";\r\n	\r\n		diag.URL = \"/blog/blogRemind.jsp\";\r\n	    diag.show();\r\n	    \r\n	    $(obj).find(\".msg-count\").hide();\r\n	 }\r\n	 \r\n	 function disAttention(obj,attentionid,islower,eve){\r\n        var itemName=jQuery(obj).parent().parent().find(\".title\").text();\r\n        var status=obj.getAttribute(\"status\");\r\n        if(status==\"cancel\"){\r\n           jQuery.post(\"blogOperation.jsp?operation=cancelAttention&islower=\"+islower+\"&attentionid=\"+attentionid);\r\n           obj.setAttribute(\"status\",\"apply\");\r\n           jQuery(obj).addClass(\"blueButton\").removeClass(\"grayButton\");\r\n           jQuery(obj).find(\"#btnLabel\").html(\"<span class='add'>\u221a</span>".toCharArray();
    _jsp_string26 = "\"); //\u8bf7\u586b\u5199\u8bc4\u8bba\u5185\u5bb9'\r\n		return;\r\n	}\r\n	if(content.indexOf(\"relatedid=\\\"\"+relatedid+\"\\\"\")==-1){\r\n		replyid=0;\r\n	}\r\n	\r\n	displayLoading(1,\"save\");\r\n	jQuery.post(\"/blog/blogCommentOparation.jsp\",{'content':content,'action':'add','discussid':tid,'replyid':replyid,'relatedid':relatedid,'commentType':commentType,'workdate':workdate,'bediscussantid':bediscussantid},function(backInfo){\r\n		backInfo = eval('('+backInfo+')');\r\n		if(backInfo.status==\"1\"){\r\n		    item.find(\".deleteOperation\").hide();\r\n			var temp=\"\";\r\n			temp+=\"<div id=\\\"re_\"+backInfo.backdata.id+\"\\\">\"\r\n				 +\"<div class=\\\"sortInfo replyTitle\\\">\"\r\n				 +\"<span class=\\\"name\\\">&nbsp;<a href='viewBlog.jsp?blogid=\"+backInfo.backdata.userid+\"' target='_blank'>\"+backInfo.backdata.username+\"</a>&nbsp;</span>\"\r\n				 +\"<span class=\\\"datetime\\\">\"+backInfo.backdata.createdatetime+(backInfo.backdata.commentType==\"1\"?\"&nbsp;<span class='comefrom'>(".toCharArray();
    _jsp_string13 = "Iphone)\";\r\n			    else if(comefrom==\"2\")  \r\n			        comefromTemp=\"(".toCharArray();
    _jsp_string6 = "\"); //\u8bf7\u5c06\u7f16\u8f91\u5668\u5207\u6362\u5230\u53ef\u89c6\u5316\u6a21\u5f0f\uff01\r\n	    return ;\r\n	}    \r\n	\r\n	if(isToday==\"true\"&&todayItem.find(\".discussView\").is(\":hidden\")){\r\n	   window.top.Dialog.alert(\"".toCharArray();
    _jsp_string61 = "</span>\");  \r\n        }\r\n        if(status==\"add\"){\r\n           jQuery.post(\"/blog/blogOperation.jsp?operation=addAttention&islower=\"+islower+\"&attentionid=\"+attentionid);\r\n           jQuery(obj).attr(\"status\",\"cancel\");\r\n           jQuery(obj).find(\"#btnLabel\").html(\"<span class='add'>-</span>".toCharArray();
    _jsp_string40 = "\");//\u5168\u90e8\u5df2\u7ecf\u63d0\u9192\r\n  jQuery(obj).attr(\"isRemind\",\"true\");\r\n  stopEvent();\r\n} \r\n\r\n//\u63d0\u4ea4\u56de\u590d\u65f6\uff0c\u63d0\u4ea4\u7b49\u5f85\r\nfunction displayLoading1(state,flag){\r\n  if(state==1){\r\n        //\u906e\u7167\u6253\u5f00\r\n        var bgHeight=document.body.scrollHeight; \r\n        var bgWidth=window.parent.document.body.offsetWidth;\r\n        jQuery(\"#bg\").css(\"height\",bgHeight,\"width\",bgWidth);\r\n        jQuery(\"#bg\").show();\r\n        \r\n        if(flag==\"save\")\r\n           jQuery(\"#loadingMsg\").html(\"".toCharArray();
    _jsp_string76 = "!\"); //\u4fdd\u5b58\u6210\u529f\uff01\r\n                        window.setTimeout(function(){ $(\"#remindSpan\").hide();},3000);\r\n                        break;\r\n                    case 2:\r\n                        $(\"#remindSpan\").html(\"".toCharArray();
    _jsp_string9 = "</div>\"\r\n			                       +\"	</div>\"\r\n			                       +\"	<div class='state ok' title='".toCharArray();
    _jsp_string21 = ",level:0},0)\"></div>'+\r\n								 '			<div class=\"log left\" _isload=\"0\" _extend=\"0\" title=\"".toCharArray();
    _jsp_string59 = "\");\r\n	       else if(ids.length>0){\r\n	          var tempids=ids.split(\",\"); \r\n	          var tempnames=names.split(\",\");\r\n	          for(var i=0;i<tempids.length;i++){\r\n	              var tempid=tempids[i];\r\n	              var tempname=tempnames[i];\r\n	              if(tempid!=''){\r\n		                sHtml = sHtml+\"<a href='javascript:void(0)'  linkid=\"+tempid+\" linkType='\"+appType+\"' onclick='try{return openAppLink(this,\"+tempid+\");}catch(e){}' ondblclick='return false;'  unselectable='off' contenteditable='false' style='cursor:pointer;text-decoration:underline !important;margin-right:8px'>\"+tempname+\"</a>&nbsp\";\r\n			        }\r\n	          }\r\n	       }\r\n	       var editorId=jQuery(appObj).parents(\".editor\").find(\"textarea[name=submitText]\").attr(\"id\");\r\n		   if(sHtml){      \r\n		     if(KE.g[editorId].designMode)\r\n		        KE.insertHtml(editorId,sHtml);\r\n		     else\r\n		        window.top.Dialog.alert(\"".toCharArray();
    _jsp_string67 = "\";\r\n					//diag.InvokeElementId=\"pageOverlay\"\r\n					diag.URL = \"/wui/theme/ecology7/page/loginSmall.jsp?username=".toCharArray();
    _jsp_string36 = "_\"+item.attr(\"forDate\")));\r\n	  	  }\r\n	}   \r\n	\r\n	if(jQuery(\"#uploadDiv_\"+workdate).length>0)\r\n       bindUploaderDiv(jQuery(\"#uploadDiv_\"+workdate),\"relatedacc\",editorId);\r\n    \r\n	if(item.attr(\"isToday\")==\"false\"){\r\n		editor.find(\".editCancel\").css(\"display\",\"inline\");\r\n	}else{\r\n		editor.find(\".editCancel\").css(\"display\",\"none\");\r\n	}\r\n	//jQuery(\"#\"+editorId).focus();\r\n}\r\n\r\nfunction showBlogNotes(){\r\n    highEditor(\"notepadTextarea\",240);\r\n    if(jQuery(\"#uploadDiv_notes\").length>0)\r\n       bindUploaderDiv(jQuery(\"#uploadDiv_notes\"),\"relatedacc\",\"notepadTextarea\");\r\n}\r\n\r\nfunction afterSubmit(fordate){\r\n		var item=jQuery(\"div[forDate=\"+fordate+\"]\");\r\n		var content=KE.html(\"text_\"+fordate);\r\n		jQuery.post(\"saveBlogOperation.jsp\",{'content':content,'forDate':fordate},function(backInfo){\r\n			backInfo = eval('('+backInfo+')');\r\n			item.find(\".state\").removeClass(\"no\").addClass(\"after\");\r\n			item.find(\".state\").after(\"<span class=\\\"datetime\\\">".toCharArray();
    _jsp_string22 = "\" onclick=\"showLog(this,'+backInfo.backdata.userid+',\\''+backInfo.backdata.forDate+'\\')\"></div>'+\r\n								 '	</div>'+\r\n								 '	<div class=\"clear\"></div>'+\r\n								 '</div>'; \r\n								      \r\n			var  zandiv = '';\r\n			if(!blogZanDiv.html()){\r\n				zandiv='<div id=\"blogzan_'+backInfo.backdata.id+'\"></div>';\r\n			}else{\r\n				zandiv='<div id=\"blogzan_'+backInfo.backdata.id+'\">'+blogZanDiv.html()+'</div>';\r\n			}\r\n			\r\n			//\u5f53\u7f16\u8f91\u7684\u8bb0\u5f55\u4e2d\u5305\u542b\u56de\u590d\u5185\u5bb9\u65f6\uff0c\u907f\u514d\u56de\u590d\u5185\u5bb9\u88ab\u6e05\u9664\r\n			if (topBlogItem.find('.reply').length > 0) {\r\n				topBlogItem.find('.reply').prevAll().remove();\r\n				topBlogItem.find('.reply').before(topBlogItemContent);\r\n			}else{\r\n				topBlogItemContent += operationdivContent;\r\n				topBlogItemContent += zandiv;\r\n				var htmlstr1='<div class=\"logs\" id=\"logs_'+backInfo.backdata.userid+'_'+backInfo.backdata.forDate+'\"></div>'+\r\n			       			 \"<div class='commitBox'></div>\"+\r\n			       			 \"<div class='editor' tid=\"+backInfo.backdata.id+\" style='display: none;'></div>\";\r\n				if(isToday==\"true\"&&todayItem.length==0){\r\n			       topBlogItemContent+=\"</div>\"+htmlstr1+\"</td></tr></table></div>\"\r\n			    }else\r\n				   topBlogItem.html(topBlogItemContent);\r\n			}\r\n			if(isToday==\"true\"&&todayItem.length==0){\r\n			   item.after(topBlogItemContent);\r\n			   item.next().find(\".reportContent img\").each(function(){\r\n				   initImg(this); \r\n				});\r\n			   //\u663e\u793a\u4eca\u5929\u7cfb\u7edf\u64cd\u4f5c\u65e5\u5fd7\r\n			   showLog(jQuery(\"#showlog_\"+backInfo.backdata.forDate)[0],backInfo.backdata.userid,backInfo.backdata.forDate);\r\n			}else{\r\n				topBlogItem.show();\r\n				if(isToday==\"true\"&&todayItem.length>0&&unsubmit==\"true\"){\r\n				    todayItem.find(\".editor[tid=0]\").attr(\"tid\",backInfo.backdata.id);\r\n				    todayItem.attr(\"tid\",backInfo.backdata.id);\r\n				    todayItem.attr(\"unsubmit\",false);\r\n				}    \r\n				else{\r\n					item.attr(\"tid\",backInfo.backdata.id);\r\n					if(item.find(\".editor[tid=0]\").length==1) //\u672a\u8865\u4ea4\u60c5\u51b5\u4e0b\r\n					     item.find(\".editor[tid=0]\").attr(\"tid\",backInfo.backdata.id).hide();\r\n					else\r\n					     item.find(\".editor[tid=\"+backInfo.backdata.id+\"]\").hide();      \r\n					item.attr(\"unsubmit\",false);\r\n				}\r\n				topBlogItem.find(\".reportContent img\").each(function(){\r\n				   initImg(this);\r\n				});\r\n			}\r\n			managerScore(jQuery(\"#blog_raty_\"+backInfo.backdata.id)[0]);//\u4e0a\u7ea7\u8bc4\u5206\u521d\u59cb\u5316\r\n		  }else{\r\n		    if(todayItem.length>0){\r\n		       var tempdiv=jQuery(\"<div>\"+contenttemp+\"</div>\");\r\n		       todayItem.find(\".reportContent:first\").append(tempdiv);\r\n		       todayItem.find(\"img\").each(function(){\r\n				   initImg(this);\r\n			   });\r\n		       var selectedQty=item.find(\".qty_items_out[val=\"+appItemId+\"]\");\r\n		       var imgsrc=selectedQty.find(\"img\").attr(\"src\");\r\n			   todayItem.find(\"#moodIcon\").attr(\"src\",imgsrc);\r\n			   todayItem.attr(\"appItemId\",appItemId);\r\n		    }\r\n		  }	\r\n		  if(isToday==\"true\"){\r\n			  KE.html(editorId,\"\");\r\n			  //KE.create(editorId);\r\n		  }\r\n		  KE.util.resize(editorId, KE.g[editorId].width,\"150px\"); //\u6062\u590d\u7f16\u8f91\u6846\u9ad8\u5ea6\r\n		  msgRemind();\r\n		  //delCookie(\"blog_content_".toCharArray();
    _jsp_string25 = "\"); //\u4fdd\u5b58\u5931\u8d25\r\n		}\r\n		displayLoading(0);\r\n	});\r\n}\r\n\r\n\r\n/*replyid \u88ab\u56de\u590d\u8bc4\u8bbaid relatedid\u88ab\u56de\u590d\u8bc4\u8bba\u4e2d\u76f8\u5173\u4ebaid */\r\nfunction addAply(tm,tid,replyid,relatedid){\r\n     \r\n	var item=jQuery(tm).parents(\".reportItem\");\r\n	var editorId=item.find(\"textarea[name=replayContent]\").attr(\"id\");  \r\n	var content=KE.html(editorId);\r\n	var workdate=item.attr(\"forDate\");\r\n	var bediscussantid=item.attr(\"userid\");\r\n	//var commentType=jQuery(tm).parents(\".commitBox\").attr(\"commentType\");\r\n	var commentType=\"0\";\r\n	if(jQuery(tm).parents(\".appItem_bg\").find(\"input[type=checkbox]\").attr(\"checked\"))\r\n		commentType=\"1\";\r\n	\r\n	if(\"\"==jQuery.trim(content)){\r\n		window.top.Dialog.alert(\"".toCharArray();
    _jsp_string52 = "'], //\u5206\r\n	       readOnly:isReadOnly,\r\n	       start:score,\r\n	       noRatedMsg:'".toCharArray();
    _jsp_string63 = "\"); //\u7533\u8bf7\u5df2\u7ecf\u53d1\u9001\r\n               jQuery(obj).find(\"#btnLabel\").html(\"<span class='apply'>\u221a</span>".toCharArray();
    _jsp_string32 = "</span><br>\"; //\u8bc4\u8bba\u5185\u5bb9\r\n	temp+=\"<textarea id='text_\"+editorid+\"' name='replayContent' style='width:100%'>\"+content+\"</textarea>\";\r\n	temp+=\"<div class='clear'></div>\";\r\n	temp+=\"<div class='appItem_bg' style='text-align:right;'>\";\r\n	temp+=\"<input type='checkbox' id='private_\"+editorid+\"' value='1'/><label for='private_\"+editorid+\"' class='private_label'>".toCharArray();
    _jsp_string27 = ")</span>\":\"\")+\"</span>\" //\u8bc4\u8bba\u4e8e\r\n				 +\"<div class='operations'>\"\r\n				 +\"		<div class='deleteOperation left del' onclick=\\\"deleteDiscuss(this,\"+backInfo.backdata.discussid+\",'\"+backInfo.backdata.id+\"')\\\" title='".toCharArray();
    _jsp_string19 = "\" onclick=\"editContent(this)\"></div>';\r\n			if(zanFirTid==\"zan1\"){\r\n				operationdivContent +='			<div class=\"zanSed left\" title=\"\u53d6\u6d88\u8d5e\"  tid=\"zan1\" onclick=\"zanBlogMethod(this)\"></div>';\r\n			}else{\r\n				operationdivContent +='			<div class=\"zan left\" title=\"\u70b9\u8d5e\" tid=\"zan0\" onclick=\"zanBlogMethod(this)\"></div>';\r\n			}\r\n			operationdivContent += '			<div class=\"comment left\" title=\"".toCharArray();
  }
}
