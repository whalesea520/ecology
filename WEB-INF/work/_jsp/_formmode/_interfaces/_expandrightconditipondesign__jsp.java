/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._formmode._interfaces;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.formmode.virtualform.VirtualFormHandler;
import weaver.formmode.setup.ExpandBaseRightRuleBusiness;
import com.weaver.formmodel.util.StringHelper;
import java.util.*;
import java.net.*;
import weaver.hrm.*;
import weaver.systeminfo.*;
import weaver.general.*;
import ln.LN;
import weaver.hrm.settings.ChgPasswdReminder;
import weaver.hrm.settings.HrmSettingsComInfo;
import weaver.hrm.settings.RemindSettings;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import weaver.workflow.workflow.TestWorkflowCheck;
import weaver.systeminfo.template.UserTemplate;
import weaver.systeminfo.setting.*;
import weaver.login.LicenseCheckLogin;
import weaver.hrm.online.IPUtil;
import java.util.Map;
import com.weaver.integration.util.IntegratedSapUtil;
import weaver.workflow.field.BrowserComInfo;
import weaver.workflow.ruleDesign.RuleBusiness;

public class _expandrightconditipondesign__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;

  
  private String getCurrWuiConfig(HttpSession session, User user, String keyword) throws Exception {
  	
  	if (keyword == null || "".equals(keyword)) {
  		return "";
  	}
  	
  	String curTheme = "";
  	String curskin = "";
  
  	
  		String[] rtnValue = getHrmUserSetting(user);
  		
  		curTheme = rtnValue[0];
  		curskin = rtnValue[1];
  		if(curTheme.equals("")||curskin.equals("")){
  			String templatetype = getCurrE8TemplateType(user);
  			if("".equals(templatetype)){
  				curTheme = "ecologyBasic";
  				curskin = "default";
  			}else if("ecology7".equals(templatetype)){
  				curTheme ="ecology7";
  				curskin = getCurrE8SkinInfo(user);
  			}else{
  				curTheme ="ecology8";
  				curskin = "default";
  			}
  			
  			
  			
  			
  		}else{
  			curTheme = rtnValue[0];
  			curskin = rtnValue[1];
  		}
  		
  		if(curTheme.equals("custom")){
  			curTheme ="ecology8";
  		}
  		
  		session.setAttribute("SESSION_CURRENT_THEME", curTheme);
  		session.setAttribute("SESSION_CURRENT_SKIN", curskin);
  	
  	if ("THEME".equals(keyword.toUpperCase())) {
  		return curTheme;
  	}
  	
  	if ("SKIN".equals(keyword.toUpperCase())) {
  		return curskin;
  	}
  	return "";
  }
  
  
  
  private String getCurrSkinFolder(User user) throws Exception {
  	String pslSkinfolder = "";
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  
  	int userid = user.getUID();
  
  	rs.executeSql("select skin from HrmUserSetting where resourceId=" + userid);
  	
  	if (rs.next()) {
  		pslSkinfolder = rs.getString("skin");
  	}
  
  	if (pslSkinfolder == null || "".equals(pslSkinfolder)) {
  	    pslSkinfolder = "default";
  	}
  	return pslSkinfolder;
  }
  
  private String getCurrE8TemplateType(User user){
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  	weaver.systeminfo.template.UserTemplate  userTemplate = new weaver.systeminfo.template.UserTemplate();
  	userTemplate.getTemplateByUID(user.getUID(),user.getUserSubCompany1());
  	
  	
  	String skin =  userTemplate.getTemplatetype();
  	
  	
  	return skin;
  	
  }
  
  private String getCurrE8SkinInfo(User user){
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  	weaver.systeminfo.template.UserTemplate  userTemplate = new weaver.systeminfo.template.UserTemplate();
  	userTemplate.getTemplateByUID(user.getUID(),user.getUserSubCompany1());
  	
  	
  	String skin =  userTemplate.getSkin();
  	
  	
  	return skin;
  	
  }
  
  private int getCurrTemplateId(User user){
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  	weaver.systeminfo.template.UserTemplate  userTemplate = new weaver.systeminfo.template.UserTemplate();
  	userTemplate.getTemplateByUID(user.getUID(),user.getUserSubCompany1());
  	
  	
  	int id =  userTemplate.getTemplateId();
  	
  	
  	return id;
  	
  }
  
  private String getCurrTemplateLogo(User user){
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  	weaver.systeminfo.template.UserTemplate  userTemplate = new weaver.systeminfo.template.UserTemplate();
  	userTemplate.getTemplateByUID(user.getUID(),user.getUserSubCompany1());
  	
  	
  	String logo =  userTemplate.getLogo();
  	
  	
  	return logo;
  	
  }
  
  private String[] getHrmUserSetting(User user) throws Exception {
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  
  	String[] result = new String[2];
  	String theme = "";
  	String skin = "";
  	
  	String sql="select templateid from SystemTemplateSubComp where subcompanyid="+user.getUserSubCompany1();
  	rs.executeSql(sql);
  	if(rs.next()){	
  	
  		String curUserCanUse = rs.getString("templateid");
  		sql = "SELECT a.* FROM HrmUserSetting a, SystemTemplate  b WHERE a.resourceId="+user.getUID()+" AND a.templateId=b.id  and  b.id="+curUserCanUse;
  		rs.execute(sql);
  		if(rs.next()){
  			theme = rs.getString("theme");
  			skin = rs.getString("skin");
  			if("ecology8".equals(theme)){
  				skin = "default";
  			}
  			result[0] = theme;
  			result[1] = skin;
  			return result;
  		}
  	}
  	
  	
  
  	
  	int userid = user.getUID();
  	rs.executeSql("select theme, skin from HrmUserSetting where resourceId=" + userid);
  	
  	if (rs.next()) {
  		theme = rs.getString("theme");
  		skin = rs.getString("skin");
  	}
  	
  	//rs.executeSql("select * from extandHpThemeItem where extandHpThemeId=" + sqltemplateid1 + " and isopen=1 and theme='" + theme + "' and skin='" + skin + "'");
  	result[0] = theme;
  	result[1] = skin;
  	
  	
  	
  	//System.out.println("result"+result[0]+result[1]);
  	return result;
  }
  
  
  private java.util.Map getPageConfigInfo(HttpSession session, User user) throws Exception{
  	
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  	java.util.Map pageConfigkv = new java.util.HashMap();
  	
  	weaver.systeminfo.template.UserTemplate  userTemplate = new weaver.systeminfo.template.UserTemplate();
  	userTemplate.getTemplateByUID(user.getUID(),user.getUserSubCompany1());
  	
  	pageConfigkv.put("logoTop",userTemplate.getLogo());
  	pageConfigkv.put("logoBottom", userTemplate.getLogo());
  	pageConfigkv.put("isopen", userTemplate.getIsopen());
  	//pageConfigkv.put("islock", rs.getString("islock"));
  	
  	int extendtempletvalueid = userTemplate.getExtendtempletvalueid();
  	rs.executeSql("select * from extandHpThemeItem where extandHpThemeId=" + extendtempletvalueid + " and isopen=1 and theme='" + getCurrWuiConfig(session, user, "THEME") + "' and skin='" + getCurrWuiConfig(session, user, "SKIN") + "'");
  	
  	if (rs.next()) {
  	
  		
  		/**
  		 * ecologybasic\u00e4\u00b8\u00bb\u00e9\u00a2\u0098\u00e7\u0094\u00a8\u00e8\u00ae\u00be\u00e7\u00bd\u00ae\u00e9\u00a1\u00b9
  		 */
  		pageConfigkv.put("bodyBg", rs.getString("bodyBg"));
  		pageConfigkv.put("topBgImage", rs.getString("topBgImage"));
  		pageConfigkv.put("toolbarBgColor", rs.getString("toolbarBgColor"));
  		pageConfigkv.put("menuborderColor", rs.getString("menuborderColor"));
  
  		pageConfigkv.put("leftbarBgImage", rs.getString("leftbarBgImage"));
  		pageConfigkv.put("leftbarBgImageH", rs.getString("leftbarBgImageH"));
  
  		pageConfigkv.put("leftbarborderColor", rs.getString("leftbarborderColor"));
  		pageConfigkv.put("leftbarFontColor", rs.getString("leftbarFontColor"));
  
  		pageConfigkv.put("topleftbarBgImage_left", rs.getString("topleftbarBgImage_left"));
  		pageConfigkv.put("topleftbarBgImage_center", rs.getString("topleftbarBgImage_center"));
  		pageConfigkv.put("topleftbarBgImage_right", rs.getString("topleftbarBgImage_right"));
  
  		pageConfigkv.put("bottomleftbarBgImage_left", rs.getString("bottomleftbarBgImage_left"));
  		pageConfigkv.put("bottomleftbarBgImage_center", rs.getString("bottomleftbarBgImage_center"));
  		pageConfigkv.put("bottomleftbarBgImage_right", rs.getString("bottomleftbarBgImage_right"));
  
  	}
  	
  	return pageConfigkv;
  	
  }

  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html");
    response.setCharacterEncoding("UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
	try{
		response.setBufferSize(1*1024*1024);
	}catch(Exception e){}

      out.write(_jsp_string1, 0, _jsp_string1.length);
      
// \u00e5\u00a2\u009e\u00e5\u008a\u00a0\u00e5\u008f\u0082\u00e6\u0095\u00b0\u00e5\u0088\u00a4\u00e6\u0096\u00ad\u00e7\u00bc\u0093\u00e5\u00ad\u0098
int isIncludeToptitle = 0;
response.setHeader("cache-control", "no-cache");
response.setHeader("pragma", "no-cache");
response.setHeader("expires", "Mon 1 Jan 1990 00:00:00 GMT");

      out.write(_jsp_string2, 0, _jsp_string2.length);
      
//
User user = HrmUserVarify.getUser (request , response) ;
LicenseCheckLogin licenseCheckLogin = new LicenseCheckLogin();
licenseCheckLogin.setOutLineDate(user.getUID(),IPUtil.getIp(request));

//\u00e9\u0097\u00ae\u00e9\u00a2\u00981
TestWorkflowCheck twc=new TestWorkflowCheck();
if(twc.checkURI(session,request.getRequestURI(),request.getQueryString())){
    /*
    response.sendRedirect("/login/Logout.jsp");
    */
    String forwardurl = twc.reLoginMrg(request, response, request.getRequestURI());
    if (!"".equals(forwardurl)) { 
        response.sendRedirect(forwardurl);
        return;
    }
}
String userOffline = Util.null2String((String)session.getAttribute("userOffline"));	
if(userOffline.equals("1")){
	//\u00e5\u00bc\u00ba\u00e5\u0088\u00b6\u00e4\u00b8\u008b\u00e7\u00ba\u00bf
	String loginfile = Util.getCookie(request , "loginfileweaver") ;
	Map userSessions = (Map) application.getAttribute("userSessions");
	if (userSessions != null) {
		Map logmessages = (Map) application.getAttribute("logmessages");
		if (logmessages != null)logmessages.remove("" + user.getUID());
		session.removeValue("moniter");
		session.removeValue("WeaverMailSet");
		userSessions.remove(user.getUID());
		//session.invalidate();
	}
      out.write(_jsp_string3, 0, _jsp_string3.length);
      out.print((SystemEnv.getErrorMsgName(175,user.getLanguage())));
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print(("/Refresh.jsp?loginfile="+loginfile+"&message=175"));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      
  return;
}
if(user == null)  return ;
String isIE = (String)session.getAttribute("browser_isie");
if (isIE == null || "".equals(isIE)) {
	isIE = "true";
	session.setAttribute("browser_isie", "true");
}
String agentT = request.getHeader("user-agent");
//if(!"true".equals(isIE)){
//if((agentT.contains("Firefox")||agentT.contains(" Chrome")||agentT.contains("Safari") )&& !agentT.contains("Edge")){
if(agentT.contains("Firefox")||agentT.contains(" Chrome")||agentT.contains("Safari") || agentT.contains("Edge")){	
    isIE = "false";	
}
else{
    isIE = "true";	
}
//}

Log logger= LogFactory.getLog(this.getClass());



//************************************************
//\u00e8\u00b6\u0085\u00e6\u0097\u00b6\u00e6\u0088\u0096\u00e8\u0080\u0085\u00e9\u0087\u008d\u00e5\u0090\u00afresin\u00e6\u009c\u008d\u00e5\u008a\u00a1\u00e6\u0097\u00b6\u00ef\u00bc\u008c\u00e5\u00bc\u00b9\u00e5\u0087\u00ba\u00e7\u0099\u00bb\u00e9\u0099\u0086\u00e5\u00b0\u008f\u00e7\u00aa\u0097\u00e5\u008f\u00a3(TD 2227)
//hubo,050707

//************************************************

String pagepath = request.getServletPath();
if(pagepath.indexOf("HrmResourceOperation.jsp")<0&&pagepath.indexOf("RemindLogin.jsp")<0&&pagepath.indexOf("HrmResourcePassword.jsp")<0){
	String changepwd = (String)request.getSession().getAttribute("changepwd");
	if("n".equals(changepwd)){
		request.getSession().removeAttribute("changepwd");
		response.sendRedirect("/login/Login.jsp");
		return;
	}else if("y".equals(changepwd)){
		request.getSession().removeAttribute("changepwd");
	}
}



//licence\u00e4\u00bf\u00a1\u00e6\u0081\u00af
String companyNametools="";
LN Licenseinit_1 = new LN();
try{
	Licenseinit_1.CkHrmnum();
}catch(Exception e){
	e.printStackTrace();
	out.println("<script type='text/javascript'> top.location.href='/system/InLicense.jsp?message=6&code=';</script>");
	return;
}
companyNametools = Licenseinit_1.getCompanyname();

//\u00e7\u0089\u0088\u00e6\u009c\u00ac\u00e4\u00bf\u00a1\u00e6\u0081\u00af
StaticObj staticobj = null;
staticobj = StaticObj.getInstance();
String software = (String)staticobj.getObject("software") ;
if(software == null) software="ALL";
String portal = (String)staticobj.getObject("portal") ;
if(portal == null) portal="n";
boolean isPortalOK = false;
if(portal.equals("y")) isPortalOK = true;
String multilanguage = (String)staticobj.getObject("multilanguage") ;
if(multilanguage == null) multilanguage="n";
boolean isMultilanguageOK = false;
if(multilanguage.equals("y")) isMultilanguageOK = true;


      out.write(_jsp_string2, 0, _jsp_string2.length);
      
  String fromlogin=(String)session.getAttribute("fromlogin");
  session.removeAttribute("fromlogin");
  if(fromlogin==null) fromlogin="no";

  ChgPasswdReminder reminder0 = new ChgPasswdReminder();
  RemindSettings settings0=reminder0.getRemindSettings();
  String firmcode0=settings0.getFirmcode();
  String usercode0=settings0.getUsercode();

  int needusb0=user.getNeedusb();
  String usbtype0 = settings0.getUsbType();
  String serial0=user.getSerial();

//\u00e9\u0099\u0090\u00e5\u0088\u00b6\u00e6\u00af\u008f\u00e4\u00b8\u00aa\u00e7\u0094\u00a8\u00e6\u0088\u00b7\u00e5\u008f\u00aa\u00e8\u0083\u00bd\u00e6\u009c\u0089\u00e4\u00b8\u0080\u00e4\u00b8\u00aa\u00e7\u0099\u00bb\u00e5\u0085\u00a5\u00e7\u009a\u0084\u00e7\u00aa\u0097\u00e5\u008f\u00a3
String frommain = Util.null2String(request.getParameter("frommain")) ;

Map logmessages=(Map)application.getAttribute("logmessages");
String a_logmessage="";
if(logmessages!=null)
	a_logmessage=Util.null2String((String)logmessages.get(""+user.getUID()));

String s_logmessage=Util.null2String((String)session.getAttribute("logmessage"));


//TD2125 by mackjoe \u00e8\u00a7\u00a3\u00e5\u0086\u00b3\u00e6\u0095\u00b0\u00e6\u008d\u00ae\u00e4\u00b8\u00ad\u00e5\u00bf\u0083\u00e7\u0099\u00bb\u00e9\u0099\u0086\u00e4\u00b8\u008d\u00e4\u00ba\u0086\u00e9\u0097\u00ae\u00e9\u00a2\u0098
if(s_logmessage==null)  s_logmessage="";

String relogin0=Util.null2String(settings0.getRelogin());

String changepwd = (String)session.getAttribute("changepwd");

if(!relogin0.equals("1")&&"yes".equals(changepwd)){
logmessages=(Map)application.getAttribute("logmessages");
logmessages.put(""+user.getUID(),s_logmessage);
if(logmessages!=null)
	a_logmessage=Util.null2String((String)logmessages.get(""+user.getUID()));
}

String layoutStyle = (String)request.getSession(true).getAttribute("layoutStyle");
if(layoutStyle==null) layoutStyle ="";

String rtxFromLogintmp = (String)session.getAttribute("RtxFromLogin");


if("1".equals(user.getLogintype())&&!relogin0.equals("1")&&!fromlogin.equals("yes")&&!frommain.equals("yes")&&!s_logmessage.equals(a_logmessage) && !"true".equals(rtxFromLogintmp)){
	if(layoutStyle.equals("") || !layoutStyle.equals("1")){	//\u00e5\u00a6\u0082\u00e6\u009e\u009c\u00e6\u0098\u00af\u00e5\u00b0\u008f\u00e7\u00aa\u0097\u00e5\u008f\u00a3\u00e7\u0099\u00bb\u00e5\u00bd\u0095\u00ef\u00bc\u008c\u00e5\u0088\u0099\u00e4\u00b8\u008d\u00e5\u0088\u00a4\u00e6\u0096\u00ad\u00e6\u0098\u00af\u00e5\u0090\u00a6\u00e4\u00b8\u00ba\u00e5\u00bd\u0093\u00e5\u0089\u008d\u00e5\u00b7\u00a5\u00e4\u00bd\u009c\u00e7\u00aa\u0097\u00e5\u008f\u00a3


      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((SystemEnv.getHtmlLabelName(23274,user.getLanguage())));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      return;}}
      out.write(_jsp_string2, 0, _jsp_string2.length);
      
//\u00e6\u00b5\u0081\u00e7\u00a8\u008b\u00e7\u009a\u0084\u00e4\u00b8\u0089\u00e4\u00b8\u00aa\u00e9\u00a1\u00b5\u00e9\u009d\u00a2\u00e9\u009c\u0080\u00e8\u00a6\u0081\u00e4\u00bd\u00bf\u00e7\u0094\u00a8\u00e9\u00ab\u0098\u00e7\u0089\u0088\u00e6\u009c\u00ac\u00e7\u009a\u0084jQuery
if (request.getRequestURI().indexOf("/workflow/request/") != -1 &&
        (request.getRequestURI().indexOf("/workflow/request/ManageRequestNoForm") != -1 
                || request.getRequestURI().indexOf("/workflow/request/ViewRequestIframe.jsp") != -1
                || request.getRequestURI().indexOf("/workflow/request/RemarkFrame.jsp") != -1)) {

      out.write(_jsp_string8, 0, _jsp_string8.length);
      
} else {

      out.write(_jsp_string9, 0, _jsp_string9.length);
      
}

      out.write(_jsp_string10, 0, _jsp_string10.length);
      
//\u00e6\u00a8\u00a1\u00e6\u009d\u00bf\u00e6\u00a8\u00a1\u00e5\u00bc\u008f\u00e5\u00af\u00bc\u00e5\u0085\u00a5
if ((request.getRequestURI().indexOf("/workflow/") != -1 && request.getRequestURI().indexOf("mode") != -1)
        || request.getRequestURI().indexOf("/workflow/request/AddRequest") != -1) {
        
      out.write(_jsp_string11, 0, _jsp_string11.length);
      
}

      out.write(_jsp_string12, 0, _jsp_string12.length);
      out.print((user.getLanguage()));
      out.write(_jsp_string13, 0, _jsp_string13.length);
      out.print((request.getSession().getId()));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((SystemEnv.getHtmlLabelName(21403,user.getLanguage())));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((SystemEnv.getHtmlLabelName(21791,user.getLanguage())));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((SystemEnv.getHtmlLabelNames("17480",user.getLanguage())));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      out.print((SystemEnv.getHtmlLabelNames("25484,83",user.getLanguage())));
      out.write(_jsp_string18, 0, _jsp_string18.length);
      out.print((user.getUID()));
      out.write(_jsp_string19, 0, _jsp_string19.length);
      out.print((user.getUID()));
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((user.getType()));
      out.write(_jsp_string21, 0, _jsp_string21.length);
      out.print((SystemEnv.getHtmlLabelName(26263,user.getLanguage())));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((URLEncoder.encode(user.getLoginid())));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((SystemEnv.getHtmlLabelName(21403,user.getLanguage())));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((SystemEnv.getHtmlLabelName(23670,user.getLanguage())));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      out.print((SystemEnv.getHtmlLabelName(21791,user.getLanguage())));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      if(new weaver.conn.RecordSet().getDBType().equals("oracle")){
      out.write(_jsp_string27, 0, _jsp_string27.length);
      out.print((SystemEnv.getHtmlLabelName(524,user.getLanguage())));
      out.print((SystemEnv.getHtmlLabelName(698,user.getLanguage())));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      out.print((SystemEnv.getHtmlLabelName(20246,user.getLanguage())));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      out.print((SystemEnv.getHtmlLabelName(124962,user.getLanguage())));
      out.write(_jsp_string29, 0, _jsp_string29.length);
      }
      out.write(_jsp_string30, 0, _jsp_string30.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string34, 0, _jsp_string34.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string39, 0, _jsp_string39.length);
      out.print((SystemEnv.getHtmlLabelName(15097,user.getLanguage())));
      out.write(_jsp_string40, 0, _jsp_string40.length);
      out.print((SystemEnv.getHtmlLabelName(22161,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      out.print((companyNametools));
      out.write(_jsp_string42, 0, _jsp_string42.length);
      out.print((SystemEnv.getHtmlLabelName(23714,user.getLanguage())));
      out.write(_jsp_string43, 0, _jsp_string43.length);
      
  if(!fromlogin.equals("yes")&&needusb0==1&&"1".equals(usbtype0)){

      out.write(_jsp_string44, 0, _jsp_string44.length);
      out.print((firmcode0));
      out.write(_jsp_string45, 0, _jsp_string45.length);
      out.print((usercode0));
      out.write(_jsp_string46, 0, _jsp_string46.length);
      out.print((serial0));
      out.write(_jsp_string47, 0, _jsp_string47.length);
      out.print((user.getLanguage()));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      }
      out.write(_jsp_string49, 0, _jsp_string49.length);
      weaver.workflow.workflow.TestWorkflowCheck TestWorkflowCheckInitWui;
      TestWorkflowCheckInitWui = (weaver.workflow.workflow.TestWorkflowCheck) pageContext.getAttribute("TestWorkflowCheckInitWui");
      if (TestWorkflowCheckInitWui == null) {
        TestWorkflowCheckInitWui = new weaver.workflow.workflow.TestWorkflowCheck();
        pageContext.setAttribute("TestWorkflowCheckInitWui", TestWorkflowCheckInitWui);
      }
      out.write(_jsp_string50, 0, _jsp_string50.length);
      out.println(TestWorkflowCheckInitWui.ReloadByDialogClose(request));
      out.write(_jsp_string51, 0, _jsp_string51.length);
      
    if(TestWorkflowCheckInitWui.checkURI(session,request.getRequestURI(),request.getQueryString())){
        response.sendRedirect("/login/Login.jsp");
        return;
    }

      out.write(_jsp_string52, 0, _jsp_string52.length);
      

String curTheme = "ecology7";
//\u00e5\u00bd\u0093\u00e5\u0089\u008d\u00e7\u009a\u00ae\u00e8\u0082\u00a4
String curskin = "";
String cutoverWay = "";
String transitionTime = "";
String transitionWay = "";

HrmUserSettingComInfo instance = new HrmUserSettingComInfo();

String huscifId = String.valueOf(instance.getId(String.valueOf(user.getUID())));

curTheme = getCurrWuiConfig(session, user, "theme");
curskin = getCurrWuiConfig(session, user, "skin");

cutoverWay = instance.getCutoverWay(huscifId);
transitionTime = instance.getTransitionTime(huscifId);
transitionWay = instance.getTransitionWays(huscifId);

      out.write(_jsp_string53, 0, _jsp_string53.length);
      
String ely6flg = "";
if ("ecology6".equals(curTheme.toLowerCase())) {
	curTheme = "ecology7";
	ely6flg = "ecology6";
}

      out.write(_jsp_string54, 0, _jsp_string54.length);
      out.print((curTheme ));
      out.write(_jsp_string55, 0, _jsp_string55.length);
      out.print((curskin ));
      out.write(_jsp_string56, 0, _jsp_string56.length);
      
curTheme = "ecology8";//\u00e5\u0090\u008e\u00e5\u008f\u00b0\u00e9\u0085\u008d\u00e7\u00bd\u00ae\u00e9\u00a1\u00b5\u00e9\u009d\u00a2\u00e5\u009d\u0087\u00e4\u00b8\u00baE8\u00e4\u00b8\u00bb\u00e9\u00a2\u0098\u00ef\u00bc\u008c\u00e5\u00a6\u0082\u00e4\u00bd\u00bf\u00e7\u0094\u00a8\u00e5\u0085\u00b6\u00e4\u00bb\u0096\u00e4\u00b8\u00bb\u00e9\u00a2\u0098\u00e6\u0097\u00b6\u00ef\u00bc\u008c\u00e4\u00bc\u009a\u00e5\u00af\u00bc\u00e8\u0087\u00b4\u00e6\u00a0\u00b7\u00e5\u00bc\u008f\u00e6\u00b7\u00b7\u00e4\u00b9\u00b1\u00e3\u0080\u0082\u00e6\u0089\u0080\u00e4\u00bb\u00a5\u00e6\u00ad\u00a4\u00e5\u00a4\u0084\u00e4\u00b8\u00bb\u00e9\u00a2\u0098\u00e5\u00bc\u00ba\u00e5\u0088\u00b6\u00e8\u00b5\u008b\u00e5\u0080\u00bcecology8
if("ecology8".equals(curTheme)) curskin="default";
session.setAttribute("SESSION_TEMP_CURRENT_THEME", curTheme);
session.setAttribute("SESSION_TEMP_CURRENT_SKIN", curskin);

      out.write(_jsp_string57, 0, _jsp_string57.length);
      
    if (transitionTime != null && !transitionTime.equals("") && !transitionTime.equals("0")) {

      out.write(_jsp_string58, 0, _jsp_string58.length);
      out.print((cutoverWay ));
      out.write(_jsp_string59, 0, _jsp_string59.length);
      out.print((transitionTime ));
      out.write(_jsp_string60, 0, _jsp_string60.length);
      out.print((transitionWay ));
      out.write(_jsp_string61, 0, _jsp_string61.length);
      
    }

      out.write(_jsp_string62, 0, _jsp_string62.length);
      out.print((curTheme ));
      out.write(_jsp_string63, 0, _jsp_string63.length);
      out.print((curskin ));
      out.write(_jsp_string64, 0, _jsp_string64.length);
      if(!"1".equals(session.getAttribute("istest"))){//\u00e6\u00b5\u0081\u00e7\u00a8\u008b\u00e6\u00b5\u008b\u00e8\u00af\u0095
      out.write(_jsp_string53, 0, _jsp_string53.length);
      pageContext.include("/synergy/showSynergy.jsp", "requestid=" + com.caucho.el.Expr.toString(Util.getIntValue(request.getParameter("requestid"),-1), null), false);
      out.write(_jsp_string53, 0, _jsp_string53.length);
      }
      out.write(_jsp_string65, 0, _jsp_string65.length);
      weaver.conn.RecordSet RecordSet;
      RecordSet = (weaver.conn.RecordSet) pageContext.getAttribute("RecordSet");
      if (RecordSet == null) {
        RecordSet = new weaver.conn.RecordSet();
        pageContext.setAttribute("RecordSet", RecordSet);
      }
      out.write(_jsp_string53, 0, _jsp_string53.length);
      weaver.formmode.setup.ModeLayoutUtil ModeLayoutUtil;
      ModeLayoutUtil = (weaver.formmode.setup.ModeLayoutUtil) pageContext.getAttribute("ModeLayoutUtil");
      if (ModeLayoutUtil == null) {
        ModeLayoutUtil = new weaver.formmode.setup.ModeLayoutUtil();
        pageContext.setAttribute("ModeLayoutUtil", ModeLayoutUtil);
      }
      out.write(_jsp_string53, 0, _jsp_string53.length);
      weaver.formmode.setup.ModeSetUtil ModeSetUtil;
      ModeSetUtil = (weaver.formmode.setup.ModeSetUtil) pageContext.getAttribute("ModeSetUtil");
      if (ModeSetUtil == null) {
        ModeSetUtil = new weaver.formmode.setup.ModeSetUtil();
        pageContext.setAttribute("ModeSetUtil", ModeSetUtil);
      }
      out.write(_jsp_string53, 0, _jsp_string53.length);
      
    String path = request.getContextPath();
    String basePath = request.getScheme() + "://" + request.getServerName() + ":" + request.getServerPort() + path + "/";
	if (!HrmUserVarify.checkUserRight("ModeSetting:All", user)) {
		response.sendRedirect("/notice/noright.jsp");
		return;
	}
	int modeId = Util.getIntValue(request.getParameter("modeid"),0);
	int expandId = Util.getIntValue(request.getParameter("expandid"),0);
	int rightid = Util.getIntValue(request.getParameter("rightid"),0);
	String isbill = Util.null2String(request.getParameter("isbill"));
	String linkid = Util.null2String(request.getParameter("linkid"));
	int ruleid = Util.getIntValue(request.getParameter("ruleid"), 0);  
    String isnew = Util.null2String(request.getParameter("isnew"));
	int rownum = Util.getIntValue(request.getParameter("rownum"),0);
	int formId= 0;
	if(modeId > 0){
		RecordSet.executeSql("select formId from modeinfo where id="+modeId);
		if(RecordSet.next()){
			formId = Util.getIntValue(RecordSet.getString("formId"),0);
		}
	}
	ModeLayoutUtil.setUser(user);
	ModeLayoutUtil.setFormId(formId);
	String mainTablename = "";
	RecordSet.executeSql("select tablename from workflow_bill where id="+formId);
	if(RecordSet.next()){
		mainTablename = RecordSet.getString("tablename");
	}
	if(VirtualFormHandler.isVirtualForm(formId)){
		mainTablename = VirtualFormHandler.getRealFromName(mainTablename); 
	}
	
	Map fieldsmap = ModeLayoutUtil.getFormfields(user.getLanguage(),1);
	List mainfields = (List)fieldsmap.get("mainfields");				//\u4e3b\u8868\u5b57\u6bb5
	List detlfields = (List)fieldsmap.get("detlfields");				//\u5b50\u8868\u5b57\u6bb5
	List detailGroup = (List)fieldsmap.get("detailGroup");				//\u5b50\u8868\u7ec4\u4fe1\u606f
	Map detailMap = new HashMap();
	for(int i=0;i<detailGroup.size();i++){
		Map tempMap = (Map)detailGroup.get(i);
		String detailtable = tempMap.get("detailtable")+"";
		detailMap.put(detailtable,tempMap);
	}
	Map indexMap = ModeLayoutUtil.getIndexMap();

    if(isnew.equals("1")) ruleid = 0;
    
	IntegratedSapUtil integratedSapUtil = new IntegratedSapUtil();
	BrowserComInfo browserComInfo = new BrowserComInfo();
	String IsOpetype = integratedSapUtil.getIsOpenEcology70Sap();
	
	//***********************
	
	String[] ruleInfoArray = ExpandBaseRightRuleBusiness.getRuleHtmlByRuleId(rightid,user);

	
	String sql = "select * from expandBaseRightInfo where id="+rightid;
	RecordSet.executeSql(sql);
	int conditiontype = 2;
	String conditionsql = "";//sql\u6761\u4ef6
	String conditiontext = "";//\u663e\u793a\u6761\u4ef6
	if(RecordSet.next()){
		conditionsql = Util.null2String(RecordSet.getString("conditionsql"));
		conditiontext = Util.null2String(RecordSet.getString("conditiontext"));
	}
	if(StringHelper.isEmpty(conditionsql)) {
		// \u53ea\u8981sql\u6761\u4ef6\u4e3a\u7a7a\u5c31\u5c55\u793a\u663e\u793a\u6761\u4ef6
		conditiontype = 1;
	}
	if(!StringHelper.isEmpty(conditiontext)) {
		// \u663e\u793a\u6761\u4ef6\u4e0d\u4e3a\u7a7a\u65f6\u5c55\u793a\u663e\u793a\u6761\u4ef6
		conditiontype = 1;
	}
	sql = "select count(1) as count from expandBaseRightExpressions where rightid='"+rightid+"'";
	RecordSet.executeSql(sql);
	int count = 0;
	if(RecordSet.next()){
		count = RecordSet.getInt("count");
	}
	if(count==0){
		count = 1;
	}

      out.write(_jsp_string66, 0, _jsp_string66.length);
      out.print((basePath));
      out.write(_jsp_string67, 0, _jsp_string67.length);
      out.print((SystemEnv.getHtmlLabelName(82098, user.getLanguage()) ));
      out.write(_jsp_string68, 0, _jsp_string68.length);
      out.print((SystemEnv.getHtmlLabelName(18760,user.getLanguage())));
      out.write(_jsp_string69, 0, _jsp_string69.length);
      out.print((SystemEnv.getHtmlLabelName(1426,user.getLanguage())));
      out.write(_jsp_string70, 0, _jsp_string70.length);
      out.print((SystemEnv.getHtmlLabelName(22906,user.getLanguage())));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      out.print((SystemEnv.getHtmlLabelName(683,user.getLanguage())));
      out.write(_jsp_string72, 0, _jsp_string72.length);
      out.print((SystemEnv.getHtmlLabelName(16344, user.getLanguage())));
      out.write(_jsp_string73, 0, _jsp_string73.length);
      out.print((rightid));
      out.write(_jsp_string74, 0, _jsp_string74.length);
      out.print((modeId));
      out.write(_jsp_string75, 0, _jsp_string75.length);
      out.print((SystemEnv.getHtmlLabelName(84545, user.getLanguage()) ));
      out.write(_jsp_string76, 0, _jsp_string76.length);
      out.print((SystemEnv.getHtmlLabelName(84546, user.getLanguage()) ));
      out.write(_jsp_string77, 0, _jsp_string77.length);
      out.print((SystemEnv.getHtmlLabelName(83945, user.getLanguage()) ));
      out.write(_jsp_string78, 0, _jsp_string78.length);
      out.print((modeId ));
      out.write(_jsp_string79, 0, _jsp_string79.length);
      out.print((expandId ));
      out.write(_jsp_string80, 0, _jsp_string80.length);
      out.print((rightid ));
      out.write(_jsp_string81, 0, _jsp_string81.length);
      out.print((count ));
      out.write(_jsp_string82, 0, _jsp_string82.length);
      out.print((count ));
      out.write(_jsp_string83, 0, _jsp_string83.length);
      out.print((SystemEnv.getHtmlLabelName(23243, user.getLanguage()) ));
      out.write(_jsp_string84, 0, _jsp_string84.length);
      out.print((SystemEnv.getHtmlLabelName(15620,user.getLanguage())));
      out.write(_jsp_string85, 0, _jsp_string85.length);
      if(conditiontype==1){
      out.write(_jsp_string86, 0, _jsp_string86.length);
      } 
      out.write(_jsp_string87, 0, _jsp_string87.length);
      out.print((SystemEnv.getHtmlLabelName(2086, user.getLanguage()) ));
      out.print((SystemEnv.getHtmlLabelName(33234, user.getLanguage()) ));
      out.write(_jsp_string88, 0, _jsp_string88.length);
      if(conditiontype==2){
      out.write(_jsp_string86, 0, _jsp_string86.length);
      } 
      out.write(_jsp_string89, 0, _jsp_string89.length);
      out.print((SystemEnv.getHtmlLabelName(15620,user.getLanguage())));
      out.write(_jsp_string90, 0, _jsp_string90.length);
      out.print((SystemEnv.getHtmlLabelName(15620,user.getLanguage())));
      out.write(_jsp_string91, 0, _jsp_string91.length);
      
								String splitStr = "_&_";
								for(int i = 0; i < mainfields.size(); i++){
									 Map maps = (Map)mainfields.get(i);
									 String fieldid = (String)maps.get("fieldid");
									 String fieldlabel = (String)maps.get("fieldlabel");
									 String viewtype = (String)maps.get("viewtype");
									 String fieldname = (String)maps.get("fieldname");
									 String fieldhtmltype = (String)maps.get("fieldhtmltype");
									 String type = (String)maps.get("type");
									 String fielddbtype=(String)maps.get("fielddbtype");
									 if(fieldhtmltype.equals("6")||fieldhtmltype.equals("7")){//\u9644\u4ef6\u6216\u7279\u6b8a\u5b57\u6bb5
										 continue;
									 }
									 if(fieldhtmltype.equals("2")&&type.equals("2")){//\u683c\u5f0f\u6587\u672c
										 continue;
									 }
									 
									 String relationtype = "1";//\u5173\u7cfb\u7c7b\u578b---\u5355\u884c\u6587\u672c\u6587\u672c  +  \u5355\u884c\u6587\u672c\u91d1\u989d\u5343\u5206\u4f4d  +  \u591a\u884c\u6587\u672c
									 if(fieldhtmltype.equals("1")&&(type.equals("2")||type.equals("3"))){//\u6574\u6570  +  \u6d6e\u70b9\u6570
										 relationtype =  "2";
									 }
									 
									 
									 if((fieldhtmltype.equals("1")&&type.equals("4"))||fieldhtmltype.equals("5")){// \u5355\u884c\u6587\u672c\u91d1\u989d\u8f6c\u6362   +  \u9009\u62e9\u9879
										 relationtype = "3";
									 }
									 
									 if(fieldhtmltype.equals("3")){//\u6d4f\u89c8\u6846
										 if(type.equals("2")||type.equals("19")){//\u65e5\u671f  + \u65f6\u95f4
											 relationtype = "2";
										 }else{
											 relationtype = "4";
										 }
									 }
									 
									 if(fieldhtmltype.equals("4")){//checkbox
										 relationtype = "4";
									 }
									 
									 String valueshowtype = "1";//\u5355\u884c\u6587\u672c\u8f93\u5165\u6846
									 
									 if(fieldhtmltype.equals("3")){
										 if(type.equals("2")){//\u65e5\u671f 
											 valueshowtype = "2";
										 }else if(type.equals("19")){//\u65f6\u95f4
											 valueshowtype = "3";
										 }else{
											 valueshowtype = "4";//\u6d4f\u89c8\u6846--\u9700\u52a8\u6001\u52a0\u8f7d
										 }
									 }
									 
									 if(fieldhtmltype.equals("5")){//select\u6846--\u9700\u52a8\u6001\u52a0\u8f7d
										 valueshowtype = "5";
									 }
									 
									 if(fieldhtmltype.equals("4")){//checkbox
										 valueshowtype = "6";//select\u56fa\u5b9a\u503c  0  1  null
									 }
									 
											 
									 String optionValue = mainTablename+"."+fieldname+splitStr+fieldid+splitStr+fieldhtmltype+splitStr+type+splitStr+fielddbtype+splitStr+relationtype+splitStr+valueshowtype;
								 
      out.write(_jsp_string92, 0, _jsp_string92.length);
      out.print((optionValue));
      out.write(_jsp_string93, 0, _jsp_string93.length);
      out.print((fieldlabel));
      out.write(_jsp_string94, 0, _jsp_string94.length);
      
								 }
								 
      out.write(_jsp_string95, 0, _jsp_string95.length);
      
								for(int i = 0; i < detlfields.size(); i++){
									 Map maps = (Map)detlfields.get(i);
									 String fieldid = (String)maps.get("fieldid");
									 String fieldlabel = (String)maps.get("fieldlabel");
									 String viewtype = (String)maps.get("viewtype");
									 String fieldname = (String)maps.get("fieldname");
									 String fieldhtmltype = (String)maps.get("fieldhtmltype");
									 String type = (String)maps.get("type");
									 String detailtable = (String)maps.get("detailtable");
									 String fielddbtype=(String)maps.get("fielddbtype");
									 
									 Map detailTempMap = new HashMap();
									 String tablenameStr = "";
									 if(detailMap.containsKey(detailtable)){
										 detailTempMap = (Map)detailMap.get(detailtable);
										 tablenameStr = "("+detailTempMap.get("titles")+")";
									 }
									 if(fieldhtmltype.equals("6")||fieldhtmltype.equals("7")){//\u9644\u4ef6\u6216\u7279\u6b8a\u5b57\u6bb5
										 continue;
									 }
									 if(fieldhtmltype.equals("2")&&type.equals("2")){//\u683c\u5f0f\u6587\u672c
										 continue;
									 }
									 
									 String relationtype = "1";//\u5173\u7cfb\u7c7b\u578b---\u5355\u884c\u6587\u672c\u6587\u672c  +  \u5355\u884c\u6587\u672c\u91d1\u989d\u5343\u5206\u4f4d  +  \u591a\u884c\u6587\u672c
									 if(fieldhtmltype.equals("1")&&(type.equals("2")||type.equals("3"))){//\u6574\u6570  +  \u6d6e\u70b9\u6570
										 relationtype =  "2";
									 }
									 
									 
									 if((fieldhtmltype.equals("1")&&type.equals("4"))||fieldhtmltype.equals("5")){// \u5355\u884c\u6587\u672c\u91d1\u989d\u8f6c\u6362   +  \u9009\u62e9\u9879
										 relationtype = "3";
									 }
									 
									 if(fieldhtmltype.equals("3")){//\u6d4f\u89c8\u6846
										 if(type.equals("2")||type.equals("19")){//\u65e5\u671f  + \u65f6\u95f4
											 relationtype = "2";
										 }else{
											 relationtype = "4";
										 }
									 }
									 
									 if(fieldhtmltype.equals("4")){//checkbox
										 relationtype = "4";
									 }
									 
									 String valueshowtype = "1";//\u5355\u884c\u6587\u672c\u8f93\u5165\u6846
									 
									 if(fieldhtmltype.equals("3")){
										 if(type.equals("2")){//\u65e5\u671f 
											 valueshowtype = "2";
										 }else if(type.equals("19")){//\u65f6\u95f4
											 valueshowtype = "3";
										 }else{
											 valueshowtype = "4";//\u6d4f\u89c8\u6846--\u9700\u52a8\u6001\u52a0\u8f7d
										 }
									 }
									 
									 if(fieldhtmltype.equals("5")){//select\u6846--\u9700\u52a8\u6001\u52a0\u8f7d
										 valueshowtype = "5";
									 }
									 
									 if(fieldhtmltype.equals("4")){//checkbox
										 valueshowtype = "6";//select\u56fa\u5b9a\u503c  0  1  null
									 }
									 
											 
									 String optionValue = detailtable+"."+fieldname+splitStr+fieldid+splitStr+fieldhtmltype+splitStr+type+splitStr+fielddbtype+splitStr+relationtype+splitStr+valueshowtype;
								 
      out.write(_jsp_string92, 0, _jsp_string92.length);
      out.print((optionValue));
      out.write(_jsp_string93, 0, _jsp_string93.length);
      out.print((fieldlabel+tablenameStr));
      out.write(_jsp_string94, 0, _jsp_string94.length);
      
								 }
								 
      out.write(_jsp_string96, 0, _jsp_string96.length);
      out.print((SystemEnv.getHtmlLabelName(327,user.getLanguage()) ));
      out.write(_jsp_string97, 0, _jsp_string97.length);
      out.print((SystemEnv.getHtmlLabelName(15506,user.getLanguage()) ));
      out.write(_jsp_string98, 0, _jsp_string98.length);
      out.print((SystemEnv.getHtmlLabelName(346,user.getLanguage()) ));
      out.write(_jsp_string99, 0, _jsp_string99.length);
      out.print((SystemEnv.getHtmlLabelName(15507,user.getLanguage()) ));
      out.write(_jsp_string100, 0, _jsp_string100.length);
      out.print((SystemEnv.getHtmlLabelName(15508,user.getLanguage()) ));
      out.write(_jsp_string101, 0, _jsp_string101.length);
      out.print((SystemEnv.getHtmlLabelName(325,user.getLanguage()) ));
      out.write(_jsp_string102, 0, _jsp_string102.length);
      out.print((SystemEnv.getHtmlLabelName(15509,user.getLanguage()) ));
      out.write(_jsp_string103, 0, _jsp_string103.length);
      out.print((SystemEnv.getHtmlLabelName(326,user.getLanguage()) ));
      out.write(_jsp_string104, 0, _jsp_string104.length);
      out.print((SystemEnv.getHtmlLabelName(327,user.getLanguage()) ));
      out.write(_jsp_string97, 0, _jsp_string97.length);
      out.print((SystemEnv.getHtmlLabelName(15506,user.getLanguage()) ));
      out.write(_jsp_string105, 0, _jsp_string105.length);
      out.print((SystemEnv.getHtmlLabelName(327,user.getLanguage()) ));
      out.write(_jsp_string97, 0, _jsp_string97.length);
      out.print((SystemEnv.getHtmlLabelName(15506,user.getLanguage()) ));
      out.write(_jsp_string106, 0, _jsp_string106.length);
      out.print((SystemEnv.getHtmlLabelName(327,user.getLanguage()) ));
      out.write(_jsp_string107, 0, _jsp_string107.length);
      out.print((SystemEnv.getHtmlLabelName(826,user.getLanguage()) ));
      out.write(_jsp_string108, 0, _jsp_string108.length);
      out.print((SystemEnv.getHtmlLabelName(201,user.getLanguage()) ));
      out.write(_jsp_string109, 0, _jsp_string109.length);
      out.print((SystemEnv.getHtmlLabelName(611,user.getLanguage()) ));
      out.write(_jsp_string110, 0, _jsp_string110.length);
      out.print((SystemEnv.getHtmlLabelName(23777,user.getLanguage()) ));
      out.write(_jsp_string111, 0, _jsp_string111.length);
      out.print((SystemEnv.getHtmlLabelName(24542,user.getLanguage()) ));
      out.write(_jsp_string112, 0, _jsp_string112.length);
      out.print((SystemEnv.getHtmlLabelName(24541,user.getLanguage()) ));
      out.write(_jsp_string113, 0, _jsp_string113.length);
      out.print((SystemEnv.getHtmlLabelName(33576,user.getLanguage()) ));
      out.write(_jsp_string114, 0, _jsp_string114.length);
      
				String ruleContentCss = "";
				String sqlContentCss = "";
				if(conditiontype==1){
					sqlContentCss = "display:none";
				}else{
					ruleContentCss = "display:none";
				}
			
      out.write(_jsp_string115, 0, _jsp_string115.length);
      out.print((ruleContentCss ));
      out.write(_jsp_string116, 0, _jsp_string116.length);
      
                    if (ruleInfoArray.length >0 && ruleInfoArray[0].length() > 0) {
                    
      out.write(_jsp_string117, 0, _jsp_string117.length);
      out.print((ruleInfoArray[0]));
      out.write(_jsp_string117, 0, _jsp_string117.length);
      out.print((ruleInfoArray[1]));
      out.write(_jsp_string118, 0, _jsp_string118.length);
      
                    } else {
                    
      out.write(_jsp_string119, 0, _jsp_string119.length);
      out.print((SystemEnv.getHtmlLabelName(83945, user.getLanguage()) ));
      out.write(_jsp_string120, 0, _jsp_string120.length);
      
					} 
      out.write(_jsp_string121, 0, _jsp_string121.length);
      out.print((sqlContentCss ));
      out.write(_jsp_string122, 0, _jsp_string122.length);
      if(conditiontype==2){out.print(conditionsql);} 
      out.write(_jsp_string123, 0, _jsp_string123.length);
      out.print((SystemEnv.getHtmlLabelName(129805,user.getLanguage())));
      out.write(_jsp_string124, 0, _jsp_string124.length);
      out.print((SystemEnv.getHtmlLabelName(82351,user.getLanguage())));
      out.write(_jsp_string124, 0, _jsp_string124.length);
      out.print((SystemEnv.getHtmlLabelName(82352,user.getLanguage())));
      out.write(_jsp_string124, 0, _jsp_string124.length);
      out.print((SystemEnv.getHtmlLabelName(82462,user.getLanguage())));
      out.write(_jsp_string124, 0, _jsp_string124.length);
      out.print((SystemEnv.getHtmlLabelName(82463,user.getLanguage())));
      out.write(_jsp_string124, 0, _jsp_string124.length);
      out.print((SystemEnv.getHtmlLabelName(82464,user.getLanguage())));
      out.write(_jsp_string124, 0, _jsp_string124.length);
      out.print((SystemEnv.getHtmlLabelName(82465,user.getLanguage())));
      out.write(_jsp_string125, 0, _jsp_string125.length);
      out.print((SystemEnv.getHtmlLabelName(128096, user.getLanguage()) ));
      out.write(_jsp_string126, 0, _jsp_string126.length);
      out.print((SystemEnv.getHtmlLabelName(21778, user.getLanguage()) ));
      out.print((SystemEnv.getHtmlLabelName(127392, user.getLanguage()) ));
      out.write(_jsp_string127, 0, _jsp_string127.length);
      out.print((mainTablename ));
      out.write(_jsp_string128, 0, _jsp_string128.length);
      
            					List templist = new ArrayList();
								for(int i = 0; i < detlfields.size(); i++){
									 Map maps = (Map)detlfields.get(i);
									 String detailtable = (String)maps.get("detailtable");
									 if(templist.contains(detailtable)){
										 continue;
									 }
									 templist.add(detailtable);
									 Map detailTempMap = new HashMap();
									 String tablenameStr = "";
									 if(detailMap.containsKey(detailtable)){
										 detailTempMap = (Map)detailMap.get(detailtable);
										 tablenameStr = detailTempMap.get("titles")+"";
										 
      out.write(_jsp_string129, 0, _jsp_string129.length);
      out.print((tablenameStr+":&nbsp;&nbsp;"+detailtable ));
      out.write(_jsp_string130, 0, _jsp_string130.length);
      
									 }
								}
							
      out.write(_jsp_string131, 0, _jsp_string131.length);
      out.print((SystemEnv.getHtmlLabelName(309,user.getLanguage()) ));
      out.write(_jsp_string132, 0, _jsp_string132.length);
      
    String browserSql = "select * from workflow_browserurl order by id desc";
    String idStr = "";
    String urlStr = "";
    RecordSet.executeSql(browserSql);
    while(RecordSet.next()){

      out.write(_jsp_string133, 0, _jsp_string133.length);
      out.print((Util.getIntValue(RecordSet.getString("id"),0)));
      out.write(_jsp_string134, 0, _jsp_string134.length);
      out.print((RecordSet.getString("browserurl")));
      out.write(_jsp_string135, 0, _jsp_string135.length);
      
    }

      out.write(_jsp_string136, 0, _jsp_string136.length);
      out.print((SystemEnv.getHtmlLabelName(18214,user.getLanguage())));
      out.write(_jsp_string137, 0, _jsp_string137.length);
      out.print((SystemEnv.getHtmlLabelName(18214,user.getLanguage())));
      out.write(_jsp_string138, 0, _jsp_string138.length);
      out.print((SystemEnv.getHtmlLabelName(18214, user.getLanguage()) ));
      out.write(_jsp_string139, 0, _jsp_string139.length);
      out.print((SystemEnv.getHtmlLabelName(15620, user.getLanguage()) ));
      out.write(_jsp_string140, 0, _jsp_string140.length);
      out.print((SystemEnv.getHtmlLabelName(15642, user.getLanguage()) ));
      out.write(_jsp_string141, 0, _jsp_string141.length);
      out.print((splitStr));
      out.write(_jsp_string142, 0, _jsp_string142.length);
      out.print((SystemEnv.getHtmlLabelName(18214, user.getLanguage()) ));
      out.write(_jsp_string139, 0, _jsp_string139.length);
      out.print((SystemEnv.getHtmlLabelName(15620, user.getLanguage()) ));
      out.write(_jsp_string140, 0, _jsp_string140.length);
      out.print((SystemEnv.getHtmlLabelName(15642, user.getLanguage()) ));
      out.write(_jsp_string143, 0, _jsp_string143.length);
      out.print((rightid));
      out.write(_jsp_string144, 0, _jsp_string144.length);
      out.print((SystemEnv.getHtmlLabelName(84304, user.getLanguage()) ));
      out.write(_jsp_string145, 0, _jsp_string145.length);
      out.print((SystemEnv.getHtmlLabelName(84304, user.getLanguage()) ));
      out.write(_jsp_string146, 0, _jsp_string146.length);
      out.print((SystemEnv.getHtmlLabelName(30702,user.getLanguage())));
      out.write(_jsp_string147, 0, _jsp_string147.length);
      out.print((SystemEnv.getHtmlLabelName(30702,user.getLanguage())));
      out.write(_jsp_string148, 0, _jsp_string148.length);
      out.print((SystemEnv.getHtmlLabelName(84304, user.getLanguage()) ));
      out.write(_jsp_string149, 0, _jsp_string149.length);
      out.print((SystemEnv.getHtmlLabelName(82692,user.getLanguage())));
      out.write(_jsp_string150, 0, _jsp_string150.length);
      out.print((rightid));
      out.write(_jsp_string151, 0, _jsp_string151.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    manager.addTaglibFunctions(_jsp_functionMap, "brow", "/browserTag");
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("formmode/interfaces/ExpandRightConditiponDesign.jsp"), -8444612663386498673L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("systeminfo/init_wev8.jsp"), 2425449460466103212L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("wui/common/page/initWui.jsp"), 3390533274175540290L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string95;
  private final static char []_jsp_string69;
  private final static char []_jsp_string20;
  private final static char []_jsp_string78;
  private final static char []_jsp_string151;
  private final static char []_jsp_string21;
  private final static char []_jsp_string8;
  private final static char []_jsp_string100;
  private final static char []_jsp_string32;
  private final static char []_jsp_string87;
  private final static char []_jsp_string124;
  private final static char []_jsp_string48;
  private final static char []_jsp_string38;
  private final static char []_jsp_string31;
  private final static char []_jsp_string54;
  private final static char []_jsp_string36;
  private final static char []_jsp_string63;
  private final static char []_jsp_string67;
  private final static char []_jsp_string19;
  private final static char []_jsp_string131;
  private final static char []_jsp_string16;
  private final static char []_jsp_string18;
  private final static char []_jsp_string150;
  private final static char []_jsp_string56;
  private final static char []_jsp_string139;
  private final static char []_jsp_string114;
  private final static char []_jsp_string103;
  private final static char []_jsp_string141;
  private final static char []_jsp_string62;
  private final static char []_jsp_string117;
  private final static char []_jsp_string17;
  private final static char []_jsp_string88;
  private final static char []_jsp_string61;
  private final static char []_jsp_string121;
  private final static char []_jsp_string70;
  private final static char []_jsp_string43;
  private final static char []_jsp_string44;
  private final static char []_jsp_string6;
  private final static char []_jsp_string46;
  private final static char []_jsp_string57;
  private final static char []_jsp_string138;
  private final static char []_jsp_string134;
  private final static char []_jsp_string98;
  private final static char []_jsp_string109;
  private final static char []_jsp_string5;
  private final static char []_jsp_string92;
  private final static char []_jsp_string130;
  private final static char []_jsp_string132;
  private final static char []_jsp_string51;
  private final static char []_jsp_string127;
  private final static char []_jsp_string96;
  private final static char []_jsp_string14;
  private final static char []_jsp_string97;
  private final static char []_jsp_string149;
  private final static char []_jsp_string110;
  private final static char []_jsp_string27;
  private final static char []_jsp_string129;
  private final static char []_jsp_string91;
  private final static char []_jsp_string64;
  private final static char []_jsp_string113;
  private final static char []_jsp_string34;
  private final static char []_jsp_string146;
  private final static char []_jsp_string83;
  private final static char []_jsp_string41;
  private final static char []_jsp_string80;
  private final static char []_jsp_string72;
  private final static char []_jsp_string145;
  private final static char []_jsp_string137;
  private final static char []_jsp_string102;
  private final static char []_jsp_string81;
  private final static char []_jsp_string76;
  private final static char []_jsp_string125;
  private final static char []_jsp_string25;
  private final static char []_jsp_string9;
  private final static char []_jsp_string65;
  private final static char []_jsp_string42;
  private final static char []_jsp_string82;
  private final static char []_jsp_string7;
  private final static char []_jsp_string33;
  private final static char []_jsp_string45;
  private final static char []_jsp_string30;
  private final static char []_jsp_string74;
  private final static char []_jsp_string118;
  private final static char []_jsp_string3;
  private final static char []_jsp_string0;
  private final static char []_jsp_string107;
  private final static char []_jsp_string90;
  private final static char []_jsp_string147;
  private final static char []_jsp_string144;
  private final static char []_jsp_string13;
  private final static char []_jsp_string101;
  private final static char []_jsp_string112;
  private final static char []_jsp_string73;
  private final static char []_jsp_string111;
  private final static char []_jsp_string52;
  private final static char []_jsp_string24;
  private final static char []_jsp_string47;
  private final static char []_jsp_string55;
  private final static char []_jsp_string75;
  private final static char []_jsp_string26;
  private final static char []_jsp_string94;
  private final static char []_jsp_string37;
  private final static char []_jsp_string15;
  private final static char []_jsp_string66;
  private final static char []_jsp_string105;
  private final static char []_jsp_string143;
  private final static char []_jsp_string140;
  private final static char []_jsp_string115;
  private final static char []_jsp_string106;
  private final static char []_jsp_string133;
  private final static char []_jsp_string35;
  private final static char []_jsp_string4;
  private final static char []_jsp_string1;
  private final static char []_jsp_string71;
  private final static char []_jsp_string50;
  private final static char []_jsp_string86;
  private final static char []_jsp_string77;
  private final static char []_jsp_string123;
  private final static char []_jsp_string23;
  private final static char []_jsp_string120;
  private final static char []_jsp_string116;
  private final static char []_jsp_string84;
  private final static char []_jsp_string104;
  private final static char []_jsp_string53;
  private final static char []_jsp_string10;
  private final static char []_jsp_string11;
  private final static char []_jsp_string49;
  private final static char []_jsp_string126;
  private final static char []_jsp_string40;
  private final static char []_jsp_string148;
  private final static char []_jsp_string99;
  private final static char []_jsp_string135;
  private final static char []_jsp_string22;
  private final static char []_jsp_string12;
  private final static char []_jsp_string93;
  private final static char []_jsp_string29;
  private final static char []_jsp_string136;
  private final static char []_jsp_string119;
  private final static char []_jsp_string142;
  private final static char []_jsp_string122;
  private final static char []_jsp_string85;
  private final static char []_jsp_string68;
  private final static char []_jsp_string58;
  private final static char []_jsp_string60;
  private final static char []_jsp_string59;
  private final static char []_jsp_string128;
  private final static char []_jsp_string28;
  private final static char []_jsp_string39;
  private final static char []_jsp_string108;
  private final static char []_jsp_string79;
  private final static char []_jsp_string2;
  private final static char []_jsp_string89;
  static {
    _jsp_string95 = "\r\n								 \r\n								".toCharArray();
    _jsp_string69 = "\";\r\n   	var checkedstr = \"".toCharArray();
    _jsp_string20 = "&f_weaver_belongto_usertype=".toCharArray();
    _jsp_string78 = "\")\r\n				displayBlock.children(\".verticalblock\").html(relationDesc);;\r\n				//displayBlock.children(\".verticalblock\").mouseover(function(){\r\n				//	relatmouseover($(this));\r\n				//}).mouseout(function(){\r\n				//	relatmouseout($(this));\r\n				//});\r\n				var expressionItemDivObj = $(\"<div class='relationItem'></div>\");\r\n				expressionItemDivObj.append(checkboxarray[i].clone());\r\n				displayBlock.append(expressionItemDivObj);\r\n				\r\n				//\u5408\u5e76\u540e\uff0c\u5b9e\u9645\u7684\u5173\u7cfb\u7ed3\u6784\r\n				expression = $(\"<div type='expressions' relation='\" + relationship + \"' rotindex='\" + rlindex + \"'></div>\");\r\n				expression.append(trgelement.clone());\r\n				\r\n				checkboxarray[i].parent().append(displayBlock);\r\n				//\u6dfb\u52a0\u5173\u7cfb\u56fe\r\n				trgelement.parent().append(expression);\r\n				trgelement.remove();\r\n				checkboxarray[i].remove();\r\n            } else {\r\n                var expressionItemDivObj = $(\"<div class='relationItem'></div>\");\r\n                expressionItemDivObj.append(checkboxarray[i].clone());\r\n				displayBlock.append(expressionItemDivObj);\r\n				\r\n				expression.append(trgelement.clone());\r\n				checkboxarray[i].parent().remove();\r\n				checkboxarray[i].remove();\r\n				trgelement.remove();\r\n				\r\n				\r\n            }\r\n        }\r\n        changeModified();\r\n    };\r\n    \r\n    //\u62c6\u5206\u6761\u4ef6\r\n    function splitCondition()\r\n    {\r\n    	var checkboxarray = [];\r\n        \r\n        $(\"[_selected=true]\").each(function () {\r\n        	if ($(this).is(\"div\")) {\r\n            	checkboxarray.push($(this));\r\n            }\r\n        });\r\n        \r\n        if (checkboxarray.length == 0) return ;\r\n        \r\n        var children;\r\n        var row;\r\n        var data;\r\n        //\u5206\u6b65\u79fb\u9664\r\n        for (var i = 0; i < checkboxarray.length; i++) {\r\n            var key = checkboxarray[i].attr(\"key\");\r\n           	var trgelement = $(\"div[rotindex=\" + key + \"]\"); \r\n           	\r\n            children = checkboxarray[i].children(\".relationItem\");\r\n            \r\n            for (var j = 1; j < children.length; j++) {\r\n            	var tktrgeldspelement = $(children[j]).children();\r\n            	var tktrgelement = null;\r\n	            var tky = tktrgeldspelement.attr(\"key\");\r\n	            \r\n	           	if (tktrgeldspelement.is(\"span\")) {\r\n					tktrgelement = $(\"input[name=child][expindex=\" + tky + \"]\");\r\n	           	} else {\r\n	           		tktrgelement = $(\"div[rotindex=\" + tky + \"]\");\r\n	           	}\r\n	           	\r\n            	var displayCloneElement = tktrgeldspelement.clone();\r\n            	var cloneElement = tktrgelement.clone();\r\n          		var expressionItemDivObj = $(\"<div class='relationItem'></div>\");	\r\n         		expressionItemDivObj.append(displayCloneElement);\r\n       			$(checkboxarray[i]).parent().parent().append(expressionItemDivObj);\r\n            		\r\n           		tktrgelement.parent().append(cloneElement);\r\n            	\r\n                tktrgelement.remove();\r\n                $(children[j]).remove();\r\n            }\r\n            \r\n            //\u6574\u7406\u8868\u8fbe\u5f0f\u7ed3\u6784\r\n            children = checkboxarray[i].children(\".relationItem\");\r\n            if (children.length == 1) {\r\n                var expele = null;\r\n               	expele = checkboxarray[i].parent();\r\n              	expele.append(children.children().clone());\r\n                checkboxarray[i].remove();\r\n                \r\n                trgelement.parent().append(trgelement.children().clone());\r\n                trgelement.remove();\r\n            }\r\n            \r\n        }\r\n        changeModified();\r\n    }\r\n    \r\n\r\n    function creatBrowservalue(parentObj,isSingle,browservalue,browserspanvalue,type)\r\n    {\r\n		if (!!BROWSER_MAPPING[type]) {\r\n			isSingle = !isSingle;\r\n		}\r\n		if (browservalue.indexOf(',') >= 0) {\r\n			isSingle = false;\r\n		}\r\n    	if (!isSingle) {\r\n    		browserspanvalue = browserspanvalue.replace(/__/g, ',');\r\n    	}\r\n    	parentObj.find(\"[name=browserSpan]\").empty();\r\n		var oDiv = document.createElement(\"div\");\r\n		parentObj.find(\"[name=browserSpan]\").append(oDiv);\r\n		var parentid = $(parentObj).attr(\"id\");\r\n		jQuery(oDiv).e8Browser({\r\n				name:\"browservalue\",\r\n				viewType:\"0\",\r\n				browserValue:browservalue,\r\n				isMustInput:\"1\",\r\n				browserSpanValue:browserspanvalue,\r\n				getBrowserUrlFn:'getBrowservalueUrl',\r\n				getBrowserUrlFnParams:\"this\",\r\n				hasInput:true,\r\n				isSingle:isSingle,\r\n				completeUrl:\"javascript:getajaxurl(\"+parentid+\")\",\r\n				browserUrl:\"\",\r\n				hasAdd:false,\r\n				width:'150px'\r\n		});\r\n		\r\n    }\r\n\r\n 	function fillFieldSpan(parentObj, browservalue, browserspanvalue, key)\r\n    {       			\r\n    	var oldFieldSpan = parentObj.find(\"span[name='fieldspan']\");\r\n    	parentObj.empty();\r\n		jQuery(parentObj).e8Browser({\r\n				name:\"selectfiled\",\r\n				viewType:\"0\",\r\n				isMustInput:\"1\",\r\n				getBrowserUrlFn:\"getFieldUrl\",\r\n				hasInput:true,\r\n				isSingle:true,\r\n				completeUrl:\"javascript:getcompleteurl($('#formid').val(),$('#isbill').val(),$('div#editblock_\" + key + \" #selectfiled__').val())\",\r\n				browserUrl:\"\",\r\n				hasAdd:false,\r\n				width:\"150px\",\r\n				_callback:\"callbackMeth\",\r\n				afterDelCallback:\"delFieldCallback\",\r\n				afterDelParams:key,\r\n				browserValue:browservalue,\r\n				browserSpanValue:browserspanvalue\r\n		});\r\n		parentObj.append('<img style=\"padding-top:4px;display:none;\" src=\"/images/BacoError_wev8.gif\" align=\"absMiddle\">');\r\n    }\r\n\r\n	//\u53cc\u51fb and/or \u66f4\u6539\u5173\u7cfb\r\n	function switchRelationEditMode(e,target) {\r\n		var e = e || window.event;\r\n		var parent = $(target).parent();\r\n		var key = parent.attr(\"key\"); \r\n		var expselement = $(\"div[rotindex=\" + key + \"]\");\r\n		//if (!!!expselement[0]) return;\r\n		$(target).css(\"left\", \"-18px\");\r\n		var relation = parseInt(expselement.attr(\"relation\"));\r\n		$(target).html(\"<select name='tempRelationEle' onblur='cancelRelationEdit(this);' onchange='confirmRelationEdit(this, \" + key + \")'><option value='0' \" + (relation==0?\" selected \":\"\") + \">OR</option><option value='1'\" + (relation==1?\" selected \":\"\") + \">AND</option></select>\");\r\n		$(target).find(\"[name=tempRelationEle]\")[0].focus();\r\n	}\r\n	\r\n	function confirmRelationEdit(target, key) {\r\n		var expselement = $(\"div[rotindex=\" + key + \"]\");\r\n		if (!!!expselement[0]) return;\r\n		expselement.attr(\"relation\", $(target).val());\r\n	}\r\n	\r\n	function cancelRelationEdit(target) {\r\n		var sltval = $(target).val();\r\n		$(target).parent().css(\"left\", \"-3px\");\r\n		if (sltval == \"0\") {\r\n			$(target).parent().html(\"&nbsp;OR&nbsp;\");\r\n		} else {\r\n			$(target).parent().html(\"&nbsp;AND&nbsp;\");\r\n		}	\r\n	}\r\n	\r\n    \r\n    function paramChange(obj)\r\n    {\r\n    	var data = $(obj).val();\r\n    	var parentObj = jQuery($(obj).closest(\"table\").parent(\"div\"));\r\n    	parentObj.find(\"[name=valuetype] option\").remove();\r\n    	if(data===\"0\")\r\n    	{\r\n    		parentObj.find(\"[name=htmltype]\").val(\"1\");\r\n			parentObj.find(\"[name=fieldtype]\").val(\"1\");\r\n   		}else if(data===\"1\")\r\n   		{\r\n   			parentObj.find(\"[name=htmltype]\").val(\"1\");\r\n			parentObj.find(\"[name=fieldtype]\").val(\"2\");\r\n   		}else if(data===\"2\")\r\n   		{\r\n   			parentObj.find(\"[name=htmltype]\").val(\"1\");\r\n			parentObj.find(\"[name=fieldtype]\").val(\"3\");\r\n   		}else if(data===\"3\")\r\n   		{\r\n   			parentObj.find(\"[name=htmltype]\").val(\"3\");\r\n			parentObj.find(\"[name=fieldtype]\").val(\"1\");\r\n   		}\r\n   		hideAllValueSpan(parentObj);\r\n   		var htmltype = parentObj.find(\"[name=htmltype]\").val();\r\n   		var fieldtype = parentObj.find(\"[name=fieldtype]\").val();\r\n   		parentObj.find(\"select\").selectbox(\"detach\");\r\n   		parentObj.find(\"span[name=compareSpan1]\").show();\r\n   		showValueSpan(parentObj,htmltype,fieldtype);\r\n   		parentObj.find(\"select\").selectbox(\"attach\");\r\n    }\r\n    \r\n    /*\r\n    *	valuetype \u7684 change \u4e8b\u4ef6  \u53ea\u6709\u89c4\u5219\u7ba1\u7406\u65b0\u5efa\u7684rulesrc=3\u65f6\u624d\u6709\r\n    */\r\n    function valuetypeChange(obj)\r\n    {\r\n    	var data = $(obj).val();\r\n    	var parentObj = jQuery($(obj).closest(\"table\").parent(\"div\"));\r\n    	var paramtypedata = parentObj.find(\"[name=paramtype]\").val();\r\n    	\r\n    	parentObj.find(\"span[name=browserSpan]\").hide();\r\n    	parentObj.find(\"span[name=textSpan1]\").show();\r\n    	parentObj.find(\"span[name=selectSpan1]\").hide();\r\n    	parentObj.find(\"[name=textvalue1]\").val(\"\");\r\n    	parentObj.find(\"[name=browservalue]\").val(\"\");\r\n    	parentObj.find(\"span[name=browservaluespan]\").html(\"\");\r\n    	if(paramtypedata===\"3\" && data===\"1\" || data===\"4\")\r\n    	{\r\n    		parentObj.find(\"span[name=browserSpan]\").show();\r\n    		parentObj.find(\"span[name=textSpan1]\").hide();\r\n    		parentObj.find(\"[name=fieldtype]\").val(\"_sysvar\");\r\n    	}\r\n    }\r\n    \r\n    function browsertypeChange(obj)\r\n    {\r\n    	var data = $(obj).val();\r\n    	var parentObj = jQuery($(obj).closest(\"table\").parent(\"div\"));\r\n    	parentObj.find(\"[name=fieldtype]\").val(data);\r\n    	showValueSpan(parentObj,\"3\",data);\r\n    }\r\n    \r\n    function getcompleteurl(formid,isbill,fshowname)\r\n    {\r\n		return \"\";\r\n    }\r\n    \r\n</script>\r\n<script>\r\nvar parentWin = window.parent.parent.getParentWindow(parent);\r\nvar dialog = window.parent.parent.getDialog(parent);\r\n</script>\r\n    </head>\r\n    <body>\r\n		<input type=\"hidden\" id=\"modeid\" value=\"".toCharArray();
    _jsp_string151 = "\",\r\n	   dataType:\"json\",\r\n	   success:function(data){\r\n	      if(data&&data.msg){\r\n	    	  window.top.Dialog.alert(data.msg);\r\n	      }\r\n	   }\r\n	});\r\n}\r\n\r\nfunction changeModified(){\r\n	jQuery(\"#ismodified\").val(\"1\");\r\n}\r\n\r\nfunction delFieldCallback(text, fieldid, params) {\r\n		\r\n}\r\n</script>\r\n</html>\r\n".toCharArray();
    _jsp_string21 = "\";\r\n	    xmlhttp.open(\"GET\",URL, false);\r\n	    xmlhttp.send(null);\r\n	    var result = xmlhttp.status;\r\n	    if(result==200) {\r\n		    isconn = true;\r\n	    	var response_flag = xmlhttp.responseText;\r\n	    	if(response_flag!='0') {\r\n	    		var flag_msg = '';\r\n	    		if(response_flag=='1') {\r\n	    			var diag = new Dialog();\r\n					diag.Width = 300;\r\n					diag.Height = 180;\r\n					diag.ShowCloseButton=false;\r\n					diag.Title = \"".toCharArray();
    _jsp_string8 = "\r\n<script type=\"text/javascript\" src=\"/js/select/script/jquery-1.8.3.min_wev8.js\"></script>	    \r\n".toCharArray();
    _jsp_string100 = "</option>			<!-- \u4e0d\u5305\u542b -->\r\n				                    </select>\r\n				            	</span>\r\n				            	\r\n				            	<span class=\"compareSpan\" name=\"compareSpan2\" style=\"padding-right:2px;display: none;\">\r\n				                    <select name=\"compareoption2\"  style=\"float:left;width: 80px;\">\r\n				                       	<option value=\"0\">".toCharArray();
    _jsp_string32 = "\", function () {\r\n						    formElementFocus(tempElement);						\r\n							});\r\n						}\r\n						return false;\r\n					}else{\r\n						if(window.__oriAlert__){\r\n							try{\r\n								window.top.Dialog.alert(\"".toCharArray();
    _jsp_string87 = " >".toCharArray();
    _jsp_string124 = "&#10;".toCharArray();
    _jsp_string48 = "\";\r\ndoCheckusb();\r\n</script>\r\n".toCharArray();
    _jsp_string38 = "\");\r\n						}else{\r\n							window.top.Dialog.alert(\"".toCharArray();
    _jsp_string31 = "\");\r\n						}else{\r\n							var tempElement = thiswin.elements[i-1];\r\n							//ueditor\u00e5\u00bf\u0085\u00e5\u00a1\u00ab\u00e9\u00aa\u008c\u00e8\u00af\u0081\r\n							if (checkueditorContent(tempElement)) {\r\n								continue;\r\n							}\r\n							\r\n							window.top.Dialog.alert(\"&quot;\"+thiswin.elements[i-1].getAttribute(\"temptitle\")+\"&quot;\"+\"".toCharArray();
    _jsp_string54 = "\r\n<!--For wui-->\r\n<link type='text/css' rel='stylesheet'  href='/wui/theme/".toCharArray();
    _jsp_string36 = "\");\r\n						}else{\r\n							var tempElement = thiswin.elements[i-1];\r\n							\r\n							//ueditor\u00e5\u00bf\u0085\u00e5\u00a1\u00ab\u00e9\u00aa\u008c\u00e8\u00af\u0081\r\n							if (checkueditorContent(tempElement)) {\r\n								continue;\r\n							}\r\n							\r\n							window.top.Dialog.alert(\"&quot;\"+thiswin.elements[i-1].getAttribute(\"temptitle\")+\"&quot;\"+\"".toCharArray();
    _jsp_string63 = "\";\r\n//\u00e5\u00bd\u0093\u00e5\u0089\u008d\u00e4\u00b8\u00bb\u00e9\u00a2\u0098\u00e4\u00bd\u00bf\u00e7\u0094\u00a8\u00e7\u009a\u0084\u00e7\u009a\u00ae\u00e8\u0082\u00a4\r\nvar GLOBAL_SKINS_FOLDER = \"".toCharArray();
    _jsp_string67 = "\">\r\n		<META http-equiv=\"X-UA-Compatible\" content=\"IE=8\" > </META>\r\n        <title>rule-based design</title>\r\n\r\n        <meta http-equiv=\"pragma\" content=\"no-cache\">\r\n        <meta http-equiv=\"cache-control\" content=\"no-cache\">\r\n        \r\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/formmode/js/ruleDesign/css/ruleDesign_wev8.css\">\r\n		<LINK href=\"/css/Weaver_wev8.css\" type=\"text/css\" rel=STYLESHEET>\r\n		<script language=javascript src=\"/js/ecology8/request/e8.browser_wev8.js\"></script>\r\n		<link rel=\"Stylesheet\" type=\"text/css\" href=\"/wui/theme/ecology8/jquery/js/e8_zDialog_btn_wev8.css\" />\r\n		<script type='text/javascript' src='/js/jquery-autocomplete/lib/jquery.bgiframe.min_wev8.js'></script>\r\n		<script type='text/javascript' src='/js/jquery-autocomplete/lib/jquery.ajaxQueue_wev8.js'></script>\r\n		<script type='text/javascript' src='/js/jquery-autocomplete/jquery.autocomplete_wev8.js'></script>\r\n		<script type='text/javascript' src='/js/jquery-autocomplete/browser_wev8.js'></script>\r\n		<script type='text/javascript' src='/formmode/js/ruleDesign/js/jsUUID_wev8.js'></script>\r\n		<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/jquery-autocomplete/jquery.autocomplete_wev8.css\" />\r\n		<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/jquery-autocomplete/browser_wev8.css\" />\r\n		\r\n		<SCRIPT type=\"text/javascript\" src=\"/formmode/js/WdatePicker/WdatePicker_wev8.js\"></script>\r\n		\r\n<!-- \u53ef\u4ee5\u62bd\u53d6js \u5230jsp\u4e2d \u5e76 clude -->\r\n<script type=\"text/javascript\">\r\n	//\u8bf7\u9009\u62e9\u5b57\u6bb5 \r\n   	var nothaveFile = \"".toCharArray();
    _jsp_string19 = "&time=\"+new Date()+\"&f_weaver_belongto_userid=".toCharArray();
    _jsp_string131 = "\r\n							<br>&nbsp;&nbsp;&nbsp;&nbsp;\r\n            			</td>\r\n            		</tr>\r\n            	</table>\r\n            </div>\r\n		</div>\r\n			\r\n		<div id=\"footer\">\r\n			<div id=\"zDialog_div_bottom\" class=\"zDialog_div_bottom\" style=\"position:static;\">\r\n	          <table width=\"100%\" style=\"margin-top:-8px;\">\r\n			      <tr><td style=\"text-align:center;\" colspan=\"3\" id=\"jmodaloptcontent\">\r\n			          <input type=\"button\" value=\"".toCharArray();
    _jsp_string16 = "');\r\n}\r\n\r\nfunction _onViewLog(operateitem,sqlwhere,id){\r\n	if(!sqlwhere)sqlwhere = \"\";\r\n	var dialog = new window.top.Dialog();\r\n	dialog.currentWindow = window;\r\n	dialog.Title = \"".toCharArray();
    _jsp_string18 = "\";\r\n		}\r\n	}\r\n	dialog.Width = jQuery(window).width();\r\n	dialog.Height = 610;\r\n	dialog.Drag = true;\r\n	dialog.checkDataChange = false;\r\n	dialog.maxiumnable = true;\r\n	dialog.URL = url;\r\n	dialog.show();\r\n}\r\n\r\n\r\nfunction check_form(thiswins,items)\r\n{\r\n	/* added by cyril on 2008-08-14 for td:8521 */\r\n	var isconn = false;\r\n	try {\r\n		var xmlhttp;\r\n	    if (window.XMLHttpRequest) {\r\n	    	xmlhttp = new XMLHttpRequest();\r\n	    }  \r\n	    else if (window.ActiveXObject) {\r\n	    	xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");  \r\n	    }\r\n	    var URL = \"/systeminfo/CheckConn.jsp?userid=".toCharArray();
    _jsp_string150 = "\");\r\n		return;\r\n	}\r\n	$.ajax({\r\n	   type: \"POST\",\r\n	   url: \"/formmode/interfaces/ExpandRightConditionOperation.jsp?action=checkSQL\",\r\n	   data: \"rightid=".toCharArray();
    _jsp_string56 = "/wui_wev8.css'/>\r\n".toCharArray();
    _jsp_string139 = "\" + \"".toCharArray();
    _jsp_string114 = "\" onclick=\"splitCondition()\" value=\" \">\r\n                    </div>\r\n        		</div>\r\n	        	<!-- \u5206\u5272\u7ebf -->\r\n	        	<div id=\"middleLine\" style=\"width:100%;background:#c4e6e1;height:3px!important;float: left;\">\r\n	        	</div>\r\n        	</div>\r\n		</div>\r\n		\r\n		<div id=\"middle\">\r\n			".toCharArray();
    _jsp_string103 = "</option> 			<!-- \u5c0f\u4e8e -->\r\n										<option value=\"3\">".toCharArray();
    _jsp_string141 = "\";\r\n		window.top.Dialog.alert(msg);\r\n		return;\r\n	}  \r\n    \r\n       var hiddenarea = getValue4Obj(parentObj,array);\r\n       var hiddenareastr = JSON.stringify(hiddenarea);	//\u628ajson\u8f6c\u6210\u5b57\u7b26\u4e32\r\n       var hiddenElement = $(\"<input name='child' type='hidden' value='\" + hiddenareastr + \"'>\"); \r\n       var item = $(\"<div class='relationItem'></div>\");\r\n       item.append($(expressdescElement(hiddenElement)));\r\n       \r\n      \r\n       var selectBlock = $(\"[_selected=true]\");\r\n       if(selectBlock.length > 0)\r\n       {\r\n		var selectBlockParent = $($(\"[_selected=true]\")[0]).closest(\".relationblock\");\r\n		if($($(\"[_selected=true]\")[0]).is(\".relationblock\"))\r\n			selectBlockParent = $($(\"[_selected=true]\")[0]).parent(\".relationItem\").closest(\".relationblock\");\r\n		selectBlockParent.append(item);\r\n		var rotindex = selectBlockParent.attr(\"key\");\r\n		if(rotindex == 1)\r\n			jQuery(\"#mainExpression\").append(hiddenElement.get(0).outerHTML);\r\n		else\r\n			jQuery(\"#mainExpression\").find(\"div[rotindex=\"+rotindex+\"]\").append(hiddenElement.get(0).outerHTML);\r\n       }else\r\n       {\r\n       	 $(\"#mainBlock\").append(item);\r\n       	 $(\"#mainExpression\").append(hiddenElement.get(0).outerHTML);\r\n       }\r\n       $(\"#mainBlock\").show();\r\n       changeModified();\r\n}\r\n\r\n\r\n//\u4eceparentObj\u4e2d\u62bd\u53d6Element \u4e2d\u7684 value\r\nfunction getValue4Obj(parentObj,array){\r\n	var baseTR = parentObj.find(\".baseTR\");\r\n	var targetField = baseTR.find(\"[name=targetFieldid]\");\r\n	var fieldlabel = targetField.find(\"option:selected\").text();\r\n	\r\n	var fieldname = array[0];\r\n	var fieldid = array[1];\r\n	var fieldhtmltype = array[2];\r\n	var type = array[3];\r\n	var fielddbtype = array[4];\r\n	var relationtype = array[5];\r\n	var valetype = array[6];\r\n			\r\n	var htmltype = fieldhtmltype; //\u5927\u7c7b\u578b\r\n	var fieldtype = type;	//\u5c0f\u7c7b\u578b\r\n	var dbtype = fielddbtype;//\u6570\u636e\u5e93\u7c7b\u578b\r\n	//\r\n	var compareoption = baseTR.find(\"[name=compareoption\"+relationtype+\"]\").val();	\r\n	if(dbtype==\"text\"||dbtype==\"clob\"){\r\n		compareoption = \"100\";\r\n	}\r\n	var compareoptionlabel = baseTR.find(\"[name=compareoption\"+relationtype+\"]\").find(\"option:selected\").text();\r\n	\r\n	//value span \u53d6\u503c\r\n	var fieldvalue = baseTR.find(\"[name=textvalue\"+valetype+\"]\").val();\r\n	var fieldtext = fieldvalue;\r\n	if(valetype==4){//\u6d4f\u89c8\u6846\r\n		fieldtext = baseTR.find(\"[name=textvalue4Span]\").html();\r\n	}else if(valetype==5) {//\u4e0b\u62c9\u6846\r\n		fieldtext = baseTR.find(\"[name=textvalue\"+valetype+\"]\").find(\"option:selected\").text();\r\n	}\r\n	\r\n	//\u7ec4\u88c5\u5b57\u7b26\u4e32 \u663e\u793a\u548c\u540e\u53f0\u6240\u9700\r\n	var hiddenarea = {\r\n		fieldid:fieldid,\r\n		fieldname:fieldname,\r\n		fieldlabel:fieldlabel,\r\n		htmltype:htmltype,\r\n		fieldtype:fieldtype,\r\n		fielddbtype:fielddbtype,\r\n		compareoption:compareoption,\r\n		compareoptionlabel:compareoptionlabel,\r\n		fieldvalue:fieldvalue,\r\n		fieldtext:fieldtext,\r\n		relationtype:relationtype,\r\n		valetype:valetype\r\n	};\r\n	return hiddenarea;\r\n}\r\n\r\n\r\n//\u8fd4\u56de\u8868\u8fbe\u5f0f\u663e\u793a\u6587\u5b57\r\nvar expressdescElement = function(inputele, udpateflag) {\r\n	var areaJson = jQuery.parseJSON(inputele.val());\r\n\r\n	var displayspan = showDisplaySpan(areaJson)\r\n\r\n	var expIndex = inputele.attr(\"expindex\");\r\n\r\n	if (!!!udpateflag) {\r\n		expIndex = getExpIndex();\r\n	}\r\n\r\n	inputele.attr(\"expindex\", expIndex);\r\n	return \"<span class='displayspan' key='\"\r\n			+ expIndex\r\n			+ \"' onclick='switchSelected(event, this)' ondblclick='switchEditMode(this);'>\"\r\n			+ displayspan + \"</span>\"\r\n};\r\n\r\n//\u62fc\u63a5\u6761\u4ef6\u663e\u793a \u65b9\u6cd5\r\nfunction showDisplaySpan(areaJson) {\r\n	var datafieldlabel = areaJson.fieldlabel;\r\n	var htmltype = areaJson.htmltype;\r\n	var fieldtype = areaJson.fieldtype;\r\n	var displayspan = datafieldlabel+\" \" + areaJson.compareoptionlabel + \" '\"+ areaJson.fieldtext + \"'\";\r\n	return displayspan;\r\n}\r\n\r\n //\u53cc\u51fb\u4ee5\u6709\u6761\u4ef6\u540e \u7ed9\u5bf9\u5e94\u7684Element \u8d4b\u503c\r\nfunction switchEditMode(target) {\r\n	if (!!!target) return;\r\n	\r\n	var $this = $(target);\r\n    var key = $this.attr(\"key\");\r\n    var children = $(\"input[name=child][expindex=\" + key + \"]\");\r\n    if (!!!children[0]) return;\r\n    var editBlock = $(\"<div id='editblock_\" + key + \"' class='editBlockClass'></div>\");\r\n    //\u514b\u9686\u4e4b\u524d\u5148\u89e3\u9664\u4e0b\u62c9\u7f8e\u5316\r\n    $(\"#newBlockDiv\").find(\"select\").selectbox(\"detach\");\r\n	editBlock.append($(\"#newBlockDiv\").children().clone());\r\n	var table = editBlock.find(\".table_0\");\r\n	table.attr(\"tableIndex\",key);\r\n	table.removeClass(\"table_0\");\r\n	table.addClass(\"table_\"+key);\r\n	//\u514b\u9686\u5b8c\u7acb\u5373\u7f8e\u5316 \u6574\u4e2a\u8fc7\u7a0b\u5e94\u8be5\u4e0d\u4f1a\u95ea\r\n	$(\"#newBlockDiv\").find(\"select\").selectbox(\"attach\");\r\n    var areaJson = jQuery.parseJSON(children.val());\r\n    \r\n	var parentObj = editBlock;\r\n	parentObj.find(\"select\").selectbox(\"detach\");\r\n	//**********\u8d4b\u503c start ****************\r\n    var obj = setEditBlockValue(table,areaJson);\r\n	\r\n    parentObj.find(\"select\").selectbox(\"attach\");\r\n    parentObj.find(\"[name=editoperatorSpan]\").show();\r\n    //\u9690\u85cfspan\r\n    $this.hide();\r\n    //clean fieldspan\r\n	fillFieldSpan(editBlock.find(\"span[name='fieldspan']\"), areaJson.datafield, areaJson.datafieldlabel, key);\r\n    $this.parent().append(editBlock);\r\n    changeTargetFieldid(obj,1,\"nosel\");\r\n    var obj0 = jQuery(\".table_0\").find(\".baseTR\");\r\n    changeTargetFieldid(obj0,1,\"nosel\");\r\n    changeModified();\r\n}\r\n \r\n//\u7ed9\u53cc\u51fb\u540e\u7684\u6761\u4ef6 Element \u8d4b\u503c--\u6062\u590d\u7684\u8fc7\u7a0b\r\nfunction setEditBlockValue(table,areaJson){\r\n	var fieldid = areaJson.fieldid;\r\n	var fieldname = areaJson.fieldname;\r\n	var fieldlabel = areaJson.fieldlabel;\r\n	var htmltype = areaJson.htmltype;\r\n	var fieldtype = areaJson.fieldtype;\r\n	var fielddbtype = areaJson.fielddbtype;\r\n	var compareoption = areaJson.compareoption;\r\n	var compareoptionlabel = areaJson.compareoptionlabel;\r\n	var fieldvalue = areaJson.fieldvalue;\r\n	var fieldtext = areaJson.fieldtext;\r\n	var relationtype = areaJson.relationtype;\r\n	var valetype = areaJson.valetype;\r\n	\r\n	var baseTR = table.find(\".baseTR\");\r\n	var targetField = baseTR.find(\"[name=targetFieldid]\");\r\n	var splitStr = \"".toCharArray();
    _jsp_string62 = "\r\n<!-- \u00e9\u00a1\u00b5\u00e9\u009d\u00a2\u00e5\u0088\u0087\u00e6\u008d\u00a2\u00e6\u0095\u0088\u00e6\u009e\u009cEnd -->\r\n\r\n\r\n<script language=\"javascript\">\r\n\r\n//------------------------------\r\n// the folder of current skins \r\n//------------------------------\r\n//\u00e5\u00bd\u0093\u00e5\u0089\u008d\u00e4\u00bd\u00bf\u00e7\u0094\u00a8\u00e7\u009a\u0084\u00e4\u00b8\u00bb\u00e9\u00a2\u0098\r\nvar GLOBAL_CURRENT_THEME = \"".toCharArray();
    _jsp_string117 = "\r\n                    	".toCharArray();
    _jsp_string17 = "\";\r\n	var url = \"/docs/tabs/DocCommonTab.jsp?_fromURL=3&operateitem=\"+operateitem+\"&sqlwhere=\"+sqlwhere;\r\n	if(id){\r\n		url = \"/docs/tabs/DocCommonTab.jsp?_fromURL=3&relatedid=\"+id+\"&operateitem=\"+operateitem+\"&sqlwhere=\"+sqlwhere;\r\n		if(operateitem==418||operateitem==419||operateitem==420){\r\n			dialog.Title = \"".toCharArray();
    _jsp_string88 = "</option>\r\n											<option value=\"2\" ".toCharArray();
    _jsp_string61 = ")\">\r\n".toCharArray();
    _jsp_string121 = "\r\n                </div>\r\n                <div style=\"height:20px;\">&nbsp;</div>\r\n            </div>\r\n            <div id=\"sqlContent\" style=\"".toCharArray();
    _jsp_string70 = "\";\r\n   	var notcheckedstr = \"".toCharArray();
    _jsp_string43 = "\";\r\n\r\n  if(companyname.length >0 ){\r\n  	window.status = str1+companyname;\r\n  }\r\n</script>\r\n<!-- \u00e5\u0088\u00a0\u00e9\u0099\u00a4 -->\r\n</head></html>\r\n\r\n<!--USB \u00e9\u00aa\u008c\u00e8\u00af\u0081 -->\r\n".toCharArray();
    _jsp_string44 = "\r\n<script language=javascript>\r\nubsfirmcode0 = ".toCharArray();
    _jsp_string6 = "\r\n\r\n\r\n<script language=javascript>;\r\ntop.Dialog.alert(\"".toCharArray();
    _jsp_string46 = ";\r\nusbserial0 = \"".toCharArray();
    _jsp_string57 = "\r\n\r\n\r\n<!-- \u00e5\u00ad\u0097\u00e4\u00bd\u0093\u00e8\u00ae\u00be\u00e7\u00bd\u00ae\u00ef\u00bc\u008cwin7\u00e3\u0080\u0081vista\u00e7\u00b3\u00bb\u00e7\u00bb\u009f\u00e4\u00bd\u00bf\u00e7\u0094\u00a8\u00e9\u009b\u0085\u00e9\u00bb\u0091\u00e5\u00ad\u0097\u00e4\u00bd\u0093,\u00e5\u0085\u00b6\u00e4\u00bb\u0096\u00e7\u00b3\u00bb\u00e7\u00bb\u009f\u00e4\u00bd\u00bf\u00e7\u0094\u00a8\u00e5\u00ae\u008b\u00e4\u00bd\u0093 Start -->\r\n<!--\r\n\u00e6\u00b7\u00bb\u00e5\u008a\u00a0\u00e8\u0087\u00b3init_wev8.css \r\n<link type='text/css' rel='stylesheet'  href='/wui/common/css/w7OVFont_wev8.css' id=\"FONT2SYSTEMF\">\r\n -->\r\n<script language=\"javascript\"> \r\n/*\r\nif (jQuery.client.version< 6) {\r\n	document.getElementById('FONT2SYSTEMF').href = \"/wui/common/css/notW7AVFont_wev8.css\";\r\n}\r\n*/\r\n</script> \r\n<!-- \u00e5\u00ad\u0097\u00e4\u00bd\u0093\u00e8\u00ae\u00be\u00e7\u00bd\u00ae\u00ef\u00bc\u008cwin7\u00e3\u0080\u0081vista\u00e7\u00b3\u00bb\u00e7\u00bb\u009f\u00e4\u00bd\u00bf\u00e7\u0094\u00a8\u00e9\u009b\u0085\u00e9\u00bb\u0091\u00e5\u00ad\u0097\u00e4\u00bd\u0093,\u00e5\u0085\u00b6\u00e4\u00bb\u0096\u00e7\u00b3\u00bb\u00e7\u00bb\u009f\u00e4\u00bd\u00bf\u00e7\u0094\u00a8\u00e5\u00ae\u008b\u00e4\u00bd\u0093 End -->\r\n\r\n<!-- \u00e9\u00a1\u00b5\u00e9\u009d\u00a2\u00e5\u0088\u0087\u00e6\u008d\u00a2\u00e6\u0095\u0088\u00e6\u009e\u009cStart -->\r\n".toCharArray();
    _jsp_string138 = "\";//\u8bf7\u9009\u62e9\r\n	dialog.Width = 550 ;\r\n	if(url.indexOf(\"/MutiResourceBrowser.jsp\")!=-1){ \r\n		dialog.Width=648; \r\n	}\r\n	dialog.Height = 600;\r\n	dialog.Drag = true;\r\n	dialog.show();\r\n\r\n}\r\n\r\n\r\nfunction onShowBrowser(baseTR,url,objtype){\r\n	if (objtype==\"161\" || objtype==\"162\"||objtype==\"256\" || objtype==\"257\") {\r\n		onShowBrowserCustomNew(baseTR,\"textvalue4\", url, objtype);\r\n		return;\r\n	}else{\r\n		onShowBrowserCustomNew2(baseTR,\"textvalue4\", url, objtype);\r\n		return;\r\n	}\r\n	var name = \"textvalue4\";\r\n	var obj = baseTR.find(\"[name=\"+name+\"]\").get(0);\r\n	var objSpan = baseTR.find(\"[name=\"+name+\"Span]\").get(0);\r\n	url= url+\"&selectedids=\"+obj.value;\r\n	var unitspan = objSpan;\r\n	\r\n    if (objtype==165 || objtype==166 || objtype==167 || objtype==168) {\r\n        var temp=escape(\"&fieldid=\"+curfieldid+\"&isdetail=\"+curisdetail);\r\n        var myid = window.showModalDialog(url+temp);\r\n        if (myid) {\r\n            if (wuiUtil.getJsonValueByIndex(myid,0) != \"\"){\r\n                unitspan.innerHTML = wuiUtil.getJsonValueByIndex(myid,1);\r\n                if (wuiUtil.getJsonValueByIndex(myid,1).substr(0,1)==\",\") {\r\n                    obj.value =wuiUtil.getJsonValueByIndex(myid,0).substr(1);\r\n                    unitspan.innerHTML =wuiUtil.getJsonValueByIndex(myid,1).substr(1);\r\n                }else{\r\n                    obj.value =wuiUtil.getJsonValueByIndex(myid,0);\r\n                    unitspan.innerHTML = wuiUtil.getJsonValueByIndex(myid,1);\r\n                }\r\n            }else{\r\n                unitspan.innerHTML = \"\"\r\n                obj.value = \"\"\r\n            }\r\n        }\r\n    }else{\r\n        myid = window.showModalDialog(url);\r\n        if (myid) {\r\n            if (wuiUtil.getJsonValueByIndex(myid,0) != \"\") {\r\n                unitspan.innerHTML =wuiUtil.getJsonValueByIndex(myid,1);\r\n                if (wuiUtil.getJsonValueByIndex(myid,0).substr(0,1)==\",\") {\r\n                    obj.value =wuiUtil.getJsonValueByIndex(myid,0).substr(1);\r\n                    unitspan.innerHTML =wuiUtil.getJsonValueByIndex(myid,1).substr(1);\r\n                }else{\r\n                    obj.value = wuiUtil.getJsonValueByIndex(myid,0);\r\n                    unitspan.innerHTML = wuiUtil.getJsonValueByIndex(myid,1);\r\n                }\r\n            }else{\r\n                unitspan.innerHTML = \"\"\r\n                obj.value = \"\"\r\n            }\r\n        }\r\n    }\r\n    var objSpan = jQuery(unitspan);\r\n    objSpan.html(objSpan.text());\r\n}\r\n\r\nfunction changeContitionType(isfirst){\r\n	var index = 0;\r\n	var tableObj = jQuery(\".table_0\");\r\n	var baseTR = tableObj.find(\".baseTR\");\r\n	var conditiontype = jQuery(\"#conditiontype\").val();\r\n	var line = jQuery(\"#line_\"+index);\r\n	var btndiv = jQuery(\"#btndiv_\"+index);\r\n	var td1 = baseTR.find(\".td_1\");\r\n	var td2 = baseTR.find(\".td_2\");\r\n	var td3 = baseTR.find(\".td_3\");\r\n	if(conditiontype==1){//\u666e\u901a\u7c7b\u578b\r\n		td1.show();\r\n		line.show();\r\n		btndiv.show();\r\n		jQuery(\"#ruleContent\").show();\r\n		jQuery(\"#ruledescBtn\").show();\r\n		var ruledescBtn_btn = jQuery(\"#ruledescBtn_btn\");\r\n		if(ruledescBtn_btn.hasClass(\"operbtn operbtn_up\")){\r\n			jQuery(\"#ruledesc\").hide();\r\n		}else{\r\n			jQuery(\"#ruledesc\").show();\r\n		}\r\n		jQuery(\"#sqlContent\").hide();\r\n		jQuery(\"#middle\").css(\"top\",\"74px\");\r\n	}else{//sql\u7c7b\u578b\r\n		line.hide();\r\n		btndiv.hide();\r\n		td1.hide();\r\n		td2.hide();\r\n		td3.hide();\r\n		jQuery(\"#ruleContent\").hide();\r\n		jQuery(\"#ruledescBtn\").hide();\r\n		jQuery(\"#ruledesc\").hide();\r\n		jQuery(\"#sqlContent\").show();\r\n		jQuery(\"#middle\").css(\"top\",\"40px\");\r\n		jQuery(\"#conditionsqlText\").get(0).focus();\r\n	}\r\n	if(isfirst&&isfirst==1){\r\n		// do nothing\r\n	}else{\r\n		changeModified();\r\n	}\r\n}\r\n\r\nfunction changeTargetFieldid(obj,flagStr,fieldvalue){\r\n	var tableObj = jQuery(obj).closest(\"table\");\r\n	var index = tableObj.attr(\"tableIndex\");\r\n	var baseTR = tableObj.find(\".baseTR\");\r\n	var targetFieldid = baseTR.find(\"[name=targetFieldid]\").val();\r\n	var td2 = baseTR.find(\".td_2\");\r\n	var td3 = baseTR.find(\".td_3\");\r\n	baseTR.find(\".compareSpan\").hide();\r\n	baseTR.find(\".valueSpan\").hide();\r\n	if(targetFieldid==\"\"){\r\n		td2.hide();\r\n		td3.hide();\r\n	}else{\r\n		var array = targetFieldid.split(\"_&_\");\r\n		var fieldid = array[1];\r\n		var relationtype = array[5];\r\n		var valetype = array[6];\r\n		\r\n		tableObj.find(\".compareSpan\").hide();\r\n		var compareSpan = baseTR.find(\"span[name=compareSpan\"+relationtype+\"]\");\r\n		var valueSpan = baseTR.find(\"span[name=valueSpan\"+valetype+\"]\");\r\n		\r\n		var textvalueObj = baseTR.find(\"[name=textvalue\"+valetype+\"]\");\r\n		var textvalueSpan = baseTR.find(\"span[name=textvalue\"+valetype+\"Span]\");\r\n		if(!flagStr){\r\n			textvalueObj.val(\"\");\r\n			textvalueSpan.html(\"\");\r\n		}\r\n		if(valetype==5){\r\n			changeSelectItem(fieldid,textvalueObj.get(0),fieldvalue);\r\n		}\r\n		td2.show();\r\n		td3.show();\r\n		compareSpan.show();\r\n		valueSpan.show();\r\n	}\r\n}\r\n\r\n\r\nvar rulevarAry= [];\r\n//\u589e\u52a0\u6761\u4ef6\r\nfunction addParam(fatherObj){\r\n	var parentObj = jQuery(\"#\"+fatherObj);\r\n	var baseTR = parentObj.find(\".baseTR\");\r\n	var targetFieldid = parentObj.find(\"[name=targetFieldid]\").val();\r\n	if (targetFieldid==\"\") {\r\n		msg = \"".toCharArray();
    _jsp_string134 = "] = \"".toCharArray();
    _jsp_string98 = "</option> 			<!-- \u4e0d\u7b49\u4e8e -->\r\n			                        	<option value=\"6\">".toCharArray();
    _jsp_string109 = "\" onclick=\"cancelEdit(this)\" value=\" \">\r\n        						</span>\r\n        					</td>\r\n        				</TR>\r\n        			</table>\r\n        		</div>\r\n        		\r\n        				</td>\r\n					</tr>\r\n				</table>\r\n        		\r\n        		<div id=\"line_0\" style=\"width:100%;background:#DADADA;height:1px!important;\"></div>\r\n        		<!-- \u6309\u94ae -->\r\n        		<div id=\"btndiv_0\" style=\"height:30px;padding-right:20px;padding-top:5px;padding-bottom:3px;\">\r\n        			<div style=\"float:right;\">\r\n	        			<input type=\"button\" class=\"operbtn operbtn_add\" name=\"paramadd\" id=\"paramadd\" title=\"".toCharArray();
    _jsp_string5 = "\";\r\n		});		\r\n	</script>\r\n	".toCharArray();
    _jsp_string92 = "\r\n								 	<option value=\"".toCharArray();
    _jsp_string130 = "\r\n										 ".toCharArray();
    _jsp_string132 = "\" class=\"zd_btn_submit\" onclick=\"closeDialog()\" >\r\n			      </td></tr>\r\n			  </table>\r\n		  </div>\r\n		</div>\r\n		\r\n		\r\n		<div id=\"ruledesc\" >\r\n		</div>\r\n		\r\n		<div id=\"ruledescBtn\">\r\n			<input type=\"button\" id=\"ruledescBtn_btn\" class=\"operbtn operbtn_up\" name=\"paramdelete\" style=\"\" value=\" \" onclick=\"showSql();\">\r\n		</div>\r\n		\r\n		\r\n        <div id=\"displayTemplate\" style=\"display:none;\">\r\n        	<div class=\"relationblock displayspan\" onclick=\"switchSelected(event, this)\">\r\n				<div class=\"verticalblock\" onmouseover=\"relatmouseover(this)\" onmouseout=\"relatmouseout(this)\" ondblclick=\"switchRelationEditMode(event,this);\"></div>\r\n				<div class=\"relationStyle\" >\r\n					<div class=\"relationStyleTop\"></div>\r\n					<div class=\"relationStyleCenter\"></div>\r\n					<div class=\"relationStyleBottom\"></div>\r\n				</div>\r\n			</div>\r\n        </div>\r\n        \r\n    </body>\r\n<script type=\"text/javascript\">\r\n\r\nvar urls = new Array();\r\n".toCharArray();
    _jsp_string51 = "\r\n}\r\n\r\nfunction doScannerEscape(ev, obj){\r\n	IMCarousel.doScannerEscape(ev, obj);\r\n}\r\n\r\nfunction scaleImg(obj, tag){\r\n	IMCarousel.scaleImg(obj, tag);\r\n}\r\n\r\nfunction rotateImg(obj){\r\n	IMCarousel.rotateImg(obj);\r\n}\r\n\r\nfunction downloadImg(obj){\r\n	IMCarousel.downloadImg(obj);\r\n}\r\n\r\nfunction slideImg(obj, direction){\r\n	IMCarousel.slideImg(obj, direction);\r\n}\r\n\r\nfunction showImgScanner(ev, isShow, id){\r\n	IMCarousel.showImgScanner(ev, isShow, id);\r\n}\r\n\r\nfunction downloads(id){\r\n	document.location.href=\"/weaver/weaver.file.FileDownload?fileid=\"+id+\"&download=1\";\r\n}\r\n</script>\r\n".toCharArray();
    _jsp_string127 = "&nbsp;&nbsp;".toCharArray();
    _jsp_string96 = "\r\n							</select>\r\n                    		</td>\r\n                    		\r\n			               	<td class=\"td_2\">\r\n			               		<span class=\"compareSpan\" name=\"compareSpan1\" style=\"padding-right:2px;display: none;\">\r\n				                    <select name=\"compareoption1\"  style=\"float:left;width: 80px;\">\r\n			                        	<option value=\"4\" selected>".toCharArray();
    _jsp_string14 = "\";\r\nfunction check_conn() {\r\n	return confirm('".toCharArray();
    _jsp_string97 = "</option>	<!-- \u7b49\u4e8e -->\r\n			                        	<option value=\"5\">".toCharArray();
    _jsp_string149 = "\";\r\n	} else {\r\n		expression = \"(\" + expression + \")\";\r\n	}\r\n	getSql();\r\n	getDesc();\r\n   	$.ajax({\r\n		type: \"post\",\r\n	    url: \"/formmode/interfaces/ExpandRightConditionOperation.jsp?_\" + new Date().getTime() + \"=1&action=saveCondition\",\r\n	    data: {\r\n	    	rulexml: result, \r\n	    	modeid: jQuery(\"#modeid\").val(),\r\n	    	rightid:jQuery(\"#rightid\").val(),\r\n	    	conditiontext:jQuery(\"#conditiontext\").val(),\r\n	    	conditionsql:jQuery(\"#conditionsql\").val(),\r\n	    	conditiontype:jQuery(\"#conditiontype\").val(),\r\n	    	conditionsqlText:jQuery(\"#conditionsqlText\").val(),\r\n	    	condit:	expression\r\n	    	},\r\n	    contentType : \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n	    complete: function(){\r\n		},\r\n	    error:function (XMLHttpRequest, textStatus, errorThrown) {\r\n	    } , \r\n	    success:function (data, textStatus) {\r\n	    	if(dialog){\r\n				var currentWindow = dialog.currentWindow;\r\n				// currentWindow.location.href = currentWindow.location.href;\r\n				currentWindow.location.reload();\r\n				dialog.close();\r\n			}\r\n	    } \r\n    });\r\n}\r\n\r\n\r\nfunction onCheckSQL(){\r\n	var ismodified = jQuery(\"#ismodified\").val();\r\n	if(ismodified==\"1\"){\r\n		window.top.Dialog.alert(\"".toCharArray();
    _jsp_string110 = "\" onclick=\"addParam('newBlockDiv')\" value=\" \">\r\n	                    <span style=\"display:inline-block;width:16px\"></span>\r\n	                    <input type=\"button\" class=\"operbtn operbtn_del\" name=\"paramdelete\" id=\"paramdelete\" title=\"".toCharArray();
    _jsp_string27 = "\r\n	    try {\r\n		    var lenck = true;\r\n		    var tempfieldvlaue = document.getElementById(\"htmlfieldids\").value;\r\n		    while(true) {\r\n			    var tempfield = tempfieldvlaue.substring(0, tempfieldvlaue.indexOf(\",\"));\r\n			    tempfieldvlaue = tempfieldvlaue.substring(tempfieldvlaue.indexOf(\",\")+1);\r\n			    var fieldid = tempfield.substring(0, tempfield.indexOf(\";\"));\r\n			    var fieldname = tempfield.substring(tempfield.indexOf(\";\")+1);\r\n			    if(fieldname=='') break;\r\n			    if(!checkLengthOnly(fieldid,'4000',fieldname,'".toCharArray();
    _jsp_string129 = "\r\n										 	<br>".toCharArray();
    _jsp_string91 = "\" \r\n								onchange=\"changeTargetFieldid(this)\">\r\n								<option value=\"\" ></option>\r\n								".toCharArray();
    _jsp_string64 = "\";\r\n</script>\r\n\r\n<!--For wuiForm-->\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/plugin/wuiform/jquery.wuiform_wev8.js\"></script>\r\n<script language=\"javascript\">\r\njQuery(document).ready(function(){\r\n	wuiform.init();\r\n});\r\n</script>\r\n".toCharArray();
    _jsp_string113 = "\" onclick=\"addbracket(1)\" value=\" \">\r\n	                    <span style=\"display:inline-block;width:16px\"></span>\r\n	                    <input type=\"button\" class=\"operbtn operbtn_spit\" name=\"rembracket\" id=\"rembracket\" title=\"".toCharArray();
    _jsp_string34 = "\");\r\n							}\r\n						}else{\r\n							try{\r\n								window.top.Dialog.alert(\"".toCharArray();
    _jsp_string146 = "\";\r\n	} else {\r\n		desc = \"(\" + desc + \")\";\r\n	}\r\n		$(\"#ruledesc\").html(desc);\r\n		$(\"#ruledesc\").show();\r\n		var hgt = $(\"#ruledesc\").height();\r\n		$(\"#ruledescBtn_btn\").removeClass(\"operbtn_up\");\r\n		$(\"#ruledescBtn_btn\").addClass(\"operbtn_down\");\r\n		$(\"#ruledescBtn\").css(\"bottom\", hgt + 8 + 50);\r\n	} else {\r\n		$(\"#ruledesc\").hide();\r\n		$(\"#ruledescBtn_btn\").removeClass(\"operbtn_down\");\r\n		$(\"#ruledescBtn_btn\").addClass(\"operbtn_up\");\r\n		$(\"#ruledescBtn\").css(\"bottom\", 50);\r\n	}\r\n	descisshow = !descisshow;\r\n}\r\n\r\n//\u83b7\u53d6expressions\u5143\u7d20\u7684desc\r\nfunction expressionsToString(expressions) {\r\n    var result = \"\";\r\n    var relationship = expressions.attr(\"relation\");\r\n    var relationDesc = \"&nbsp;AND&nbsp;\";\r\n    if (relationship == '0') {\r\n        relationDesc = \"&nbsp;OR&nbsp;\";\r\n    }\r\n    //\u7ee7\u7eed\u67e5\u627eexpressions\r\n    var children = expressions.children();\r\n    for (var i = 0; i < children.length; i++) {\r\n        if (i != 0) {\r\n            result += relationDesc;\r\n        }\r\n        var childnum = children.length;\r\n        if ($(children[i]).attr(\"type\") == \"expressions\") {\r\n        	if(childnum>1)\r\n        		result += \"(\" + expressionsToString($(children[i])) + \")\";\r\n        	else if(childnum==1)\r\n        		result += \"\" + expressionsToString($(children[i])) + \"\";\r\n            continue;\r\n        } \r\n        var key = $(children[i]).attr(\"expindex\");\r\n        if(childnum>1)\r\n        	result += \"(\" + $(\"span[key=\" + key + \"]\").html().replace(\"&nbsp;\", \" \") + \")\";\r\n        else if(childnum==1)\r\n        	result += \"\" + $(\"span[key=\" + key + \"]\").html().replace(\"&nbsp;\", \" \") + \"\";\r\n    }\r\n    return result;\r\n};\r\n\r\n//\u4fdd\u5b58\r\nfunction onSave(flag){\r\n	var conditiontype = jQuery(\"#conditiontype\").val();\r\n	if(conditiontype==2){\r\n		if ($(\"#conditionsqlText\").val()==\"\") {\r\n			top.Dialog.alert('".toCharArray();
    _jsp_string83 = "\"/>\r\n		<input type=\"hidden\" id=\"ismodified\" name=\"ismodified\"  value=\"0\"/>\r\n    	\r\n		<div id=\"header\" style=\"background:#f0f2f5;\">\r\n			<div class=\"headblock\" style=\"width:100%;background:#f0f2f5;\">\r\n				<table style=\"width:100%\" >\r\n					<colgroup>\r\n			    		<col style=\"width: 160px;\" />\r\n						<col style=\"width: *\" />\r\n			    	</colgroup>\r\n					<tr>\r\n						<td>\r\n							<table  style=\"border-collapse: separate;border-spacing:0px;\">\r\n								<colgroup>\r\n						    		<col style=\"width: 60px;\" />\r\n						    		<col style=\"width: 110px\" />\r\n						    	</colgroup>\r\n		        				<TR >\r\n		        					<td>\r\n		        						".toCharArray();
    _jsp_string41 = "\";\r\n   if(!confirm(str)){\r\n       return false;\r\n   }\r\n       return true;\r\n   } \r\n\r\n///*\u00e6\u00b5\u0081\u00e7\u00a8\u008b\u00e9\u0087\u008c\u00e9\u009d\u00a2\u00e4\u00bd\u00bf\u00e7\u0094\u00a8\u00ef\u00bc\u008c\u00e4\u00b8\u00bb\u00e8\u00a6\u0081\u00e6\u0098\u00af\u00e5\u009b\u00a0\u00e4\u00b8\u00ba\u00e6\u00b5\u0081\u00e7\u00a8\u008b\u00e5\u0086\u0085\u00e5\u00ae\u00b9\u00e6\u0094\u00be\u00e5\u0088\u00b0iframe\u00e9\u0087\u008c\u00e9\u009d\u00a2\u00ef\u00bc\u008c\u00e9\u0080\u009a\u00e8\u00bf\u0087response\u00e8\u00bf\u0094\u00e5\u009b\u009e\u00e7\u009a\u0084\u00e6\u0097\u00b6\u00e5\u0080\u0099\u00ef\u00bc\u008c\u00e8\u00a6\u0081\u00e8\u00bf\u0094\u00e5\u009b\u009e\u00e7\u009a\u0084\u00e5\u0088\u00b0\u00e5\u0085\u00b6\u00e7\u0088\u00b6\u00e7\u00aa\u0097\u00e5\u008f\u00a3*/\r\nfunction wfforward(wfurl){\r\n	parent.location.href = wfurl;\r\n}\r\n\r\nfunction myescapecode(str)\r\n{\r\n	return encodeURIComponent(str);\r\n}\r\n</script>\r\n\r\n\r\n\r\n<meta http-equiv=Content-Type content=\"text/html; charset=UTF-8\">\r\n<script language=JavaScript> \r\n  var companyname = \"".toCharArray();
    _jsp_string80 = "\"/>\r\n		<input type=\"hidden\" id=\"rightid\" value=\"".toCharArray();
    _jsp_string72 = "\";\r\n   	var weaverSplit = \"||~WEAVERSPLIT~||\";	//\u5207\u5272\u7b26\r\n	var splitstr = \"-;-\";\r\n   	var over_rulesrc = \"\";\r\n   	var BROWSER_MAPPING = {\r\n   		'1':'17',\r\n   		'17':'1',\r\n   		'165':'166',\r\n   		'166':'165',\r\n   		'4':'57',\r\n   		'57':'4',\r\n   		'167':'168',\r\n   		'168':'167',\r\n   		'164':'194',\r\n   		'194':'164',\r\n   		'169':'170',\r\n   		'170':'169',\r\n   		'7':'18',\r\n   		'18':'7',\r\n   		'9':'37',\r\n   		'37':'9',\r\n   		'8':'135',\r\n   		'135':'8',\r\n   		'16':'152',\r\n   		'152':'16',\r\n   		'161':'162',\r\n   		'162':'161'\r\n   	};\r\n\r\n    jQuery(function () {\r\n	\r\n		jQuery(\".zd_btn_submit\").hover(function(){\r\n			jQuery(this).addClass(\"zd_btn_submit_hover\");\r\n		},function(){\r\n			jQuery(this).removeClass(\"zd_btn_submit_hover\");\r\n		});\r\n		\r\n		jQuery(\".zd_btn_cancle\").hover(function(){\r\n			jQuery(this).addClass(\"zd_btn_cancleHover\");\r\n		},function(){\r\n			jQuery(this).removeClass(\"zd_btn_cancleHover\");\r\n		});\r\n		\r\n	});	\r\n\r\n	function getajaxurl(targetid){\r\n		\r\n	}\r\n\r\n	\r\n	\r\n    function paramChangeForRList(){\r\n    	\r\n    }\r\n\r\n	//\u5b57\u6bb5\u9009\u62e9\u540e\u7684\u56de\u8c03\u51fd\u6570 selectfiled\r\n	function callbackMeth(evt,data,name,paras,tg){\r\n		\r\n	}\r\n	//\u5b57\u6bb5\u9009\u62e9\u540e\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u62bd\u51fa\u7684\u65b9\u6cd5\uff0c \u9690\u85cf/\u663e\u793avaluespan \u4e2d\u7684Element\r\n	function showValueSpan(parentObj,htmltype,type,selectval){\r\n		\r\n	}\r\n\r\n	function isSingle(type) {\r\n		\r\n	}\r\n\r\n	//\u6e05\u7a7a value span \u4e2d browser \u7684\u503c\r\n	function clearAllElementvalue(parentObj){\r\n		\r\n	}\r\n	\r\n	//\u9690\u85cf value span\u4e2d\u7684Element\r\n	function hideAllValueSpan(parentObj){\r\n		\r\n	}\r\n	\r\n	//\uff08\u5355/\u591a\uff09\u4eba\u529b\u8d44\u6e90 \u5b89\u5168\u7ea7\u522b\u548c\u5177\u4f53\u4eba\u5458\u5207\u6362\r\n	function setType4hrm(obj){\r\n		\r\n	}\r\n\r\n	function getBrowservalueUrl(obj){\r\n		\r\n	}\r\n\r\n    \r\n    //\u83b7\u53d6\u8868\u8fbe\u5f0f\u5f53\u524dindex\r\n    var getExpIndex = function () {\r\n        var expIndex = parseInt($(\"#expindex\").val());\r\n        $(\"#expindex\").val(expIndex + 1);\r\n        return expIndex;\r\n    };\r\n    \r\n    //\u83b7\u53d6\u8868\u8fbe\u5f0f\u5f53\u524dindex\r\n    var getRlIndex = function () {\r\n        var rlindex = parseInt($(\"#rlindex\").val());\r\n        $(\"#rlindex\").val(rlindex + 1);\r\n        return rlindex;\r\n    };\r\n    \r\n    //\u9009\u4e2d\u5df2\u8ffd\u52a0\u7684\u6761\u4ef6\uff0c\u4ee5\u4fbf\u540e\u7eed\u64cd\u4f5c\r\n    function switchSelected(e, target) {\r\n		var e = e || window.event;\r\n		var selected = $(target).attr(\"_selected\");\r\n		\r\n		var targetisdiv = $(target).is(\"div\");\r\n		\r\n		var selectedElements = $(\"[_selected=true]\");\r\n		if (selectedElements.length > 0) {\r\n			for (var k=0; k<selectedElements.length; k++) {\r\n				var sltElement = selectedElements[k];\r\n				if ($(target).parent().parent()[0] != $(sltElement).parent().parent()[0]) {\r\n					selectedElements.attr(\"_selected\", \"false\");\r\n					selectedElements.removeClass(\"spanselected\");\r\n					break ;\r\n				}\r\n			}\r\n		}\r\n		\r\n		if (selected != \"true\") {\r\n			$(target).attr(\"_selected\", \"true\");\r\n			$(target).addClass(\"spanselected\");\r\n		} else {\r\n			$(target).attr(\"_selected\", \"false\");\r\n			$(target).removeClass(\"spanselected\");\r\n		}\r\n		stopBubble(e);\r\n	}\r\n	//\u963b\u6b62\u4e8b\u4ef6\u5192\u6ce1\u51fd\u6570\r\n	function stopBubble(e) {\r\n	    if (e && e.stopPropagation)\r\n	        e.stopPropagation()\r\n	    else\r\n	        window.event.cancelBubble=true\r\n	}\r\n	\r\n	//\u5220\u9664\u5df2\u6709\u5e76\u9009\u4e2d\u7684\u6761\u4ef6\r\n	function delParam()\r\n	{\r\n		if ($(\"[_selected=true]\").length > 0) {\r\n			top.Dialog.confirm('".toCharArray();
    _jsp_string145 = "\";\r\n	} else {\r\n		sqlStr = ReplaceAll(sqlStr,\"$#0#$\", \">\");\r\n		sqlStr = ReplaceAll(sqlStr,\"$#1#$\", \">=\");\r\n		sqlStr = ReplaceAll(sqlStr,\"$#2#$\", \"<\");\r\n		sqlStr = ReplaceAll(sqlStr,\"$#3#$\", \"<=\");\r\n		sqlStr = ReplaceAll(sqlStr,\"$#4#$\", \"=\");\r\n		sqlStr = ReplaceAll(sqlStr,\"$#5#$\", \"!=\");\r\n		sqlStr = ReplaceAll(sqlStr,\"$#100#$\", \"like\");\r\n		\r\n		sqlStr = \"(\" + sqlStr + \")\";\r\n	}\r\n		$(\"#ruledesc\").html(sqlStr);\r\n		$(\"#ruledesc\").show();\r\n		var hgt = $(\"#ruledesc\").height();\r\n		$(\"#ruledescBtn_btn\").removeClass(\"operbtn_up\");\r\n		$(\"#ruledescBtn_btn\").addClass(\"operbtn_down\");\r\n		$(\"#ruledescBtn\").css(\"bottom\", hgt + 8 + 50);\r\n	} else {\r\n		$(\"#ruledesc\").hide();\r\n		$(\"#ruledescBtn_btn\").removeClass(\"operbtn_down\");\r\n		$(\"#ruledescBtn_btn\").addClass(\"operbtn_up\");\r\n		$(\"#ruledescBtn\").css(\"bottom\", 50);\r\n	}\r\n	sqlisshow = !sqlisshow;\r\n}\r\n\r\nfunction ReplaceAll(str, sptr, sptr1){\r\n        while (str.indexOf(sptr) >= 0){\r\n           str = str.replace(sptr, sptr1);\r\n        }\r\n        return str;\r\n}\r\n\r\nvar descisshow = false;\r\nfunction showDesc() {\r\n	if (!descisshow) {\r\n	var desc = expressionsToString($(\"#mainExpression\"));\r\n	if (desc == null || desc == \"\") {\r\n		desc = \"".toCharArray();
    _jsp_string137 = "\";//\u8bf7\u9009\u62e9\r\n	dialog.Width = 550 ;\r\n	if(url.indexOf(\"/MutiResourceBrowser.jsp\")!=-1){ \r\n		dialog.Width=648; \r\n	}\r\n	dialog.Height = 600;\r\n	dialog.Drag = true;\r\n	dialog.show();\r\n\r\n}\r\n\r\n\r\nfunction onShowBrowserCustomNew2(baseTR,name, url, type1) {\r\n	var obj = baseTR.find(\"[name=\"+name+\"]\");\r\n	var objSpan = baseTR.find(\"[name=\"+name+\"Span]\");\r\n	\r\n	var dialogurl = url;\r\n	var dialog = new window.top.Dialog();\r\n	dialog.currentWindow = window;\r\n	dialog.URL = dialogurl;\r\n	dialog.callbackfun = function (paramobj, myid) {\r\n		if (myid != null) {\r\n            if (wuiUtil.getJsonValueByIndex(myid,0) != \"\") {\r\n            	var ids = wuiUtil.getJsonValueByIndex(myid,0);\r\n				var names = wuiUtil.getJsonValueByIndex(myid, 1);\r\n				\r\n				if(type1==161){\r\n	            	var href = \"\";\r\n					if(myid.href&&myid.href!=\"\"){\r\n						href = myid.href+ids;\r\n					}else{\r\n						href = \"javascript:void(0);\";\r\n					}\r\n					var sHtml = names;\r\n                    obj.val(ids);\r\n                    objSpan.html(sHtml);\r\n                    \r\n				}else{\r\n	                if (wuiUtil.getJsonValueByIndex(myid,0).substr(0,1)==\",\") {\r\n	                    obj.val(wuiUtil.getJsonValueByIndex(myid,0).substr(1));\r\n	                    objSpan.html(wuiUtil.getJsonValueByIndex(myid,1).substr(1));\r\n	                }else{\r\n	                    obj.val(wuiUtil.getJsonValueByIndex(myid,0));\r\n	                    objSpan.html(wuiUtil.getJsonValueByIndex(myid,1));\r\n	                }\r\n				}\r\n				\r\n            }else{\r\n                obj.val(\"\");\r\n                objSpan.html(\"\");\r\n            }\r\n             objSpan.html(objSpan.text());\r\n	}\r\n		\r\n	   \r\n	};\r\n	\r\n	dialog.Title = \"".toCharArray();
    _jsp_string102 = "</option> 			<!-- \u5927\u4e8e\u6216\u7b49\u4e8e -->\r\n										<option value=\"2\">".toCharArray();
    _jsp_string81 = "\"/>\r\n		<input type=\"hidden\" id=\"conditiontext\" name=\"conditiontext\"  value=\"\"/>\r\n		<input type=\"hidden\" id=\"conditionsql\" name=\"conditionsql\"  value=\"\"/>\r\n		<input type=\"hidden\" id=\"expindex\" name=\"expindex\"  value=\"".toCharArray();
    _jsp_string76 = "\", function() {\r\n    			_doClean();\r\n    		});\r\n    	} else {\r\n    		_doClean();\r\n    	}\r\n    };\r\n\r\n    function relatmouseover(obj)\r\n    {\r\n    	if($(obj).find(\"select\").length==0)\r\n    		$(obj).addClass(\"varticalblockborder\");\r\n    }\r\n    \r\n    function relatmouseout(obj)\r\n    {\r\n    	$(obj).removeClass(\"varticalblockborder\");\r\n    }\r\n    \r\n    //\u6dfb\u52a0\u6761\u4ef6 (0:\u6216/1\uff1a\u4e0e)\r\n    var addbracket = function (relationship) {\r\n        var relationDesc = \"&nbsp;AND&nbsp;\";\r\n        if (relationship == 0) {\r\n            relationDesc = \"&nbsp;OR&nbsp;\";\r\n        }\r\n        var checkboxarray = [];\r\n        $(\"[_selected=true]\").each(function () {\r\n            checkboxarray.push($(this));\r\n        });\r\n        var childsum = $(\"[_selected=true]\").closest(\".relationblock\").children(\".relationItem\").length;\r\n		var selectsum = checkboxarray.length;\r\n		\r\n		if($(\"[_selected=true]\").is(\".relationblock\"))\r\n			childsum = $(\"[_selected=true]\").parent(\".relationItem\").closest(\".relationblock\").children(\".relationItem\").length;\r\n		if(childsum == selectsum)\r\n		{\r\n			if (selectsum > 0) {\r\n				window.top.Dialog.alert(\"".toCharArray();
    _jsp_string125 = "&#10;' id=\"remind\">\r\n								<img align=\"absMiddle\" src=\"/images/remind_wev8.png\">\r\n							</span>\r\n            				".toCharArray();
    _jsp_string25 = "';\r\n	   \r\n	    			return false;\r\n	    		}\r\n	    		flag_msg += '\\r\\n\\r\\n".toCharArray();
    _jsp_string9 = "\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/jquery.min_wev8.js\"></script>\r\n".toCharArray();
    _jsp_string65 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string42 = "\";\r\n  var str1 = \"".toCharArray();
    _jsp_string82 = "\"/>\r\n		<input type=\"hidden\" id=\"rlindex\" name=\"rlindex\"  value=\"".toCharArray();
    _jsp_string7 = "\",function(){\r\n	window.top.location=\"/login/Login.jsp\";\r\n});\r\n</script>\r\n".toCharArray();
    _jsp_string33 = "\");\r\n							}catch(e){\r\n								Dialog.alert(\"".toCharArray();
    _jsp_string45 = ";\r\nusbusercode0 = ".toCharArray();
    _jsp_string30 = "\r\n	}\r\n	catch(e) {\r\n		return check_conn();\r\n	}\r\n	if(!isconn)\r\n		return check_conn();\r\n    /* end by cyril on 2008-08-14 for td:8521 */\r\n	\r\n	thiswin = thiswins\r\n	items = \",\"+items + \",\";\r\n	\r\n	var tempfieldvlaue1 = \"\";\r\n	try{\r\n		tempfieldvlaue1 = document.getElementById(\"htmlfieldids\").value;\r\n	}catch (e) {\r\n	}\r\n\r\n	for(i=1;i<=thiswin.length;i++){\r\n		tmpname = thiswin.elements[i-1].name;\r\n		tmpvalue = thiswin.elements[i-1].value;\r\n	    if(tmpvalue==null){\r\n	        continue;\r\n	    }\r\n\r\n		if(tmpname!=\"\" && items.indexOf(\",\"+tmpname+\",\")!=-1){		\r\n			var __fieldhtmltype = jQuery(\"input[name=\" + tmpname + \"]\").attr(\"__fieldhtmltype\");\r\n		    if (__fieldhtmltype == '9') {\r\n		        continue;\r\n		    }\r\n		\r\n			var href = location.href;\r\n			if(href && href.indexOf(\"Ext.jsp\")!=-1){\r\n				window.__oriAlert__ = true;\r\n			}\r\n			if(tempfieldvlaue1.indexOf(tmpname+\";\") == -1){\r\n				while(tmpvalue.indexOf(\" \") >= 0){\r\n					tmpvalue = tmpvalue.replace(\" \", \"\");\r\n				}\r\n				while(tmpvalue.indexOf(\"\\r\\n\") >= 0){\r\n					tmpvalue = tmpvalue.replace(\"\\r\\n\", \"\");\r\n				}\r\n\r\n				if(tmpvalue == \"\"){\r\n					if(thiswin.elements[i-1].getAttribute(\"temptitle\")!=null && thiswin.elements[i-1].getAttribute(\"temptitle\")!=\"\"){\r\n						if(window.__oriAlert__){\r\n							window.top.Dialog.alert(\"\\\"\"+thiswin.elements[i-1].getAttribute(\"temptitle\")+\"\\\"\"+\"".toCharArray();
    _jsp_string74 = "&modeid=".toCharArray();
    _jsp_string118 = "\r\n                    ".toCharArray();
    _jsp_string3 = "\r\n	<script language=\"javascript\">\r\n		window.top.Dialog.alert(\"".toCharArray();
    _jsp_string0 = "\r\n\r\n<!DOCTYPE html>\r\n\r\n".toCharArray();
    _jsp_string107 = "</option>	<!-- \u7b49\u4e8e -->\r\n				                    </select>\r\n				            	</span>\r\n			            	</td> \r\n			               	\r\n			        		<td class=\"td_3\">\r\n			        			<span class=\"valueSpan\" name=\"valueSpan1\" style=\"display:none;\"><!-- \u5355\u884c\u6587\u672c\u8f93\u5165\u6846 -->\r\n			                    	<span name=\"textSpan1\" style=\"padding-left:0px;\">\r\n			                    		<input type=\"text\" name=\"textvalue1\" style=\"width:100px\">\r\n			                    	</span>\r\n			        			</span>\r\n			        			<span class=\"valueSpan\" name=\"valueSpan2\" style=\"display:none;\"><!-- \u65e5\u671f\u63a7\u4ef6 -->\r\n			                    	<span name=\"textSpan2\" style=\"padding-left:0px;\">\r\n			                    		<input type=\"text\" name=\"textvalue2\" onclick=\"WdatePicker()\" style=\"width:100px\">\r\n			                    	</span>\r\n			        			</span>\r\n			        			<span class=\"valueSpan\" name=\"valueSpan3\" style=\"display:none;\"><!-- \u65f6\u95f4\u63a7\u4ef6 -->\r\n			                    	<span name=\"textSpan3\" style=\"padding-left:0px;\">\r\n			                    		<input type=\"text\" name=\"textvalue3\" onclick=\"WdatePicker({dateFmt:'HH:mm'})\" style=\"width:100px\">\r\n			                    	</span>\r\n			        			</span>\r\n			        			<span class=\"valueSpan\" name=\"valueSpan4\" style=\"display:none;\"><!--  \u6d4f\u89c8\u6846\u63a7\u4ef6 -->\r\n			                    	<span name=\"textSpan4\" style=\"padding-left:0px;\">\r\n			                    		<input  type=\"hidden\"  name=\"textvalue4\" style=\"width:100px\">\r\n			                    		<button name=\"fieldBrowser\" class=\"Browser\" onclick=\"showPreDBrowser(this);\"  type=\"button\"></button>\r\n			                    		<span  name=\"textvalue4Span\" ></span>\r\n			                    	</span>\r\n			        			</span>\r\n			        			\r\n			        			<span class=\"valueSpan\" name=\"valueSpan5\" style=\"display:none;\"><!-- select\u6846\u63a7\u4ef6 -->\r\n			                    	<span name=\"textSpan5\" style=\"padding-left:0px;\">\r\n			                    		<select type=\"text\" name=\"textvalue5\" style=\"min-width:100px;max-width:200px\">\r\n			                    			\r\n			                    		</select>\r\n			                    	</span>\r\n			        			</span>\r\n			        			\r\n			        			<span class=\"valueSpan\" name=\"valueSpan6\" style=\"display:none;\"><!-- checkbox\u6846\u63a7\u4ef6 -->\r\n			                    	<span name=\"textSpan6\" style=\"padding-left:0px;\">\r\n			                    		<select type=\"text\" name=\"textvalue6\" style=\"width:100px\">\r\n			                    			<option value=\"0\" >0</option>\r\n			                    			<option value=\"1\">1</option>\r\n			                    			<option value=\"null\">null</option>\r\n			                    		</select>\r\n			                    	</span>\r\n			        			</span>\r\n        					</td>\r\n        					<td class=\"td_4\" >\r\n        						<span name=\"editoperatorSpan\" style=\"display:none;\" class=\"editspan\">\r\n        							<input type=\"button\" class=\"operbtn operbtn_ok\" name=\"editOk\" id=\"editOk\" title=\"".toCharArray();
    _jsp_string90 = " <!-- \u76ee\u6807\u5b57\u6bb5 -->\r\n                    		<select class=inputstyle  style=\"width:120px;\" name=\"targetFieldid\"  title=\"".toCharArray();
    _jsp_string147 = "');\r\n			return;\r\n		}\r\n	}else{\r\n		\r\n		if ($(\"[name=child]\").length==0) {\r\n			top.Dialog.alert('".toCharArray();
    _jsp_string144 = "' \";\r\n     result += \">\";\r\n     result += \"</expression>\";\r\n     \r\n     return result;\r\n};\r\n\r\nfunction getSql(){\r\n	var sql = getSqlStr($(\"#mainExpression\"));\r\n	if(sql!=\"\"){\r\n		sql = \"(\"+sql+\")\";\r\n	}\r\n	jQuery(\"#conditionsql\").val(sql);\r\n}\r\n\r\nfunction getDesc(){\r\n	var desc = expressionsToString($(\"#mainExpression\"));\r\n	if(desc!=\"\"){\r\n		desc = \"(\"+desc+\")\";\r\n	}\r\n	jQuery(\"#conditiontext\").val(desc);\r\n}\r\n\r\nfunction getSqlStr(expressions) {\r\n	var result = \"\";\r\n    var relationship = expressions.attr(\"relation\");\r\n    var relation = \" AND \";\r\n    if (relationship == '0') {\r\n        relation = \" OR \";\r\n    }\r\n    //\u7ee7\u7eed\u67e5\u627eexpressions\r\n    var children = expressions.children();\r\n    for (var i = 0; i < children.length; i++) {\r\n        if (i != 0) {\r\n            result += relation;\r\n        }\r\n        var childnum = children.length;\r\n        if ($(children[i]).attr(\"type\") == \"expressions\") {\r\n        	if(childnum>1){\r\n        		result += \"(\" + getSqlStr($(children[i])) + \")\";\r\n        	}else if(childnum==1){\r\n        		result += \"\" + getSqlStr($(children[i])) + \"\";\r\n        	}\r\n            continue;\r\n        } \r\n        var key = $(children[i]).attr(\"expindex\");\r\n        var value = $(children[i]).val();\r\n        var areaJson = jQuery.parseJSON(value);\r\n        \r\n        var fieldname = areaJson.fieldname;\r\n        var compareoption = areaJson.compareoption;\r\n        var fieldvalue = areaJson.fieldvalue;\r\n        var htmltype = areaJson.htmltype;\r\n        var fieldtype = areaJson.fieldtype;\r\n        \r\n        var relationAndVal = \"\";\r\n        if(fieldvalue==\"null\"&&(htmltype==5||htmltype==4)){//select\u6216\u8005checkbox \u6846\u4e3anull\r\n        	if(compareoption==4){//\u7b49\u4e8e\r\n        		relationAndVal = \" is null \";\r\n        	}else{//\u4e0d\u7b49\u4e8e\r\n        		relationAndVal = \" is not null \";\r\n        	}\r\n        }else{\r\n        	if(compareoption==6){//\u5305\u542b\r\n        		relationAndVal = \" like \"+\"'%\"+fieldvalue+\"%'\";\r\n        	}else if(compareoption==7){//\u4e0d\u5305\u542b\r\n        		relationAndVal = \" not like '%\"+fieldvalue+\"%'\";\r\n        	}else {\r\n        		var isneedf = true;\r\n		        if(htmltype==4){//checkbox\r\n		        	isneedf = false;\r\n		        }else if(htmltype==1&&(fieldtype==2||fieldtype==3)){//\u6574\u6570\u6d6e\u70b9\u6570\r\n		        	isneedf = false;\r\n		        }else if(htmltype==5){//select\u6846\r\n		        	isneedf = false;\r\n		        }\r\n	        \r\n        		if(isneedf){\r\n		        	relationAndVal = \" $#\"+compareoption+\"#$ '\"+fieldvalue+\"'\";\r\n        		}else{\r\n		        	relationAndVal = \" $#\"+compareoption+\"#$ \"+fieldvalue;\r\n        		}\r\n        	}\r\n        }\r\n        if(childnum>1)\r\n        	result += \"( \" + fieldname+relationAndVal+ \" )\";\r\n        else if(childnum==1)\r\n        	result += \"\" + fieldname+relationAndVal + \"\";\r\n    }\r\n    return result;\r\n}\r\n  \r\nvar sqlisshow = false;\r\nfunction showSql() {\r\n	if (!sqlisshow) {\r\n		var sqlStr = getSqlStr($(\"#mainExpression\"));\r\n            \r\n	if (sqlStr == null || sqlStr == \"\") {\r\n		sqlStr = \"".toCharArray();
    _jsp_string13 = "_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/messagejs/highslide/highslide-full_wev8.js\"></script>\r\n<script type=\"text/javascript\">\r\n    hs.graphicsDir = '/js/messagejs/highslide/graphics/';\r\n    hs.align = 'center';\r\n    hs.transitions = ['expand', 'crossfade'];\r\n    hs.outlineType = 'rounded-white';\r\n    hs.fadeInOut = true;\r\n</script>\r\n<!-- init.css, \u00e6\u0089\u0080\u00e6\u009c\u0089css\u00e6\u0096\u0087\u00e4\u00bb\u00b6\u00e9\u0083\u00bd\u00e5\u009c\u00a8\u00e6\u00ad\u00a4\u00e6\u0096\u0087\u00e4\u00bb\u00b6\u00e4\u00b8\u00ad\u00e5\u00bc\u0095\u00e5\u0085\u00a5 -->\r\n<link rel=\"stylesheet\" href=\"/css/init_wev8.css\" type=\"text/css\" />\r\n\r\n\r\n<script language=javascript>\r\nwindow[\"_jsessionid\"] = \"".toCharArray();
    _jsp_string101 = "</option>			<!-- \u5927\u4e8e -->\r\n										<option value=\"1\">".toCharArray();
    _jsp_string112 = "\" onclick=\"addbracket(0)\" value=\" \">\r\n	                    <span style=\"display:inline-block;width:16px\"></span>\r\n	                    <input type=\"button\" class=\"operbtn operbtn_joinand\" name=\"addandrelation\" id=\"addandrelation\" title=\"".toCharArray();
    _jsp_string73 = "', function(){\r\n				$(\"[_selected=true]\").each(function () {\r\n		    		var trgelement = null;\r\n		    		var key = $(this).attr(\"key\");\r\n		           	if ($(this).is(\"span\")) {\r\n						trgelement = $(\"input[name=child][expindex=\" + key + \"]\");\r\n		           	} else {\r\n		           		trgelement = $(\"div[rotindex=\" + key + \"]\");\r\n		           	}\r\n		           	//\u5982\u679c\u53ea\u6709\u4e24\u4e2a\uff0c\u5219\u5220\u9664\u5173\u7cfb\r\n		    		if ($(this).parent().parent().children(\".relationItem\").length == 2) {\r\n		    		}\r\n		    		$(this).parent().remove();\r\n		    		\r\n		    		trgelement.remove();\r\n		    		\r\n		        });\r\n		        $(\"#paramtable input[name='paramcheckbox']\").each(function () {\r\n		            if ($(this).attr(\"checked\"))\r\n		                $(this).parent().parent().remove();\r\n		        });\r\n		        if (jQuery(\"div.relationItem span\").length == 0) {\r\n		        	jQuery(\"#mainBlock\").hide();\r\n		        }\r\n			});\r\n		}\r\n		changeModified();\r\n	}\r\n\r\n	 //\u6e05\u7a7a\r\n    function onClean() {\r\n    	var _doClean = function () {\r\n    		jQuery.ajax({\r\n    			type:\"POST\",\r\n    			url:\"/formmode/interfaces/ExpandRightConditionOperation.jsp?action=cleanCondition\",\r\n    			dataType:\"json\",\r\n    			data:\"rightid=".toCharArray();
    _jsp_string111 = "\" onclick=\"delParam()\" value=\" \">\r\n	                    <span style=\"display:inline-block;width:16px\"></span>\r\n	                    <input type=\"button\" class=\"operbtn operbtn_joinor\" name=\"addorrelation\" id=\"addorrelation\" title=\"".toCharArray();
    _jsp_string52 = "\r\n\r\n\r\n<!--For wui-->\r\n".toCharArray();
    _jsp_string24 = "';\r\n	    		}\r\n	    		//\u00e4\u00b8\u00bb\u00e4\u00bb\u008e\u00e5\u00b8\u0090\u00e6\u0088\u00b7\u00e7\u0089\u00b9\u00e6\u00ae\u008a\u00e5\u00a4\u0084\u00e7\u0090\u0086 by alan for TD10156\r\n	    		if(response_flag=='3') {\r\n	    			flag_msg = '".toCharArray();
    _jsp_string47 = "\";\r\nusblanguage = \"".toCharArray();
    _jsp_string55 = "/skins/".toCharArray();
    _jsp_string75 = "\",\r\n    			success:function(data){\r\n    				if(data){\r\n    					var rightid = data.rightid;\r\n    					if(rightid&&rightid>0){\r\n    						if(dialog){\r\n	    						var currentWindow = dialog.currentWindow;\r\n	    						// currentWindow.location.href = currentWindow.location.href;\r\n	    						currentWindow.location.reload();\r\n								dialog.close();\r\n    						}\r\n    					}\r\n    				}\r\n    			}\r\n    			\r\n    		});\r\n    		//$(\"#mainBlock\").html(\"\").css(\"display\",\"none\");\r\n	    	//$(\"#mainExpression\").html(\"\");\r\n	    	//$(\"#mainBlock\").html(\"<div class='verticalblock' onmouseover='relatmouseover(this)' title='\u53cc\u51fb\u7f16\u8f91' onmouseout='relatmouseout(this)' ondblclick='switchRelationEditMode(event,this)'>&nbsp;AND&nbsp;</div><div class='relationStyle outermoststyle' ><div class='relationStyleTop'></div><div class='relationStyleCenter'></div><div class='relationStyleBottom'></div></div>\");\r\n    	};\r\n    	if (!!$(\"#mainExpression\").html()) {\r\n    		top.Dialog.confirm(\"".toCharArray();
    _jsp_string26 = "';\r\n	        	//alert(xmlhttp.responseText);\r\n	        	return confirm(flag_msg);\r\n	        }\r\n	    }\r\n	    xmlhttp = null;\r\n\r\n	  	//\u00e6\u00a3\u0080\u00e6\u009f\u00a5\u00e5\u00a4\u009a\u00e8\u00a1\u008c\u00e6\u0096\u0087\u00e6\u009c\u00ac\u00e6\u00a1\u0086 oracle\u00e4\u00b8\u008b\u00e6\u00a3\u0080\u00e6\u009f\u00a5HTML\u00e4\u00b8\u008d\u00e8\u0083\u00bd\u00e8\u00b6\u0085\u00e8\u00bf\u00874000\u00e4\u00b8\u00aa\u00e5\u00ad\u0097\u00e7\u00ac\u00a6\r\n	    ".toCharArray();
    _jsp_string94 = "</option>\r\n								 ".toCharArray();
    _jsp_string37 = "\", function () {\r\n								formElementFocus(tempElement);\r\n							});\r\n							\r\n						}\r\n						return false;\r\n					}else{\r\n						if(window.__oriAlert__){\r\n							window.top.Dialog.alert(\"".toCharArray();
    _jsp_string15 = "\\r\\n\\r\\n".toCharArray();
    _jsp_string66 = "\r\n<html>\r\n    <head>\r\n        <base href=\"".toCharArray();
    _jsp_string105 = "</option> 			<!-- \u4e0d\u7b49\u4e8e -->\r\n				                    </select>\r\n				            	</span>\r\n				            	\r\n				            	<span class=\"compareSpan\" name=\"compareSpan3\" style=\"padding-right:2px;display: none;\">\r\n				                    <select name=\"compareoption3\"  style=\"float:left;width: 80px;\">\r\n			                        	<option value=\"4\" selected>".toCharArray();
    _jsp_string143 = "\";\r\n		window.top.Dialog.alert(msg);\r\n		return;\r\n	}  \r\n    \r\n    var hiddenarea = getValue4Obj(parentObj,array);\r\n   	\r\n   	var hiddenareastr = JSON.stringify(hiddenarea)\r\n   	children.val(hiddenareastr);\r\n   	var displayspan = showDisplaySpan(hiddenarea);\r\n   	displaySpan.html(displayspan);\r\n   	editBlock.remove();\r\n	displaySpan.show();\r\n   	\r\n}\r\n\r\n//\u83b7\u53d6expressions\u5143\u7d20\u7684json\r\nvar getExpItemsXmlString = function (expressions) {\r\n    //\u8868\u8fbe\u5f0f\u5173\u7cfb\r\n    var relationship = parseInt(expressions.attr(\"relation\"));\r\n    var result = \"<div relation='\" + relationship + \"'>\";\r\n    \r\n    //\u7ee7\u7eed\u67e5\u627eexpressions\r\n    var children = expressions.children();\r\n    for (var i = 0; i < children.length; i++) {\r\n        if ($(children[i]).attr(\"type\") == \"expressions\") {\r\n        	result += getExpItemsXmlString($(children[i]))\r\n            continue;\r\n        } \r\n        //input \u8868\u8fbe\u5f0f\u5355\u9879xml\r\n        result += getExpItemXmlString($(children[i]));\r\n    }\r\n    \r\n    result += \"</div>\";\r\n    return result;\r\n};\r\n\r\n\r\n //\u5355\u9879\u8868\u8fbe\u5f0f\u7684json\u5b57\u7b26\u4e32\r\nvar getExpItemXmlString = function (expItem) {\r\n  var children = expItem;\r\n  if (!!!children[0]) return \"\";\r\n  var areaJson = jQuery.parseJSON(children.val());\r\n 	if(!!!areaJson.exitemid) areaJson.exitemid = -1;\r\n	var result = \"<expression id='\" + areaJson.exitemid + \"' fieldid='\" + areaJson.fieldid + \"' fieldlabel='\" + areaJson.fieldlabel + \"' \";\r\n     result += \"fieldname='\" + areaJson.fieldname + \"' \";\r\n     result += \"htmltype='\" + areaJson.htmltype + \"' \";\r\n     result += \"fieldtype='\" + areaJson.fieldtype + \"' \";\r\n     result += \"fielddbtype='\" + areaJson.fielddbtype + \"' \";\r\n     result += \"compareoption='\" + areaJson.compareoption + \"' \";\r\n     result += \"compareoptionlabel='\" + areaJson.compareoptionlabel + \"' \";\r\n     result += \"fieldvalue='\" + areaJson.fieldvalue + \"' \";\r\n     result += \"fieldtext='\" + areaJson.fieldtext + \"' \";\r\n     result += \"relationtype='\" + areaJson.relationtype + \"' \";\r\n     result += \"valetype='\" + areaJson.valetype + \"' \";\r\n     result += \"rightid='".toCharArray();
    _jsp_string140 = "\";\r\n		window.top.Dialog.alert(msg);\r\n		return;\r\n	}\r\n	\r\n	var array = targetFieldid.split(\"_&_\");\r\n	var relationtype = array[5];\r\n	var valetype = array[6];\r\n	\r\n	var fieldvalue = baseTR.find(\"[name=textvalue\"+valetype+\"]\").val();\r\n	if(fieldvalue==\"\"){\r\n		msg = \"".toCharArray();
    _jsp_string115 = "\r\n			<div id=\"ruleContent\" style=\"width:100%;height:400px;overflow:auto;".toCharArray();
    _jsp_string106 = "</option> 			<!-- \u4e0d\u7b49\u4e8e -->\r\n				                    </select>\r\n				            	</span>\r\n				            	\r\n				            	<span class=\"compareSpan\" name=\"compareSpan4\" style=\"padding-right:2px;display: none;\">\r\n				                    <select name=\"compareoption4\"  style=\"float:left;width: 80px;\">\r\n			                        	<option value=\"4\" selected>".toCharArray();
    _jsp_string133 = "\r\n        urls[".toCharArray();
    _jsp_string35 = "\");\r\n							}\r\n						}\r\n						return false;\r\n					}\r\n				}\r\n			} else {\r\n				var divttt=document.createElement(\"div\");\r\n				divttt.innerHTML = tmpvalue;\r\n				var tmpvaluettt = jQuery.trim(jQuery(divttt).text());\r\n				if(tmpvaluettt == \"\"){\r\n					if(thiswin.elements[i-1].getAttribute(\"temptitle\")!=null && thiswin.elements[i-1].getAttribute(\"temptitle\")!=\"\"){\r\n						if(window.__oriAlert__){\r\n							window.top.Dialog.alert(\"\\\";\"+thiswin.elements[i-1].getAttribute(\"temptitle\")+\"\\\"\"+\"".toCharArray();
    _jsp_string4 = "\",function(){\r\n			window.top.location=\"".toCharArray();
    _jsp_string1 = "\r\n<!DOCTYPE HTML>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<html>\r\n<head>\r\n<!-- \r\n\u00e6\u00b7\u00bb\u00e5\u008a\u00a0\u00e8\u0087\u00b3init.css\r\n<style type=\"text/css\">\r\n	html{height:100%;}\r\n</style>\r\n -->\r\n".toCharArray();
    _jsp_string71 = "\";\r\n   	var levelstr = \"".toCharArray();
    _jsp_string50 = "\r\n<LINK href=\"/js/jquery/jquery_dialog_wev8.css\" type=text/css rel=STYLESHEET>\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/jquery.min_wev8.js\"></script>\r\n<script type=\"text/javascript\" language=\"javascript\" src=\"/js/jquery/jquery_dialog_wev8.js\"></script>\r\n\r\n<script src=\"/social/js/drageasy/drageasy.js\"></script>\r\n<script type=\"text/javascript\" src=\"/social/js/bootstrap/js/bootstrap.js\"></script>\r\n<script type=\"text/javascript\" src=\"/social/im/js/IMUtil_wev8.js\"></script>\r\n\r\n<script type=\"text/javascript\" src=\"/social/js/imcarousel/imcarousel.js\"></script>\r\n<script type=\"text/javascript\" language=\"javascript\">\r\nfunction ReloadOpenerByDialogClose() {\r\n    ".toCharArray();
    _jsp_string86 = "selected=\"selected\"".toCharArray();
    _jsp_string77 = "\");\r\n			}\r\n			return;\r\n		}\r\n        \r\n        var conditionstr = \"\";\r\n		if (checkboxarray.length <= 1) {\r\n			return;\r\n		}\r\n		var displayBlock = null;\r\n        var expression = null;\r\n        for (var i = 0; i < checkboxarray.length; i++) {\r\n        	//\u6e05\u9664\u9009\u4e2d\r\n        	checkboxarray[i].attr(\"_selected\", \"false\");\r\n			checkboxarray[i].removeClass(\"spanselected\");\r\n			\r\n        	var trgelement = null;\r\n            var key = checkboxarray[i].attr(\"key\");\r\n           	if (checkboxarray[i].is(\"span\")) {\r\n				trgelement = $(\"input[name=child][expindex=\" + key + \"]\");\r\n           	} else {\r\n           		trgelement = $(\"div[rotindex=\" + key + \"]\");\r\n           	}\r\n            if (i == 0) {\r\n            	var rlindex = getRlIndex();\r\n				//\u5408\u5e76\u540e\uff0c\u663e\u793a\u7684\u5173\u7cfb\u56fe\r\n				displayBlock = $(\"#displayTemplate\").children(\".relationblock\").clone();\r\n				displayBlock.attr(\"key\", rlindex);\r\n				displayBlock.attr(\"title\",\"".toCharArray();
    _jsp_string123 = "</textarea>\r\n            				<br>\r\n            				<span title='".toCharArray();
    _jsp_string23 = "\";\r\n					diag.show();\r\n			        return false;\r\n	    		}\r\n	    		else if(response_flag=='2') {\r\n	    			flag_msg = '".toCharArray();
    _jsp_string120 = "\" onmouseout=\"relatmouseout(this)\" ondblclick=\"switchRelationEditMode(event,this)\">&nbsp;AND&nbsp;</div>\r\n						<div class=\"relationStyle outermoststyle\" >\r\n							<div class=\"relationStyleTop\"></div>\r\n							<div class=\"relationStyleCenter\"></div>\r\n							<div class=\"relationStyleBottom\"></div>\r\n						</div>\r\n						\r\n					</div>\r\n					<div type='expressions' class=\"expressions\"  relation='1' id=\"mainExpression\" rotindex=\"-9\" >\r\n						\r\n					</div>\r\n					".toCharArray();
    _jsp_string116 = "\">\r\n                <div style=\"margin-top: 15px;margin-bottom: 15px;margin-left:20px;\" id=\"expressionBlock\">\r\n					 ".toCharArray();
    _jsp_string84 = "\r\n		        					</td>\r\n		        					<td >\r\n		        						<select class=inputstyle   style=\"width:80px;\" name=\"conditiontype\" id=\"conditiontype\" title=\"".toCharArray();
    _jsp_string104 = "</option> 			<!-- \u5c0f\u4e8e\u6216\u7b49\u4e8e -->\r\n			                        	<option value=\"4\" selected>".toCharArray();
    _jsp_string53 = "\r\n".toCharArray();
    _jsp_string10 = "\r\n<script language=\"javascript\" type=\"text/javascript\" src=\"/FCKEditor/swfobject_wev8.js\"></script>\r\n\r\n".toCharArray();
    _jsp_string11 = "\r\n<!-- IE\u00e4\u00b8\u008b\u00e4\u00b8\u0093\u00e7\u0094\u00a8vbs\u00ef\u00bc\u0088\u00e4\u00b8\u00b4\u00e6\u0097\u00b6\u00ef\u00bc\u0089 -->\r\n<script language=\"vbs\" src=\"/js/string2VbArray.vbs\"></script>        \r\n        ".toCharArray();
    _jsp_string49 = "\r\n\r\n<!--WUI -->\r\n".toCharArray();
    _jsp_string126 = "\r\n            				<br>\r\n            				".toCharArray();
    _jsp_string40 = "\";\r\n   if(!confirm(str)){\r\n       return false;\r\n   }\r\n       return true;\r\n } \r\n\r\nfunction issubmit(){\r\n	var str = \"".toCharArray();
    _jsp_string148 = "');\r\n			return;\r\n		}\r\n	}\r\n	if(!flag){\r\n		setTimeout(function(){\r\n			onSave(true);\r\n		},500);\r\n		return;\r\n	}\r\n	var allexprblock = $(\"#expressionBlock\").children(\".expressions\");\r\n   	\r\n   	//if (allexprblock.children().length == 0) {\r\n   	//	alert(\"\u6ca1\u6709\u4efb\u4f55\u8868\u8fbe\u5f0f, \u4e0d\u9700\u8981\u4fdd\u5b58\");\r\n   	//	return;\r\n   	//}\r\n   	var result = \"\";\r\n   	\r\n   	allexprblock.each(function (i, ele) {\r\n		var expsChildrens = $(\"#mainExpression\");\r\n		if (!!expsChildrens[0]) {\r\n			result += getExpItemsXmlString(expsChildrens);\r\n		}\r\n   	});\r\n   	result = \"<?xml version='1.0' encoding='utf-8'?>\" + result;\r\n   	//console.dir(result);\r\n   	var expression = expressionsToString($(\"#mainExpression\"));\r\n	if (expression == null || expression == \"\") {\r\n		expression = \"".toCharArray();
    _jsp_string99 = "</option>				<!-- \u5305\u542b -->\r\n			                        	<option value=\"7\">".toCharArray();
    _jsp_string135 = "\";\r\n".toCharArray();
    _jsp_string22 = "\";\r\n					//diag.InvokeElementId=\"pageOverlay\"\r\n					diag.URL = \"/wui/theme/ecology7/page/loginSmall.jsp?username=".toCharArray();
    _jsp_string12 = "\r\n<!-- js \u00e6\u0095\u00b4\u00e5\u0090\u0088\u00e5\u0088\u00b0 init_wev8.js -->\r\n<script type=\"text/javascript\" src=\"/js/jquery.table_wev8.js\"></script>\r\n<script language=\"javascript\" type=\"text/javascript\" src=\"/js/init_wev8.js\"></script>\r\n<script language=\"javascript\"  src=\"/js/wbusb_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/jquery/plugins/client/jquery.client_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/ecology8/jNice/jNice/jquery.jNice_wev8.js\"></script>\r\n<script type='text/javascript' src='/js/jquery-autocomplete/jquery.autocomplete_wev8.js'></script>\r\n<script type='text/javascript' src='/js/jquery-autocomplete/browser_wev8.js'></script>\r\n<script language=javascript src=\"/wui/theme/ecology8/jquery/js/zDialog_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/ecology8/request/hoverBtn_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/ecology8/lang/weaver_lang_".toCharArray();
    _jsp_string93 = "\" >".toCharArray();
    _jsp_string29 = "')) {\r\n				    lenck = false;\r\n				    break;\r\n			    }\r\n		    }\r\n		    if(lenck==false) return false;\r\n	    }\r\n	    catch(e) {}\r\n	    ".toCharArray();
    _jsp_string136 = "\r\n\r\njQuery(function($){\r\n	changeContitionType(1);\r\n	resizeRuleContentHeight();\r\n	var baseTR = jQuery(\".table_0\").find(\".baseTR\");\r\n	changeTargetFieldid(baseTR);\r\n});\r\n\r\n\r\nfunction resizeRuleContentHeight(){\r\n	var middle = jQuery(\"#middle\");\r\n	var ruleContent = jQuery(\"#ruleContent\");\r\n	var footer = jQuery(\"#footer\");\r\n	ruleContent.height(middle.height()-footer.height()-10);\r\n}\r\n\r\nfunction showPreDBrowser(obj){\r\n	var tableObj = jQuery(obj).closest(\"table\");\r\n	var index = tableObj.attr(\"tableIndex\");\r\n	var baseTR = tableObj.find(\".baseTR\");\r\n	var targetFieldid = baseTR.find(\"[name=targetFieldid]\").val();\r\n	var array = targetFieldid.split(\"_&_\");\r\n	var objtype = array[3];\r\n	var tempbrowsertype = array[4]\r\n	var url = urls[objtype];\r\n	 if(objtype==\"161\"||objtype==\"162\")\r\n		url = url + \"?type=\"+tempbrowsertype;\r\n	    if(objtype==\"256\"||objtype==\"257\")\r\n		url = url + \"?type=\"+tempbrowsertype+\"_\"+objtype;\r\n   	onShowBrowser(baseTR,url,objtype);\r\n}\r\n\r\nfunction onShowBrowserCustomNew(baseTR,name, url, type1) {\r\n	var obj = baseTR.find(\"[name=\"+name+\"]\");\r\n	var objSpan = baseTR.find(\"[name=\"+name+\"Span]\");\r\n	url+=\"&iscustom=1\";\r\n	if (type1 == 256|| type1==257) {\r\n		tmpids = obj.val();\r\n		url = url + \"&selectedids=\" + tmpids;\r\n	}else{\r\n		tmpids = obj.val();\r\n		url = url + \"|\" + name + \"&beanids=\" + tmpids;\r\n		url = url.substring(0, url.indexOf(\"url=\") + 4) + escape(url.substr(url.indexOf(\"url=\") + 4));\r\n	}\r\n	var dialogurl = url;\r\n	var dialog = new window.top.Dialog();\r\n	dialog.currentWindow = window;\r\n	dialog.URL = dialogurl;\r\n	dialog.callbackfun = function (paramobj, myid) {\r\n		if (myid != null) {\r\n            if (wuiUtil.getJsonValueByIndex(myid,0) != \"\") {\r\n            	var ids = wuiUtil.getJsonValueByIndex(myid,0);\r\n				var names = wuiUtil.getJsonValueByIndex(myid, 1);\r\n				\r\n				if(type1==161){\r\n	            	var href = \"\";\r\n					if(myid.href&&myid.href!=\"\"){\r\n						href = myid.href+ids;\r\n					}else{\r\n						href = \"javascript:void(0);\";\r\n					}\r\n					var sHtml = names;\r\n                    obj.val(ids);\r\n                    objSpan.html(sHtml);\r\n                    \r\n				}else{\r\n	                if (wuiUtil.getJsonValueByIndex(myid,0).substr(0,1)==\",\") {\r\n	                    obj.val(wuiUtil.getJsonValueByIndex(myid,0).substr(1));\r\n	                    objSpan.html(wuiUtil.getJsonValueByIndex(myid,1).substr(1));\r\n	                }else{\r\n	                    obj.val(wuiUtil.getJsonValueByIndex(myid,0));\r\n	                    objSpan.html(wuiUtil.getJsonValueByIndex(myid,1));\r\n	                }\r\n				}\r\n				\r\n            }else{\r\n                obj.val(\"\");\r\n                objSpan.html(\"\");\r\n            }\r\n             objSpan.html(objSpan.text());\r\n	}\r\n		\r\n	   \r\n	};\r\n	\r\n	dialog.Title = \"".toCharArray();
    _jsp_string119 = "\r\n	                <div id=\"mainBlock\" class=\"relationblock\" style=\"display:none;\" key=\"-9\">\r\n						<div class=\"verticalblock\" onmouseover=\"relatmouseover(this)\" title=\"".toCharArray();
    _jsp_string142 = "\";\r\n	var optionValue = fieldname+splitStr+fieldid+splitStr+htmltype+splitStr+fieldtype+splitStr+fielddbtype+splitStr+relationtype+splitStr+valetype;\r\n	targetField.val(optionValue);\r\n	changeTargetFieldid(targetField.get(0),0,fieldvalue);\r\n	\r\n	var compareoptionObj = baseTR.find(\"[name=compareoption\"+relationtype+\"]\");\r\n	compareoptionObj.val(compareoption);\r\n	var textvalueObj = baseTR.find(\"[name=textvalue\"+valetype+\"]\");\r\n	if(valetype==4){//\u6d4f\u89c8\u6846\r\n		baseTR.find(\"[name=textvalue\"+valetype+\"Span]\").html(fieldtext);\r\n	}else if(valetype==5){\r\n		changeSelectItem(fieldid,textvalueObj.get(0),fieldvalue);\r\n		//---------------------\r\n	}\r\n	textvalueObj.val(fieldvalue);\r\n	\r\n	baseTR.find(\".td_4\").show();\r\n	return targetField.get(0);\r\n}\r\n\r\n/**\r\n * \u52a8\u6001\u6539\u53d8\u9009\u62e9\u6846\u7684\u503c\r\n * @param {Object} fieldid   workflow_billfield  id\r\n * @param {Object} objname     \u9009\u62e9\u6846name\r\n */\r\nfunction changeSelectItem(fieldid,obj,objvalue){\r\n	 if(objvalue&&objvalue==\"nosel\"){\r\n		 return;\r\n	 }\r\n	jQuery.ajax({\r\n	   type: \"POST\",\r\n	   dataType:\"json\",\r\n	   url:\"/formmode/interfaces/ExpandRightConditionOperation.jsp?action=getSelectItem&fieldid=\"+fieldid,\r\n	   success: function(data){\r\n	     	if(data&&data.length){\r\n				var selObj = jQuery(obj);\r\n				selObj.selectbox(\"detach\");\r\n				selObj.find(\"option\").remove();\r\n				selObj.append(\"<option></option>\");\r\n				for(var i=0;i<data.length;i++){\r\n					var selectedStr = \"\";\r\n					if(objvalue&&objvalue==data[i].selectvalue+\"\"){\r\n						selectedStr = \"selected\";\r\n					}\r\n					selObj.append(\"<option \"+selectedStr+\" value='\"+data[i].selectvalue+\"'>\"+data[i].selectname+\"</option>\");\r\n				}\r\n				selObj.selectbox(\"attach\");\r\n			}\r\n	   }\r\n	});\r\n\r\n}\r\n \r\n //\u53d6\u6d88\u7f16\u8f91\r\nfunction cancelEdit(target) {\r\n	var editBlock = $(target).closest(\"table\").parent(\"div\");\r\n	if (!!!editBlock) return ;\r\n	var displaySpan = editBlock.parent().children(\"span\");\r\n	editBlock.remove();\r\n 	displaySpan.show();\r\n}\r\n\r\n//\u53cc\u51fb\u6761\u4ef6\u540e \u786e\u5b9a\u4fee\u6539\u7684\u64cd\u4f5c\r\nfunction confirmEdit(target){\r\n	var editBlock = jQuery(target).closest(\"table\").parent(\"div\");\r\n	if(!!!editBlock) return;\r\n	var displaySpan = editBlock.parent().children(\"span\");\r\n   	var key = displaySpan.attr(\"key\");\r\n   	var children = $(\"input[name=child][expindex=\" + key + \"]\");\r\n   	if (!!!children[0]) return;\r\n   	\r\n   var parentObj = jQuery(\".table_\"+key);\r\n	var baseTR = parentObj.find(\".baseTR\");\r\n	var targetFieldid = parentObj.find(\"[name=targetFieldid]\").val();\r\n	if (targetFieldid==\"\") {\r\n		msg = \"".toCharArray();
    _jsp_string122 = "\">\r\n            	<table style=\"width: 90%;\" border=\"0\" align=\"center\">\r\n            		<colgroup>\r\n            			<col style=\"width: 50px;\" />\r\n            			<col style=\"width: *\" />\r\n            		</colgroup>\r\n            		<tr>\r\n            			<td align=\"center\">sql</td>\r\n            			<td>\r\n            				<textarea rows=\"13\" onkeyup=\"changeModified();\" name=\"conditionsqlText\" id=\"conditionsqlText\" style=\"width: 100%;\">".toCharArray();
    _jsp_string85 = "\" \r\n											onchange=\"changeContitionType();\">\r\n											<option value=\"1\" ".toCharArray();
    _jsp_string68 = "\";\r\n   	var andstr = \"".toCharArray();
    _jsp_string58 = "\r\n<meta http-equiv=\"".toCharArray();
    _jsp_string60 = ",transition=".toCharArray();
    _jsp_string59 = "\" content=\"revealTrans(duration=".toCharArray();
    _jsp_string128 = "\r\n            				".toCharArray();
    _jsp_string28 = "','".toCharArray();
    _jsp_string39 = "\");\r\n						}\r\n						return false;\r\n					}\r\n				}\r\n			}\r\n		}\r\n	}\r\n	return true;\r\n}\r\n\r\nfunction isdel(){\r\n	var str = \"".toCharArray();
    _jsp_string108 = "\" onclick=\"confirmEdit(this)\" value=\" \">\r\n	                    			<input type=\"button\" class=\"operbtn operbtn_cancel\" name=\"editCancel\" id=\"editCancel\" title=\"".toCharArray();
    _jsp_string79 = "\"/>\r\n		<input type=\"hidden\" id=\"expandid\" value=\"".toCharArray();
    _jsp_string2 = "\r\n\r\n".toCharArray();
    _jsp_string89 = ">sql</option>\r\n										</select>\r\n		        					</td>\r\n		        				</TR>\r\n		        			</table>\r\n						</td>\r\n						<td>\r\n						\r\n        		<div id=\"newBlockDiv\" style=\"padding-bottom:2px;width:100%\">\r\n        			<table class=\"table_0\"  tableIndex=\"0\" border=\"0\" style=\"border-collapse: separate;border-spacing:0px;width:100%\">\r\n        				<colgroup>\r\n				    		<col style=\"width: 230px;\" />\r\n				    		<col style=\"width: 120px;\" />\r\n				    		<col style=\"width: 150px;\" />\r\n				    		<col style=\"width: *\" />\r\n				    	</colgroup>\r\n        				<TR class=\"baseTR\">\r\n                    		<td class=\"td_1\"  style=\"padding: 5px;\">\r\n                    		".toCharArray();
  }
}
