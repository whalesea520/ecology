/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._workflow._request;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import java.util.ArrayList;
import weaver.hrm.HrmUserVarify;
import weaver.hrm.User;
import weaver.systeminfo.SystemEnv;
import weaver.general.Util;
import weaver.general.TimeUtil;
import weaver.general.GCONST;
import weaver.file.Prop;
import weaver.license.PluginUserCheck;
import weaver.hrm.resource.HrmListValidate;
import weaver.hrm.tools.HrmValidate;

public class _workflowrequestpictureinner__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
//\u662f\u5426\u5f00\u542f\u65b0\u7248\u6d41\u7a0b\u56fe\uff0c\u5f00\u542f\u5219\u8df3\u8f6c\u81f3\u65b0\u7248\u663e\u793a
weaver.general.BaseBean bb = new weaver.general.BaseBean();
int isuseNewDesign = Util.getIntValue(
        bb.getPropValue("workflowNewDesign", "isusingnewDesign"), 0);

if (isuseNewDesign == 1) {
    request.getRequestDispatcher("/workflow/request/WorkflowRequestNewPictureInner.jsp").forward(request, response);
    return ;
}

      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.hrm.resource.ResourceComInfo ResourceComInfo;
      ResourceComInfo = (weaver.hrm.resource.ResourceComInfo) pageContext.getAttribute("ResourceComInfo");
      if (ResourceComInfo == null) {
        ResourceComInfo = new weaver.hrm.resource.ResourceComInfo();
        pageContext.setAttribute("ResourceComInfo", ResourceComInfo);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.crm.Maint.CustomerInfoComInfo CustomerInfoComInfo;
      CustomerInfoComInfo = (weaver.crm.Maint.CustomerInfoComInfo) pageContext.getAttribute("CustomerInfoComInfo");
      if (CustomerInfoComInfo == null) {
        CustomerInfoComInfo = new weaver.crm.Maint.CustomerInfoComInfo();
        pageContext.setAttribute("CustomerInfoComInfo", CustomerInfoComInfo);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.conn.RecordSet rs;
      rs = (weaver.conn.RecordSet) pageContext.getAttribute("rs");
      if (rs == null) {
        rs = new weaver.conn.RecordSet();
        pageContext.setAttribute("rs", rs);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.conn.RecordSet rs1;
      rs1 = (weaver.conn.RecordSet) pageContext.getAttribute("rs1");
      if (rs1 == null) {
        rs1 = new weaver.conn.RecordSet();
        pageContext.setAttribute("rs1", rs1);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.conn.RecordSet RecordSetOld;
      RecordSetOld = (weaver.conn.RecordSet) pageContext.getAttribute("RecordSetOld");
      if (RecordSetOld == null) {
        RecordSetOld = new weaver.conn.RecordSet();
        pageContext.setAttribute("RecordSetOld", RecordSetOld);
      }
      out.write(_jsp_string3, 0, _jsp_string3.length);
      weaver.conn.RecordSet RecordSetA;
      RecordSetA = (weaver.conn.RecordSet) pageContext.getAttribute("RecordSetA");
      if (RecordSetA == null) {
        RecordSetA = new weaver.conn.RecordSet();
        pageContext.setAttribute("RecordSetA", RecordSetA);
      }
      out.write(_jsp_string3, 0, _jsp_string3.length);
      weaver.conn.RecordSet RecordSetlog3;
      RecordSetlog3 = (weaver.conn.RecordSet) pageContext.getAttribute("RecordSetlog3");
      if (RecordSetlog3 == null) {
        RecordSetlog3 = new weaver.conn.RecordSet();
        pageContext.setAttribute("RecordSetlog3", RecordSetlog3);
      }
      out.write(_jsp_string3, 0, _jsp_string3.length);
      weaver.conn.RecordSet rsCheckUserCreater;
      rsCheckUserCreater = (weaver.conn.RecordSet) pageContext.getAttribute("rsCheckUserCreater");
      if (rsCheckUserCreater == null) {
        rsCheckUserCreater = new weaver.conn.RecordSet();
        pageContext.setAttribute("rsCheckUserCreater", rsCheckUserCreater);
      }
      out.write(_jsp_string3, 0, _jsp_string3.length);
      weaver.workflow.request.WFLinkInfo WFLinkInfo;
      WFLinkInfo = (weaver.workflow.request.WFLinkInfo) pageContext.getAttribute("WFLinkInfo");
      if (WFLinkInfo == null) {
        WFLinkInfo = new weaver.workflow.request.WFLinkInfo();
        pageContext.setAttribute("WFLinkInfo", WFLinkInfo);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.share.ShareManager shareManager;
      shareManager = (weaver.share.ShareManager) pageContext.getAttribute("shareManager");
      if (shareManager == null) {
        shareManager = new weaver.share.ShareManager();
        pageContext.setAttribute("shareManager", shareManager);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      
int isfromdirection = Util.getIntValue(request.getParameter("isfromdirection"), 0);
User user = HrmUserVarify.getUser (request , response) ;
if(user == null)  return ;
String isview = Util.null2String(request.getParameter("isview")) ;
String fromFlowDoc = Util.null2String(request.getParameter("fromFlowDoc")) ;
int modeid = Util.getIntValue(request.getParameter("modeid"),0) ;
int requestid = Util.getIntValue(request.getParameter("requestid")) ;
String workflowid = Util.null2String(request.getParameter("workflowid")) ;
String nodeid = Util.null2String(request.getParameter("nodeid")) ;
String isbill = Util.null2String(request.getParameter("isbill")) ;
String formid = Util.null2String(request.getParameter("formid")) ;
String sql = "" ;
// add by xhheng @20050206 for TD 1544
String userid=new Integer(user.getUID()).toString();                   //\u5f53\u524d\u7528\u6237id
String logintype = user.getLogintype();     //\u5f53\u524d\u7528\u6237\u7c7b\u578b  1: \u5185\u90e8\u7528\u6237  2:\u5916\u90e8\u7528\u6237

boolean isOldWf_ = false;
RecordSetOld.executeSql("select nodeid from workflow_currentoperator where requestid = " + requestid);
while(RecordSetOld.next()){
    if(RecordSetOld.getString("nodeid") == null || "".equals(RecordSetOld.getString("nodeid")) || "-1".equals(RecordSetOld.getString("nodeid"))){
            isOldWf_ = true;
    }
}
if(isOldWf_){
String url = "/workflow/request/WorkflowManageRequestPicture_old.jsp?requestid=" + requestid + "&workflowid="+workflowid+"&nodeid="+nodeid+"&isbill="+isbill+"&formid="+formid;
response.sendRedirect(url);
return;

}


      out.write(_jsp_string1, 0, _jsp_string1.length);
      
/*----added by xwj for td2891 begin-----*/
String sqlTemp = "select nodeid from workflow_flownode where workflowid = "+workflowid+" and nodetype = '0'";
RecordSetA.executeSql(sqlTemp);
RecordSetA.next();
String creatorNodeId = RecordSetA.getString("nodeid");
/*----added by xwj for td2891 end-----*/
String currentnodeid=""+WFLinkInfo.getCurrentNodeidNew(Util.getIntValue(requestid + ""),user.getUID(),Util.getIntValue(logintype,1));
if(currentnodeid.equals("0")) currentnodeid=nodeid;

      out.write(_jsp_string4, 0, _jsp_string4.length);
      if(requestid!= -1){
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((requestid));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      }else{
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((requestid));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      out.print((workflowid));
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((currentnodeid));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      

int top0 = 16;   // \u9876\u90e8\u7a7a\u95f4
if(isfromdirection == 1){
    top0 = -10;   // \u9876\u90e8\u7a7a\u95f4
}
int temptopsize = Util.getIntValue(request.getParameter("temptopsize"),0) ;
if(temptopsize==52){top0=temptopsize;}
if(fromFlowDoc.equals("1")){
   if(isview.equals("1")){
     top0+=10;//top0+=-15;
   }
   else
   top0+=15;//top0+=-10;
}else{
if(isview.equals("1")){
     top0+=10;
}
else
  top0+=15;
}
  

int left0 = 0 ; // \u5de6\u8fb9\u7a7a\u95f4
int nodexsize = 60;
int nodeysize = 40;
String nownodeids=WFLinkInfo.getNowNodeids(requestid);

String bkcol = "";          // \u8282\u70b9\u65b9\u6846\u989c\u8272
int icount = 0;             // \u8282\u70b9\u8ba1\u6570
int curnodetype = 0;        // \u8282\u70b9\u72b6\u6001  0: \u5df2\u901a\u8fc7  1: \u5f53\u524d 2:\u5176\u5b83

ArrayList operatednode = new ArrayList();               // \u8be5\u5de5\u4f5c\u6d41\u7684\u6240\u6709\u5df2\u901a\u8fc7\u7684\u8282\u70b9
ArrayList operaternode = new ArrayList();               // \u6240\u6709\u7684\u975e\u4fdd\u5b58\u64cd\u4f5c\u7684\u64cd\u4f5c\u8005
ArrayList operaternode_ = new ArrayList();               // \u6240\u6709\u7684\u975e\u4fdd\u5b58\u64cd\u4f5c\u7684\u64cd\u4f5c\u8005 added by xwj on 2005-05-15 for td1838
ArrayList viewernode = new ArrayList();                 // \u5f53\u524d\u8282\u70b9\u6240\u6709\u5df2\u67e5\u770b\u8005
ArrayList canoperaternode = new ArrayList();            // \u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u672a\u64cd\u4f5c\u8005

temptopsize = Util.getIntValue(request.getParameter("wfd"),0) ;

if(temptopsize ==1){
    top0 = 40;
    left0 = 10;
}

/*
logtype :
1: \u4fdd\u5b58
2: \u63d0\u4ea4
3: \u9000\u56de
4: \u91cd\u65b0\u6253\u5f00
5: \u5220\u9664
6: \u6fc0\u6d3b
9: \u8f6c\u53d1
*/

// \u8be5\u5de5\u4f5c\u6d41\u7684\u6240\u6709\u5df2\u901a\u8fc7\u7684\u8282\u70b9 logtype = 2
sql = "select distinct nodeid from workflow_requestLog where (logtype='2' or logtype='0' or logtype='i') and requestid = "+requestid;
rs.executeSql(sql);
while(rs.next())
{
    String nodeid1 = Util.null2String(rs.getString("nodeid"));
    operatednode.add(nodeid1);
}

/*--xwj for td2104 on 20050802 begin--*/
// \u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u672a\u64cd\u4f5c\u8005
//modify by xhheng @20050520 for TD 1725
//modify by xhheng @20050329 for TD 1729
//sql = "select distinct nodeid,userid,usertype, agentorbyagentid, agenttype, showorder from workflow_currentoperator where isremark in ('0','1','4','8','9','7') and requestid = " + requestid + " and nodeid in(" + nownodeids + ") order by showorder asc";
sql = "select distinct nodeid,userid,usertype, agentorbyagentid, agenttype, showorder from workflow_currentoperator where (isremark in ('0','1','4','8','9','7') or lastisremark in ('0','1','4','8','9','7')) and requestid = " + requestid + " and nodeid in(" + nownodeids + ") order by showorder asc";
rs.executeSql(sql);
while(rs.next())
{

  String tnodeid=Util.null2String(rs.getString("nodeid"));
  String operator = Util.null2String(rs.getString("userid"));
    String operatortype = Util.null2String(rs.getString("usertype"));
    String agentorbyagentid = Util.null2String(rs.getString("agentorbyagentid"));
    String agenttype = Util.null2String(rs.getString("agenttype"));
    if(!canoperaternode.contains(tnodeid+"_"+operator+"_"+operatortype+"&"+agentorbyagentid+"@"+agenttype)){
    canoperaternode.add(tnodeid+"_"+operator+"_"+operatortype+"&"+agentorbyagentid+"@"+agenttype);
  }

}
/*--xwj for td2104 on 20050802 END--*/


/*--xwj for td2104 on 20050802 begin--*/
// \u6240\u6709\u7684\u975e\u4fdd\u5b58\u64cd\u4f5c\u7684\u64cd\u4f5c\u8005
sql = "select distinct nodeid,operator,operatortype, agentorbyagentid, agenttype,showorder from workflow_requestLog where requestid = "+requestid + " and logtype not in('1','s') order by showorder asc" ;
rs.executeSql(sql);
while(rs.next())
{

String nodeid1 = Util.null2String(rs.getString("nodeid"));
    String operator = Util.null2String(rs.getString("operator"));
    String operatortype = Util.null2String(rs.getString("operatortype"));
    String agentorbyagentid = Util.null2String(rs.getString("agentorbyagentid"));
    String agenttype = Util.null2String(rs.getString("agenttype"));
    if(!operaternode.contains(nodeid1+"_"+operator+"_"+operatortype + "&" + agentorbyagentid + "@" + agenttype)){
    //\u52a0\u5165\u6240\u6709\u5386\u53f2\u64cd\u4f5c\u4eba
    operaternode.add(nodeid1+"_"+operator+"_"+operatortype + "&" + agentorbyagentid + "@" + agenttype);
    }

    //operaternode_.add(operator); //added by xwj for td1838 on 2005-05-15
}



/* -----   xwj for td2104 on 20050802   begin---*/

// ----------- Modefied by xwj on 2005-05-15 for td1838   B E G I N  --------------------

// \u5f53\u524d\u8282\u70b9\u6240\u6709\u5df2\u67e5\u770b\u8005

sql = "select distinct nodeid,operator,operatortype, agentorbyagentid, agenttype,showorder from workflow_requestLog where requestid = "+requestid + " and logtype not in('1','s') and nodeid = " + currentnodeid + " order by showorder asc";
rs.executeSql(sql);
while(rs.next()){
operaternode_.add(Util.null2String(rs.getString("operator")));
}


sql = "select distinct viewer,viewtype,showorder from workflow_requestViewLog where id = "+ requestid + " and currentnodeid = "+currentnodeid + " and ordertype = 1 order by showorder asc";
rs.executeSql(sql);
while(rs.next())
{
    String operator = Util.null2String(rs.getString("viewer"));
    String operatortype = Util.null2String(rs.getString("viewtype"));
    //rs1.executeSql("select nodeid,agentorbyagentid,agenttype from workflow_currentoperator a ,workflow_groupdetail b where a.groupdetailid=b.id and b.signorder=3 and a.isremark=2 and a.requestid="+requestid+" and a.userid="+operator);
    rs1.executeSql("select nodeid,agentorbyagentid,agenttype from workflow_currentoperator a ,workflow_groupdetail b where a.groupdetailid=b.id and b.signorder='3' and (a.isremark=2 or a.lastisremark=2) and a.requestid="+requestid+" and a.userid="+operator);
    if(rs1.next()){//\u6284\u9001\uff08\u4e0d\u63d0\u4ea4\uff09\u67e5\u770b\u540e\u8bb0\u5f55\u5230\u5df2\u64cd\u4f5c\u7ec4\u4e2d MYQ\u4fee\u6539
        if(!operaternode.contains(rs1.getString("nodeid")+"_"+operator+"_"+operatortype + "&" + rs1.getString("agentorbyagentid") + "@" + rs1.getString("agenttype"))){
            operaternode.add(rs1.getString("nodeid")+"_"+operator+"_"+operatortype + "&" + rs1.getString("agentorbyagentid") + "@" + rs1.getString("agenttype"));
        }
    }else{
    if(!operaternode_.contains(operator)){
     if(!viewernode.contains(operator+"_"+operatortype)){
     viewernode.add(operator+"_"+operatortype);
   }
  }
  }
}
sql = "select distinct viewer,viewtype,showorder from workflow_requestViewLog where id = "+ requestid + " and currentnodeid = "+currentnodeid + " and ordertype = 2 order by showorder asc";
rs.executeSql(sql);
while(rs.next())
{
    String operator = Util.null2String(rs.getString("viewer"));
    String operatortype = Util.null2String(rs.getString("viewtype"));
    //rs1.executeSql("select nodeid,agentorbyagentid,agenttype from workflow_currentoperator a ,workflow_groupdetail b where a.groupdetailid=b.id and b.signorder=3 and a.isremark=2 and a.requestid="+requestid+" and a.userid="+operator);
    rs1.executeSql("select nodeid,agentorbyagentid,agenttype from workflow_currentoperator a ,workflow_groupdetail b where a.groupdetailid=b.id and b.signorder=3 and (a.isremark=2 or a.lastisremark=2) and a.requestid="+requestid+" and a.userid="+operator);
    if(rs1.next()){//\u6284\u9001\uff08\u4e0d\u63d0\u4ea4\uff09\u67e5\u770b\u540e\u8bb0\u5f55\u5230\u5df2\u64cd\u4f5c\u7ec4\u4e2d MYQ\u4fee\u6539
        if(!operaternode.contains(rs1.getString("nodeid")+"_"+operator+"_"+operatortype + "&" + rs1.getString("agentorbyagentid") + "@" + rs1.getString("agenttype"))){
            operaternode.add(rs1.getString("nodeid")+"_"+operator+"_"+operatortype + "&" + rs1.getString("agentorbyagentid") + "@" + rs1.getString("agenttype"));
        }
    }else{
    if(!operaternode_.contains(operator)){
      if(!viewernode.contains(operator+"_"+operatortype)){
     viewernode.add(operator+"_"+operatortype);
  }
  }
  }
}


// ----------- Modefied by xwj on 2005-05-15 for td1838    E N D -------------------------

/*--xwj for td2104 on 20050802 END--*/




// \u9009\u51fa\u6240\u6709\u7684\u8be5\u5de5\u4f5c\u6d41\u7684\u8282\u70b9\u548c\u5750\u6807\u4fe1\u606f
sql = "SELECT nodeid , nodename , drawxpos, drawypos FROM workflow_flownode,workflow_nodebase WHERE (workflow_nodebase.IsFreeNode is null or workflow_nodebase.IsFreeNode !='1') and workflow_flownode.nodeid = workflow_nodebase.id and workflow_flownode.workflowid = "+workflowid+" union SELECT nodeid , nodename , drawxpos, drawypos FROM workflow_flownode,workflow_nodebase WHERE workflow_flownode.nodeid = workflow_nodebase.id and workflow_nodebase.IsFreeNode='1' and workflow_flownode.workflowid = "+workflowid+" and workflow_nodebase.requestid="+requestid;
rs.executeSql(sql);
    //System.out.println("sql = " + sql);
    //System.out.println("currentnodeid = " + currentnodeid);

while(rs.next()){
    icount ++;
    String tnownodeid=Util.null2String(rs.getString("nodeid"));
    if((","+nownodeids+",").indexOf(","+tnownodeid+",")>-1){     // \u5f53\u524d\u8282\u70b9
        if(currentnodeid.equals(rs.getString("nodeid"))){
            curnodetype = 1;
            bkcol = "#ff0000";
        }else{
            curnodetype = 1;
            bkcol = "#005979";
        }
    }
    else if(operatednode.indexOf(tnownodeid)!=-1){  // \u5df2\u7ecf\u901a\u8fc7\u7684\u8282\u70b9
        curnodetype = 0;
        bkcol = "#0079A4";
    }
    else {
        bkcol = "#00BDFF";          // \u5176\u5b83\u8282\u70b9
        curnodetype =2;
    }

    int drawxpos = rs.getInt("drawxpos");
    int drawypos = rs.getInt("drawypos");
    String nodename = Util.toScreen(rs.getString("nodename"),user.getLanguage());

      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((drawypos-nodeysize+top0 - 2));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      out.print((drawxpos-nodexsize+left0));
      out.write(_jsp_string11, 0, _jsp_string11.length);
      out.print((nodeysize*2 - 2));
      out.write(_jsp_string12, 0, _jsp_string12.length);
      out.print((nodexsize*2));
      out.write(_jsp_string13, 0, _jsp_string13.length);
      out.print((icount));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((icount));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((bkcol));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((nodename));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      
        if((","+nownodeids+",").indexOf(","+Util.null2String(rs.getString("nodeid"))+",")>-1){
    
      out.write(_jsp_string18, 0, _jsp_string18.length);
      
        }else{
    
      out.write(_jsp_string19, 0, _jsp_string19.length);
      
        }
    
      out.write(_jsp_string20, 0, _jsp_string20.length);
      if(curnodetype==0){
      out.write(_jsp_string21, 0, _jsp_string21.length);
      out.print((SystemEnv.getHtmlLabelName(16353,user.getLanguage())));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      
            for(int i=0;i<operaternode.size();i++){

                String tmp = ""+operaternode.get(i);
                //System.out.println(tmp);
                if((tmp).startsWith(""+rs.getString("nodeid")+"_"))
                {
                     /* ----------    xwj for td2104 on 20050802   begin   ----------*/
                    String tmptype = tmp.substring(tmp.lastIndexOf("_")+1,tmp.indexOf("&"));
                    String tmpid = tmp.substring(tmp.indexOf("_")+1,tmp.lastIndexOf("_"));
                    String byagentid = tmp.substring(tmp.lastIndexOf("&")+1,tmp.indexOf("@"));
                    String agenttype = tmp.substring(tmp.indexOf("@")+1);
                    String tmpnodeid = tmp.substring(0,tmp.indexOf("_"));//added by xwj for td2891


                if(tmptype.equals("0")){
                  if("0".equals(agenttype) || "-".equals(agenttype)){
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      }
                    /* --------- xwj for td2891 begin ----*/
                    else if("2".equals(agenttype)){

                     if(!creatorNodeId.equals(tmpnodeid)){
                    
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((byagentid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(byagentid),user.getLanguage())));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string27, 0, _jsp_string27.length);
      }
                     else{

                           String agentCheckSql = " select * from workflow_agentConditionSet where workflowId="+ workflowid +" and bagentuid=" + byagentid +
                                                     " and agenttype = '1' " +
                                                     " and ( ( (endDate = '" + TimeUtil.getCurrentDateString() + "' and (endTime='' or endTime is null))" +
                                                     " or (endDate = '" + TimeUtil.getCurrentDateString() + "' and endTime > '" + (TimeUtil.getCurrentTimeString()).substring(11,19) + "' ) ) " +
                                                     " or endDate > '" + TimeUtil.getCurrentDateString() + "' or endDate = '' or endDate is null)" +
                                                     " and ( ( (beginDate = '" + TimeUtil.getCurrentDateString() + "' and (beginTime='' or beginTime is null))" +
                                                     " or (beginDate = '" + TimeUtil.getCurrentDateString() + "' and beginTime < '" + (TimeUtil.getCurrentTimeString()).substring(11,19) + "' ) ) " +
                                                     " or beginDate < '" + TimeUtil.getCurrentDateString() + "' or beginDate = '' or beginDate is null) order by agentbatch asc  ,id asc ";
                           RecordSetlog3.executeSql(agentCheckSql);
                           if(!RecordSetlog3.next()){
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      }
                       else{
                             String isCreator = RecordSetlog3.getString("isCreateAgenter");
                          if(!isCreator.equals("1")){
      out.write(_jsp_string29, 0, _jsp_string29.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string30, 0, _jsp_string30.length);
      }
                              else{

                                 int userLevelUp = -1;
                                 int uesrLevelTo = -1;
                                 int secLevel = -1;
                                 rsCheckUserCreater.executeSql("select seclevel from HrmResource where id= " + tmpid);
                                 if(rsCheckUserCreater.next()){
                                 secLevel = rsCheckUserCreater.getInt("seclevel");
                                 }
                                 else{
                                 rsCheckUserCreater.executeSql("select seclevel from HrmResourceManager where id= " + tmpid);
                                 if(rsCheckUserCreater.next()){
                                 secLevel = rsCheckUserCreater.getInt("seclevel");
                                 }
                                 }
                               //\u662f\u5426\u6709\u6b64\u6d41\u7a0b\u7684\u521b\u5efa\u6743\u9650
                                 boolean haswfcreate = shareManager.hasWfCreatePermission(user, Integer.parseInt(workflowid));
                            
                                 if(byagentid ==null || byagentid ==""){
                                 
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      }
                                 else{
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((byagentid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(byagentid),user.getLanguage())));
      out.write(_jsp_string34, 0, _jsp_string34.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      }

                               }
                          }

                       }

                  }
                  /* --------- xwj for td2891 end ----*/
                  else{
                  }
                }

                /* ----------  xwj for td2104 on 20050802   end     ----------*/

                    else if(tmptype.equals("1")){
    
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((tmpid));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((Util.toScreen(CustomerInfoComInfo.getCustomerInfoname(tmpid),user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      
                    }else{
    
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((SystemEnv.getHtmlLabelName(468,user.getLanguage())));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      
                    }
                    break;
                }
            }               //  end of for
    
      out.write(_jsp_string39, 0, _jsp_string39.length);
      
        } else if(curnodetype==1){
    
      out.write(_jsp_string40, 0, _jsp_string40.length);
      out.print((SystemEnv.getHtmlLabelName(16354,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      
      //modify by xhheng @20050206 for TD 1544
    if(requestid != -1) {
            for(int i=0;i<canoperaternode.size();i++){

                String tmp = ""+canoperaternode.get(i);
                int tempindx=tmp.indexOf("_");
                if(tempindx>-1){
                String tmpnodeid=tmp.substring(0,tempindx);
                if(!tnownodeid.equals(tmpnodeid)) continue;
                tmp=tmp.substring(tempindx+1);
                String tmptype = tmp.substring(tmp.lastIndexOf("_")+1,tmp.indexOf("&"));//xwj for td2104 on 20050802
                String tmpid = tmp.substring(0,tmp.indexOf("_"));
                String byagentid = tmp.substring(tmp.lastIndexOf("&")+1,tmp.indexOf("@"));//xwj for td2104 on 20050802
                String agenttype = tmp.substring(tmp.indexOf("@")+1);//xwj for td2104 on 20050802

                /* ---------- xwj for td2104 on 20050802 begin----------*/
                if(tmptype.equals("0")){
                  if("0".equals(agenttype) || "-".equals(agenttype)){
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      }
                    else if("2".equals(agenttype)){
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((byagentid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(byagentid),user.getLanguage())));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string42, 0, _jsp_string42.length);
      }
                  else{
                  }
                }

                /* ---------- xwj for td2104 on 20050802 end----------*/

                else if(tmptype.equals("1")){
    
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((tmpid));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((Util.toScreen(CustomerInfoComInfo.getCustomerInfoname(tmpid),user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      
                } else {
    
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((SystemEnv.getHtmlLabelName(468,user.getLanguage())));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      
                }
                break;
            }
        }// end of for
    }else{
      //requestid==-1 ,\u76f4\u63a5\u663e\u793a\u5f53\u524d\u64cd\u4f5c\u8005
                if(logintype.equals("1")){
    
      out.write(_jsp_string43, 0, _jsp_string43.length);
      out.print((userid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(userid),user.getLanguage())));
      out.write(_jsp_string44, 0, _jsp_string44.length);
      
                } else if(logintype.equals("2")){
    
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((userid));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((Util.toScreen(CustomerInfoComInfo.getCustomerInfoname(userid),user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      
                }
    }
    
      out.write(_jsp_string39, 0, _jsp_string39.length);
      
        }else if(curnodetype==2){
    
      out.write(_jsp_string40, 0, _jsp_string40.length);
      out.print((SystemEnv.getHtmlLabelName(16354,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      
            sql = " select id , groupname from workflow_nodegroup where nodeid = " + rs.getString("nodeid");
            rs1.executeSql(sql);
            if(rs1.next()){
    
      out.write(_jsp_string45, 0, _jsp_string45.length);
      out.print((formid));
      out.write(_jsp_string46, 0, _jsp_string46.length);
      out.print((isbill));
      out.write(_jsp_string47, 0, _jsp_string47.length);
      out.print((rs1.getString("id")));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((Util.toScreen(rs1.getString("groupname"),user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      
            }
    
      out.write(_jsp_string48, 0, _jsp_string48.length);
      
        }
    
      out.write(_jsp_string49, 0, _jsp_string49.length);
      out.print((icount));
      out.write(_jsp_string50, 0, _jsp_string50.length);
      out.print((icount));
      out.write(_jsp_string51, 0, _jsp_string51.length);
      out.print((drawxpos));
      out.write(_jsp_string52, 0, _jsp_string52.length);
      out.print((drawypos+top0));
      out.write(_jsp_string53, 0, _jsp_string53.length);
      out.print((icount));
      out.write(_jsp_string54, 0, _jsp_string54.length);
      out.print((icount));
      out.write(_jsp_string55, 0, _jsp_string55.length);
      
         if(curnodetype==0){
    
      out.write(_jsp_string56, 0, _jsp_string56.length);
      out.print((SystemEnv.getHtmlLabelName(16353,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      
            for(int i=0;i<operaternode.size();i++){
                String tmp = ""+operaternode.get(i);
                if((tmp).startsWith(""+rs.getString("nodeid")+"_"))
                {
                    String tmptype = tmp.substring(tmp.lastIndexOf("_")+1,tmp.indexOf("&"));
                    String tmpid = tmp.substring(tmp.indexOf("_")+1,tmp.lastIndexOf("_"));
              String byagentid = tmp.substring(tmp.lastIndexOf("&")+1,tmp.indexOf("@"));//xwj for td2104 on 20050802
                String agenttype = tmp.substring(tmp.indexOf("@")+1);//xwj for td2104 on 20050802
                String tmpnodeid = tmp.substring(0,tmp.indexOf("_"));//added by xwj for td2891

                /* ---------- xwj for td2104 on 20050802 begin----------*/
                if(tmptype.equals("0")){
                  if("0".equals(agenttype) || "-".equals(agenttype)){
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      }

                    /* --------- xwj for td2891 begin ----*/
                    else if("2".equals(agenttype)){

                     if(!creatorNodeId.equals(tmpnodeid)){
                    
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((byagentid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(byagentid),user.getLanguage())));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string27, 0, _jsp_string27.length);
      }
                     else{

                           String agentCheckSql = " select * from workflow_Agent where workflowId="+ workflowid +" and beagenterId=" + byagentid +
                                                     " and agenttype = '1' " +
                                                     " and ( ( (endDate = '" + TimeUtil.getCurrentDateString() + "' and (endTime='' or endTime is null))" +
                                                     " or (endDate = '" + TimeUtil.getCurrentDateString() + "' and endTime > '" + (TimeUtil.getCurrentTimeString()).substring(11,19) + "' ) ) " +
                                                     " or endDate > '" + TimeUtil.getCurrentDateString() + "' or endDate = '' or endDate is null)" +
                                                     " and ( ( (beginDate = '" + TimeUtil.getCurrentDateString() + "' and (beginTime='' or beginTime is null))" +
                                                     " or (beginDate = '" + TimeUtil.getCurrentDateString() + "' and beginTime < '" + (TimeUtil.getCurrentTimeString()).substring(11,19) + "' ) ) " +
                                                     " or beginDate < '" + TimeUtil.getCurrentDateString() + "' or beginDate = '' or beginDate is null)";
                           RecordSetlog3.executeSql(agentCheckSql);
                           if(!RecordSetlog3.next()){
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      }
                       else{
                             String isCreator = RecordSetlog3.getString("isCreateAgenter");
                          if(!isCreator.equals("1")){
      out.write(_jsp_string29, 0, _jsp_string29.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string30, 0, _jsp_string30.length);
      }
                              else{

                                 int userLevelUp = -1;
                                 int uesrLevelTo = -1;
                                 int secLevel = -1;
                                 rsCheckUserCreater.executeSql("select seclevel from HrmResource where id= " + tmpid);
                                 if(rsCheckUserCreater.next()){
                                 secLevel = rsCheckUserCreater.getInt("seclevel");
                                 }
                                 else{
                                 rsCheckUserCreater.executeSql("select seclevel from HrmResourceManager where id= " + tmpid);
                                 if(rsCheckUserCreater.next()){
                                 secLevel = rsCheckUserCreater.getInt("seclevel");
                                 }
                                 }
                               //\u662f\u5426\u6709\u6b64\u6d41\u7a0b\u7684\u521b\u5efa\u6743\u9650
                                 boolean haswfcreate = shareManager.hasWfCreatePermission(user, Integer.parseInt(workflowid));
                                 if(byagentid=="" || byagentid==null){
                                 
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      }
                                 else{
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((byagentid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(byagentid),user.getLanguage())));
      out.write(_jsp_string34, 0, _jsp_string34.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      }

                               }
                          }

                       }

                  }
                  /* --------- xwj for td2891 end ----*/

                  else{
                  }
                }

                /* ---------- xwj for td2104 on 20050802 end----------*/

                    else if(tmptype.equals("1")){
    
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(CustomerInfoComInfo.getCustomerInfoname(tmpid),user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      
                    } else{
    
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((SystemEnv.getHtmlLabelName(468,user.getLanguage())));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      
                    }
    
      out.write(_jsp_string57, 0, _jsp_string57.length);
      
                }
            }               // end of for
    
      out.write(_jsp_string58, 0, _jsp_string58.length);
      
      //modify by xhheng @20050106 for TD 1544
        } else if(curnodetype==1 && requestid != -1){
    
      out.write(_jsp_string59, 0, _jsp_string59.length);
      out.print((SystemEnv.getHtmlLabelName(16354,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      
            for(int i=0;i<canoperaternode.size();i++){
                String tmp = ""+canoperaternode.get(i);
                int tempindx=tmp.indexOf("_");
                if(tempindx>-1){
                String tmpnodeid=tmp.substring(0,tempindx);
                if(!tnownodeid.equals(tmpnodeid)) continue;
                tmp=tmp.substring(tempindx+1);
                String tmptype = tmp.substring(tmp.lastIndexOf("_")+1,tmp.indexOf("&"));//xwj for td2104 on 20050802
                String tmpid = tmp.substring(0,tmp.indexOf("_"));
                String byagentid = tmp.substring(tmp.lastIndexOf("&")+1,tmp.indexOf("@"));//xwj for td2104 on 20050802
                String agenttype = tmp.substring(tmp.indexOf("@")+1);//xwj for td2104 on 20050802

                /* ---------- xwj for td2104 on 20050802 begin----------*/
                if(tmptype.equals("0")){
                  if("0".equals(agenttype) || "-".equals(agenttype)){
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      }
                    else if("2".equals(agenttype)){
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((byagentid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(byagentid),user.getLanguage())));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string42, 0, _jsp_string42.length);
      }
                  else{
                  }
                }
                /* ---------- xwj for td2104 on 20050802 end----------*/


                else if(tmptype.equals("1")){
    
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((tmpid));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((Util.toScreen(CustomerInfoComInfo.getCustomerInfoname(tmpid),user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      
                } else{
    
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((SystemEnv.getHtmlLabelName(468,user.getLanguage())));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      
                }
    
      out.write(_jsp_string57, 0, _jsp_string57.length);
      
            }
        }// end of for
    
      out.write(_jsp_string60, 0, _jsp_string60.length);
      out.print((SystemEnv.getHtmlLabelName(16355,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      
        if(tnownodeid.equals(currentnodeid)){
        for(int i=0;i<viewernode.size();i++){
            String tmp = ""+viewernode.get(i);
            String tmptype = tmp.substring(tmp.lastIndexOf("_")+1);
            String tmpid = tmp.substring(0,tmp.indexOf("_"));
            if(tmptype.equals("0")){
    
      out.write(_jsp_string43, 0, _jsp_string43.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string44, 0, _jsp_string44.length);
      
            } else if(tmptype.equals("1")){
    
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((tmpid));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((Util.toScreen(CustomerInfoComInfo.getCustomerInfoname(tmpid),user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      
            } else{
    
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((SystemEnv.getHtmlLabelName(468,user.getLanguage())));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      
            }
    
      out.write(_jsp_string57, 0, _jsp_string57.length);
      
        }           // end of for
        }
    
      out.write(_jsp_string61, 0, _jsp_string61.length);
      out.print((SystemEnv.getHtmlLabelName(16353,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      
        for(int i=0;i<operaternode.size();i++){
            String tmp = ""+operaternode.get(i);
            if((tmp).startsWith(""+rs.getString("nodeid")+"_"))
            {
                String tmptype = tmp.substring(tmp.lastIndexOf("_")+1,tmp.indexOf("&"));
                String tmpid = tmp.substring(tmp.indexOf("_")+1,tmp.lastIndexOf("_"));
                  String byagentid = tmp.substring(tmp.lastIndexOf("&")+1,tmp.indexOf("@"));//xwj for td2104 on 20050802
                String agenttype = tmp.substring(tmp.indexOf("@")+1);//xwj for td2104 on 20050802
                String tmpnodeid = tmp.substring(0,tmp.indexOf("_"));//added by xwj for td2891

                /* ---------- xwj for td2104 on 20050802 begin----------*/
                if(tmptype.equals("0")){
                  if("0".equals(agenttype) || "-".equals(agenttype)){
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      }

                       /* --------- xwj for td2891 begin ----*/
                    else if("2".equals(agenttype)){

                     if(!creatorNodeId.equals(tmpnodeid)){
                    
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((byagentid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(byagentid),user.getLanguage())));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string27, 0, _jsp_string27.length);
      }
                     else{

                           String agentCheckSql = " select * from workflow_Agent where workflowId="+ workflowid +" and beagenterId=" + byagentid +
                                                     " and agenttype = '1' " +
                                                     " and ( ( (endDate = '" + TimeUtil.getCurrentDateString() + "' and (endTime='' or endTime is null))" +
                                                     " or (endDate = '" + TimeUtil.getCurrentDateString() + "' and endTime > '" + (TimeUtil.getCurrentTimeString()).substring(11,19) + "' ) ) " +
                                                     " or endDate > '" + TimeUtil.getCurrentDateString() + "' or endDate = '' or endDate is null)" +
                                                     " and ( ( (beginDate = '" + TimeUtil.getCurrentDateString() + "' and (beginTime='' or beginTime is null))" +
                                                     " or (beginDate = '" + TimeUtil.getCurrentDateString() + "' and beginTime < '" + (TimeUtil.getCurrentTimeString()).substring(11,19) + "' ) ) " +
                                                     " or beginDate < '" + TimeUtil.getCurrentDateString() + "' or beginDate = '' or beginDate is null)";
                           RecordSetlog3.executeSql(agentCheckSql);
                           if(!RecordSetlog3.next()){
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      }
                       else{
                             String isCreator = RecordSetlog3.getString("isCreateAgenter");
                          if(!isCreator.equals("1")){
      out.write(_jsp_string29, 0, _jsp_string29.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string30, 0, _jsp_string30.length);
      }
                              else{

                                 int userLevelUp = -1;
                                 int uesrLevelTo = -1;
                                 int secLevel = -1;
                                 rsCheckUserCreater.executeSql("select seclevel from HrmResource where id= " + tmpid);
                                 if(rsCheckUserCreater.next()){
                                 secLevel = rsCheckUserCreater.getInt("seclevel");
                                 }
                                 else{
                                 rsCheckUserCreater.executeSql("select seclevel from HrmResourceManager where id= " + tmpid);
                                 if(rsCheckUserCreater.next()){
                                 secLevel = rsCheckUserCreater.getInt("seclevel");
                                 }
                                 }
                                 //\u662f\u5426\u6709\u6b64\u6d41\u7a0b\u7684\u521b\u5efa\u6743\u9650
                                 boolean haswfcreate = shareManager.hasWfCreatePermission(user, Integer.parseInt(workflowid));
                                 if(byagentid==null || byagentid==""){
                                 
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      }
                                 else{
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((byagentid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(byagentid),user.getLanguage())));
      out.write(_jsp_string34, 0, _jsp_string34.length);
      out.print((tmpid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(tmpid),user.getLanguage())));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      }

                               }
                          }

                       }

                  }
                  /* --------- xwj for td2891 end ----*/

                  else{
                  }
                }

                /* ---------- xwj for td2104 on 20050802 end----------*/
                else if(tmptype.equals("1")){
    
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((tmpid));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((Util.toScreen(CustomerInfoComInfo.getCustomerInfoname(tmpid),user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      
                } else{
    
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((SystemEnv.getHtmlLabelName(468,user.getLanguage())));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      
                }
    
      out.write(_jsp_string57, 0, _jsp_string57.length);
      
            }
        }           //  end of for
    
      out.write(_jsp_string58, 0, _jsp_string58.length);
      
      //add by xhheng @20050106 for TD 1544\uff0c\u5c06\u65b0\u5efa\u6d41\u7a0b\u65f6\u7684\u521b\u5efa\u8282\u70b9\u4f5c\u7279\u6b8a\u5904\u7406
        } else if(curnodetype==1 && requestid != -1){
      
      out.write(_jsp_string62, 0, _jsp_string62.length);
      out.print((SystemEnv.getHtmlLabelName(16353,user.getLanguage())));
      out.write(_jsp_string63, 0, _jsp_string63.length);
      
      //requestid==-1 ,\u76f4\u63a5\u663e\u793a\u5f53\u524d\u64cd\u4f5c\u8005
                if(logintype.equals("1")){
    
      out.write(_jsp_string43, 0, _jsp_string43.length);
      out.print((userid));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((Util.toScreen(ResourceComInfo.getResourcename(userid),user.getLanguage())));
      out.write(_jsp_string44, 0, _jsp_string44.length);
      
                } else if(logintype.equals("2")){
    
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((userid));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((Util.toScreen(CustomerInfoComInfo.getCustomerInfoname(userid),user.getLanguage())));
      out.write(_jsp_string64, 0, _jsp_string64.length);
      
            }
    
      out.write(_jsp_string65, 0, _jsp_string65.length);
      
        }else if(curnodetype==2){
    
      out.write(_jsp_string59, 0, _jsp_string59.length);
      out.print((SystemEnv.getHtmlLabelName(16354,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      
            sql = " select id, groupname from workflow_nodegroup where nodeid = " + rs.getString("nodeid");
            rs1.executeSql(sql);
            while(rs1.next()){
    
      out.write(_jsp_string45, 0, _jsp_string45.length);
      out.print((formid));
      out.write(_jsp_string46, 0, _jsp_string46.length);
      out.print((isbill));
      out.write(_jsp_string47, 0, _jsp_string47.length);
      out.print((rs1.getString("id")));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((Util.toScreen(rs1.getString("groupname"),user.getLanguage())));
      out.write(_jsp_string64, 0, _jsp_string64.length);
      
            }
    
      out.write(_jsp_string65, 0, _jsp_string65.length);
      
        }
    
      out.write(_jsp_string66, 0, _jsp_string66.length);
      
}       // end of the max while

      out.write(_jsp_string67, 0, _jsp_string67.length);
      out.print((user.getLanguage()));
      out.write(_jsp_string68, 0, _jsp_string68.length);
      HrmListValidate HrmListValidateObj = new HrmListValidate(); 
      out.write(_jsp_string69, 0, _jsp_string69.length);
      if(HrmValidate.hasEmessage(user)){ 
      out.write(_jsp_string70, 0, _jsp_string70.length);
      out.print((SystemEnv.getHtmlLabelName(127379,user.getLanguage())));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      } 
      out.write(_jsp_string69, 0, _jsp_string69.length);
      if(HrmListValidateObj.isValidate(31)){ 
      out.write(_jsp_string72, 0, _jsp_string72.length);
      out.print((SystemEnv.getHtmlLabelName(16635,user.getLanguage())));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      }if(HrmListValidateObj.isValidate(19)){ 
      out.write(_jsp_string73, 0, _jsp_string73.length);
      out.print((SystemEnv.getHtmlLabelName(2051,user.getLanguage())));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      }if(HrmListValidateObj.isValidate(32)){ 
      out.write(_jsp_string74, 0, _jsp_string74.length);
      out.print((SystemEnv.getHtmlLabelName(18481,user.getLanguage())));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      }
      out.write(_jsp_string75, 0, _jsp_string75.length);
      out.print((SystemEnv.getHtmlLabelName(18939,user.getLanguage())));
      out.write(_jsp_string76, 0, _jsp_string76.length);
      out.print((SystemEnv.getHtmlLabelName(141,user.getLanguage())));
      out.write(_jsp_string77, 0, _jsp_string77.length);
      out.print((SystemEnv.getHtmlLabelName(6086,user.getLanguage())));
      out.write(_jsp_string78, 0, _jsp_string78.length);
      out.print((SystemEnv.getHtmlLabelName(596,user.getLanguage())));
      out.write(_jsp_string79, 0, _jsp_string79.length);
      out.print((SystemEnv.getHtmlLabelName(602,user.getLanguage())));
      out.write(_jsp_string80, 0, _jsp_string80.length);
      out.print((SystemEnv.getHtmlLabelName(422,user.getLanguage())));
      out.write(_jsp_string81, 0, _jsp_string81.length);
      out.print((SystemEnv.getHtmlLabelName(421,user.getLanguage())));
      out.write(_jsp_string82, 0, _jsp_string82.length);
      out.print((SystemEnv.getHtmlLabelName(71,user.getLanguage())));
      out.write(_jsp_string83, 0, _jsp_string83.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("workflow/request/WorkflowRequestPictureInner.jsp"), -7323435700910404575L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("hrm/resource/simpleHrmResource_wev8.jsp"), -3980235049747804820L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string15;
  private final static char []_jsp_string75;
  private final static char []_jsp_string64;
  private final static char []_jsp_string4;
  private final static char []_jsp_string52;
  private final static char []_jsp_string72;
  private final static char []_jsp_string34;
  private final static char []_jsp_string63;
  private final static char []_jsp_string77;
  private final static char []_jsp_string28;
  private final static char []_jsp_string24;
  private final static char []_jsp_string60;
  private final static char []_jsp_string53;
  private final static char []_jsp_string36;
  private final static char []_jsp_string73;
  private final static char []_jsp_string80;
  private final static char []_jsp_string69;
  private final static char []_jsp_string18;
  private final static char []_jsp_string21;
  private final static char []_jsp_string41;
  private final static char []_jsp_string7;
  private final static char []_jsp_string47;
  private final static char []_jsp_string20;
  private final static char []_jsp_string59;
  private final static char []_jsp_string74;
  private final static char []_jsp_string9;
  private final static char []_jsp_string71;
  private final static char []_jsp_string19;
  private final static char []_jsp_string45;
  private final static char []_jsp_string33;
  private final static char []_jsp_string13;
  private final static char []_jsp_string6;
  private final static char []_jsp_string83;
  private final static char []_jsp_string68;
  private final static char []_jsp_string76;
  private final static char []_jsp_string61;
  private final static char []_jsp_string57;
  private final static char []_jsp_string0;
  private final static char []_jsp_string30;
  private final static char []_jsp_string12;
  private final static char []_jsp_string67;
  private final static char []_jsp_string51;
  private final static char []_jsp_string35;
  private final static char []_jsp_string58;
  private final static char []_jsp_string48;
  private final static char []_jsp_string11;
  private final static char []_jsp_string27;
  private final static char []_jsp_string38;
  private final static char []_jsp_string42;
  private final static char []_jsp_string39;
  private final static char []_jsp_string81;
  private final static char []_jsp_string40;
  private final static char []_jsp_string79;
  private final static char []_jsp_string46;
  private final static char []_jsp_string29;
  private final static char []_jsp_string65;
  private final static char []_jsp_string8;
  private final static char []_jsp_string62;
  private final static char []_jsp_string66;
  private final static char []_jsp_string55;
  private final static char []_jsp_string43;
  private final static char []_jsp_string32;
  private final static char []_jsp_string49;
  private final static char []_jsp_string31;
  private final static char []_jsp_string14;
  private final static char []_jsp_string70;
  private final static char []_jsp_string50;
  private final static char []_jsp_string16;
  private final static char []_jsp_string2;
  private final static char []_jsp_string54;
  private final static char []_jsp_string17;
  private final static char []_jsp_string26;
  private final static char []_jsp_string23;
  private final static char []_jsp_string10;
  private final static char []_jsp_string82;
  private final static char []_jsp_string3;
  private final static char []_jsp_string37;
  private final static char []_jsp_string56;
  private final static char []_jsp_string78;
  private final static char []_jsp_string44;
  private final static char []_jsp_string25;
  private final static char []_jsp_string5;
  private final static char []_jsp_string22;
  private final static char []_jsp_string1;
  static {
    _jsp_string15 = ")}\" >\r\n    <tr height=15px>\r\n    <TD VALIGN=TOP style=\"padding-left:2px;background-color:".toCharArray();
    _jsp_string75 = "\r\n						</tr>\r\n					</table>\r\n				</div>\r\n			</td>\r\n			<td valign=\"top\">\r\n				<div style=\"position:absolute;top: -17px;left: 438px\">\r\n					<img id=\"closetext\" style=\"cursor: hand;\"src=\"/images/messageimages/temp/closeicno_wev8.png\" onclick=\"javascript:closediv();\"/>\r\n				</div>\r\n				<div id=\"showSQRCodeDiv\" style=\"text-align: left;position:absolute;top: -20px;left: 350px; \" onclick=\"createQCode()\"></div>	\r\n				<table width=\"257px\" height=\"293px\" border=\"0\" style=\"padding-left: 16px;padding-top: 0px\" bgcolor=\"#FFFFFF\" cellpadding=\"0\" cellspacing=\"0\">\r\n					<tr height=\"40px\">\r\n						<td>\r\n							<div>\r\n								<img id=\"isonline\" src=\"/images/messageimages/temp/online_wev8.png\" width=\"19\" height=\"19\" style=\"vertical-align:top;\">&nbsp;<span class=\"STYLE4\" id=\"result1\"></span>&nbsp;<span class=\"STYLE6\" id=\"result2\"></span> &nbsp;<span class=\"STYLE6\" id=\"result13\"></span>&nbsp;&nbsp;&nbsp;&nbsp;\r\n								<img src=\"/images/messageimages/temp/qcode_wev8.png\" width=\"19\" height=\"19\" style=\"vertical-align:middle;cursor: hand;\" onclick=\"createQCode()\">\r\n							</div>\r\n						</td>\r\n					</tr>\r\n					<tr style=\"height:1px!important;\" class=\"Spacing\">\r\n						<td><div class=\"intervalDivClass\"></div></td>\r\n					</tr>\r\n					<tr style=\"height:4px!important;\">\r\n						<td></td>\r\n					</tr>\r\n					<tr>\r\n						<td>\r\n							<table height=\"203px\">\r\n								<tr>\r\n									<td style=\"WORD-WRAP: break-word;TEXT-VALIGN: left;word-break:break-all;\">\r\n										<span class=\"STYLE6\">".toCharArray();
    _jsp_string64 = "</a>\r\n    &nbsp\r\n    ".toCharArray();
    _jsp_string4 = "\r\n\r\n<LINK href=\"/css/Weaver_wev8.css\" type=text/css rel=STYLESHEET>\r\n<TABLE border=0 cellpadding=0 cellspacing=0  width=\"100%\"><TR><TD ID='InnerIMAGETD'>\r\n\r\n<script language=javascript src=\"/js/weaver_wev8.js\"></script>\r\n\r\n".toCharArray();
    _jsp_string52 = "; POSITION:absolute; TOP:".toCharArray();
    _jsp_string72 = "\r\n							<td><img src=\"/images/messageimages/temp/msn_wev8.png\" onmouseover=\"javascript:this.src='/images/messageimages/temp/msnhot_wev8.png';\" onmouseout=\"javascript:this.src='/images/messageimages/temp/msn_wev8.png';\" onclick=\"javascript:openmessage();\" title=\"".toCharArray();
    _jsp_string34 = "</a>\r\n                                    ->\r\n                                   <a href=\"javaScript:openhrm(".toCharArray();
    _jsp_string63 = "\">\r\n      ".toCharArray();
    _jsp_string77 = "&nbsp;:&nbsp;&nbsp;&nbsp;</span>\r\n										<span class=\"STYLE61\" id=\"result9\"></span>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td style=\"WORD-WRAP: break-word;TEXT-VALIGN: left;word-break:break-all;\">\r\n										<span class=\"STYLE6\">".toCharArray();
    _jsp_string28 = "</A>\r\n                         ".toCharArray();
    _jsp_string24 = ");\" onclick='pointerXY(event);'>".toCharArray();
    _jsp_string60 = "\r\n    &nbsp\r\n    </TD></TR>\r\n    <TR id=D2><TD class=MenuPopup><img src=\"/images/icon_resource_flat_wev8.gif\" title=\"".toCharArray();
    _jsp_string53 = "; WIDTH:240px; Z-INDEX: 200\">\r\n    <TABLE cellpadding=2 cellspacing=0 class=\"MenuPopUp\"  LANGUAGE=javascript\r\n        onMouseOut=\"return oc_CurrentMenuOnMouseOut(".toCharArray();
    _jsp_string36 = "\">".toCharArray();
    _jsp_string73 = "\r\n							<td><img src=\"/images/messageimages/temp/email_wev8.png\" onmouseover=\"javascript:this.src='/images/messageimages/temp/emailhot_wev8.png';\" onmouseout=\"javascript:this.src='/images/messageimages/temp/email_wev8.png';\" onclick=\"javascript:openemail();\" title=\"".toCharArray();
    _jsp_string80 = "&nbsp;:&nbsp;&nbsp;&nbsp;</span>\r\n										<span class=\"STYLE61\" id=\"result11\"></span>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td style=\"WORD-WRAP: break-word;TEXT-VALIGN: left;word-break:break-all;\">\r\n										<span class=\"STYLE6\">".toCharArray();
    _jsp_string69 = "\r\n							".toCharArray();
    _jsp_string18 = "\r\n    <TD VALIGN=TOP align=left style=\"background-color:#F5F5F5;border:4px solid red;padding-left:2px; position:relative;\">\r\n    ".toCharArray();
    _jsp_string21 = "\r\n    <img src=\"/images/iconemp_wev8.gif\" title=\"".toCharArray();
    _jsp_string41 = "\">\r\n    ".toCharArray();
    _jsp_string7 = "&workflowid=".toCharArray();
    _jsp_string47 = "&id=".toCharArray();
    _jsp_string20 = "\r\n        ".toCharArray();
    _jsp_string59 = "\r\n    <TR id=D1><TD class=MenuPopup><img src=\"/images/imgPersonHead_wev8.gif\" title=\"".toCharArray();
    _jsp_string74 = "\r\n							<td><img src=\"/images/messageimages/temp/workplan_wev8.png\" onmouseover=\"javascript:this.src='/images/messageimages/temp/workplanhot_wev8.png';\" onmouseout=\"javascript:this.src='/images/messageimages/temp/workplan_wev8.png';\" onclick=\"javascript:doAddWorkPlan();\" title=\"".toCharArray();
    _jsp_string9 = "\r\n\r\n<style>\r\n *{\r\n   font-family: \"\u5b8b\u4f53\" !important;\r\n   font-size: 12px;\r\n }\r\n\r\n</style>\r\n\r\n<TABLE cellpadding=1 cellspacing=1 Class=ChartCompany STYLE=\"table-layout : fixed;POSITION:absolute;Z-INDEX:100;FONT-SIZE:8pt;LETTER-SPACING:-1pt;TOP:".toCharArray();
    _jsp_string71 = "\"></td>\r\n							".toCharArray();
    _jsp_string19 = "\r\n    <TD VALIGN=TOP align=left style=\"background-color:#F5F5F5;border:1px solid black;padding-left:2px;position:relative;\">\r\n    ".toCharArray();
    _jsp_string45 = "\r\n    <a href=\"/workflow/workflow/editoperatorgroup.jsp?isview=1&formid=".toCharArray();
    _jsp_string33 = "\r\n                                   <a href=\"javaScript:openhrm(".toCharArray();
    _jsp_string13 = "\" LANGUAGE=javascript \r\n        onclick=\"return oc_CurrentMenuOnClick(".toCharArray();
    _jsp_string6 = "\" border=0 >\r\n".toCharArray();
    _jsp_string83 = "&nbsp;:&nbsp;&nbsp;&nbsp;</span>\r\n										<span class=\"STYLE61\" id=\"result5\"></span>\r\n									</td>\r\n								</tr>\r\n							</table>\r\n						</td>\r\n					</tr>\r\n					<tr height=\"42px\">\r\n						<td align=\"right\" valign=\"middle\" style=\"padding-right: 12px\">\r\n							<span class=\"STYLE6\" id=\"result0\"></span>\r\n						</td>\r\n					</tr>\r\n				</table>\r\n			</td>\r\n		</tr>\r\n	</table>\r\n</div>\r\n\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/jquery_wev8.js\"></script>\r\n<script type=\"text/javascript\">\r\nif(window.parent.document.getElementById(\"divWfPic\")) {\r\n    //jQuery(\"#divWfPic\", window.parent.document).html(jQuery(\"#InnerIMAGETD\").html());\r\n}\r\n\r\nfunction oc_CurrentMenuOnMouseOut(icount) {\r\n    document.all(\"oc_divMenuDivision\" + icount).style.visibility = \"hidden\"\r\n}\r\n\r\nfunction oc_CurrentMenuOnClick(icount) {\r\n    document.all(\"oc_divMenuDivision\" + icount).style.visibility = \"\"\r\n}\r\n\r\n</script>".toCharArray();
    _jsp_string68 = "'\r\n</script>\r\n<script type=\"text/javascript\" src=\"/js/messagejs/highslide/highslide-full_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/messagejs/simplehrm_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/messagejs/messagejs_wev8.js\"></script>\r\n<script language=\"javascript\" src=\"/qrcode/js/jquery.qrcode-0.7.0_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/weaver_wev8.js\"></script>\r\n<!--[if IE]> \r\n<script src=\"/qrcode/js/html5shiv_wev8.js\"></script>\r\n<script src=\"/qrcode/js/excanvas.compiled_wev8.js\"></script>\r\n<![endif]-->\r\n<script type=\"text/javascript\">\r\n	function getImageResult(o)\r\n	{\r\n		hs.graphicsDir = '/js/messagejs/highslide/graphics/';\r\n		hs.outlineType = 'rounded-white';\r\n		hs.fadeInOut = true;\r\n		hs.headingEval = 'this.a.title';\r\n		var hrefimg = document.getElementById(\"resourceimghref\").href;\r\n		if(hrefimg.indexOf(\"javascript\")!=-1)\r\n		{\r\n			void(0);\r\n			return false;\r\n		}\r\n		else\r\n		{\r\n			return hs.expand(o);\r\n		}\r\n	}\r\n\r\nfunction createQCode(){\r\n	if(jQuery(\"#showSQRCodeDiv\").is(\":hidden\"))\r\n		jQuery(\"#showSQRCodeDiv\").show();\r\n	else\r\n		jQuery(\"#showSQRCodeDiv\").hide();\r\n}\r\n\r\nfunction initSrc(){\r\n	if(jQuery(\"#result2\").html()==\"\uff08\u7537\uff09\"){\r\n		jQuery(\"#resourceimg\").attr(\"src\",\"/images/messageimages/temp/man_wev8.png\");	\r\n		jQuery(\"#resourceimg\").parent().attr(\"href\",\"/images/messageimages/temp/man_wev8.png\");\r\n	}else if(jQuery(\"#result2\").html()==\"\uff08\u5973\uff09\"){\r\n		jQuery(\"#resourceimg\").attr(\"src\",\"/images/messageimages/temp/women_wev8.png\");	\r\n		jQuery(\"#resourceimg\").parent().attr(\"href\",\"/images/messageimages/temp/women_wev8.png\");\r\n	}\r\n}\r\n</script>\r\n<style type=\"text/css\">\r\n<!--\r\n.STYLE4 {\r\n	FONT-FAMILY: Verdana;\r\n	font-size: 14px;\r\n	cursor: hand;\r\n}\r\n\r\n.STYLE6 {\r\n	FONT-FAMILY: Verdana;\r\n	FONT-SIZE: 12px;\r\n}\r\n\r\n.STYLE61 {\r\n	FONT-FAMILY: Verdana;\r\n	FONT-SIZE: 12px;\r\n	color: #000000;\r\n}\r\n\r\n.simplehrmhead {\r\n	vertical-align:baseline;\r\n}\r\n#mainsupports {\r\n	position: absolute;\r\n	font-size: 12px;\r\n	color: #929393;\r\n	display: none;\r\n	z-index: 1;\r\n}\r\n\r\n#closetext {\r\n	float: right;\r\n	margin-right: 20px;\r\n}\r\n\r\n#mainsupports li a:link {\r\n	color: #2a788e;\r\n	font-size: 12px;\r\n	text-decoration: none;\r\n}\r\n\r\n#mainsupports li a:visited {\r\n	color: #227086;\r\n	font-size: 12px;\r\n	text-decoration: none;\r\n}\r\n\r\n#mainsupports li a:hover {\r\n	color: #FFFFFF;\r\n	font-size: 12px;\r\n	text-decoration: none;\r\n}\r\n\r\n#resourceimg {\r\n	width: 198px;\r\n	height: 293px;\r\n	margin-top: 0px;\r\n}\r\n-->\r\n</style>\r\n<!-- \u8fd9\u91cc\u6539\u4e86z-index(+2),\u56e0\u4e3aUE\u7f16\u8f91\u5668\u4f1a\u906e\u4f4f\u5f39\u7a97 -->\r\n<div id=\"mainsupports\" style=\"z-index:1999;background-color:#e4e4e4;position: absolute;font-size: 12px;color: #929393;display: none;\">\r\n	<table width=\"455px\" height=\"293px\" border=\"0\" align=\"center\" style=\"vertical-align: middle;\" cellpadding=\"0\" cellspacing=\"0\">\r\n		<tr>\r\n			<td width=\"198px\" valign=\"top\">\r\n				<a id='resourceimghref' href=\"javascript:void(0);\" onclick=\"return getImageResult(this);\" onFocus=\"this.blur()\"><img id='resourceimg' src=\"/images/messageimages/temp/loading_wev8.gif\" border=0 width=\"100%\" height=\"100%\" onError=\"initSrc()\"></a>\r\n				<div style=\"position:absolute;top: 243px;background-image:url('/images/messageimages/temp/divbg_wev8.png');\">\r\n					<table style=\"width: 198px;height: 50px;text-align: center;vertical-align: middle;\">\r\n						<tr>\r\n						".toCharArray();
    _jsp_string76 = "&nbsp;:&nbsp;&nbsp;&nbsp;</span>\r\n										<span class=\"STYLE61\" id=\"result6\"></span>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td style=\"WORD-WRAP: break-word;TEXT-VALIGN: left;word-break:break-all;\">\r\n										<span class=\"STYLE6\">".toCharArray();
    _jsp_string61 = "\r\n    &nbsp\r\n    </TD></TR>\r\n    <TR id=D3><TD class=MenuPopup><img src=\"/images/iconemp_wev8.gif\" title=\"".toCharArray();
    _jsp_string57 = "\r\n    &nbsp\r\n    ".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string30 = "</A>\r\n                            ".toCharArray();
    _jsp_string12 = "!important;width:".toCharArray();
    _jsp_string67 = "\r\n\r\n<p></p>\r\n</TD></TR></TABLE>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script type=\"text/javascript\">\r\n//\u7528\u6237\u8bed\u8a00\r\nvar languageid = '".toCharArray();
    _jsp_string51 = "\"\r\n    style=\"visibility:hidden; LEFT:".toCharArray();
    _jsp_string35 = "\r\n    <a href=\"/CRM/data/ViewCustomer.jsp?CustomerID=".toCharArray();
    _jsp_string58 = "\r\n    &nbsp\r\n    </TD></TR>\r\n    ".toCharArray();
    _jsp_string48 = "\r\n    \r\n    <div align=right style=\"position:absolute;bottom:2px;right:2px;\">\r\n    >>>\r\n    </div>\r\n    ".toCharArray();
    _jsp_string11 = "; height:".toCharArray();
    _jsp_string27 = "</A>\r\n\r\n                   ".toCharArray();
    _jsp_string38 = "\r\n    ".toCharArray();
    _jsp_string42 = "</A>\r\n                  ".toCharArray();
    _jsp_string39 = "\r\n    <div align=right style=\"position:absolute;bottom:2px;right:2px;\">\r\n    >>>\r\n    </div>\r\n    ".toCharArray();
    _jsp_string81 = "&nbsp;:&nbsp;&nbsp;&nbsp;</span>\r\n										<span class=\"STYLE61\" id=\"result3\"></span>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td style=\"WORD-WRAP: break-word;TEXT-VALIGN: left;word-break:break-all;\">\r\n										<span class=\"STYLE6\">".toCharArray();
    _jsp_string40 = "\r\n    <img src=\"/images/imgPersonHead_wev8.gif\" title=\"".toCharArray();
    _jsp_string79 = "&nbsp;:&nbsp;&nbsp;&nbsp;</span>\r\n										<span class=\"STYLE61\" id=\"result7\"></span>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td style=\"WORD-WRAP: break-word;TEXT-VALIGN: left;word-break:break-all;\">\r\n										<span class=\"STYLE6\">".toCharArray();
    _jsp_string46 = "&isbill=".toCharArray();
    _jsp_string29 = "\r\n\r\n                              <a href=\"javaScript:openhrm(".toCharArray();
    _jsp_string65 = "\r\n    </TD></TR>\r\n    ".toCharArray();
    _jsp_string8 = "&currentnodeid=".toCharArray();
    _jsp_string62 = "\r\n         <TR id=D4><TD class=MenuPopup><img src=\"/images/iconemp_wev8.gif\" title=\"".toCharArray();
    _jsp_string66 = "\r\n</TABLE>\r\n</DIV>\r\n\r\n".toCharArray();
    _jsp_string55 = ")\" style=\"HEIGHT: 79px; WIDTH: 246px;background-color:#4A96EB\">\r\n    ".toCharArray();
    _jsp_string43 = "\r\n    <a href=\"javaScript:openhrm(".toCharArray();
    _jsp_string32 = "</a>\r\n                                 ".toCharArray();
    _jsp_string49 = "\r\n\r\n    </TD></TR></TABLE>\r\n\r\n    <DIV id=\"oc_divMenuDivision".toCharArray();
    _jsp_string31 = "\r\n                                 <a href=\"javaScript:openhrm(".toCharArray();
    _jsp_string14 = ")\" onMouseOut=\"if(isMouseLeaveOrEnter(event, this)) { oc_CurrentMenuOnMouseOut(".toCharArray();
    _jsp_string70 = "\r\n							<td><img src=\"/images/messageimages/temp/emessage_wev8.png\" onmouseover=\"javascript:this.src='/images/messageimages/temp/emessagehot_wev8.png';\" onmouseout=\"javascript:this.src='/images/messageimages/temp/emessage_wev8.png';\" onclick=\"javascript:sendSimpleEmessage();\" title=\"".toCharArray();
    _jsp_string50 = "\" name=\"oc_divMenuDivision".toCharArray();
    _jsp_string16 = ";color:white;border:1px solid black\">\r\n    <B>".toCharArray();
    _jsp_string2 = "\r\n".toCharArray();
    _jsp_string54 = ")\" onMouseOver=\"return oc_CurrentMenuOnClick(".toCharArray();
    _jsp_string17 = "</B></TD>\r\n    </TR><TR>\r\n    ".toCharArray();
    _jsp_string26 = "</A>\r\n                           ->\r\n                           <a href=\"javaScript:openhrm(".toCharArray();
    _jsp_string23 = "\r\n                           <a href=\"javaScript:openhrm(".toCharArray();
    _jsp_string10 = ";LEFT:".toCharArray();
    _jsp_string82 = "&nbsp;:&nbsp;&nbsp;&nbsp;</span>\r\n										<span class=\"STYLE61\" id=\"result4\"></span>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td style=\"WORD-WRAP: break-word;TEXT-VALIGN: left;word-break:break-all;\">\r\n										<span class=\"STYLE6\">".toCharArray();
    _jsp_string3 = " \r\n".toCharArray();
    _jsp_string37 = "</a>\r\n    ".toCharArray();
    _jsp_string56 = "\r\n     <TR id=D3><TD class=MenuPopup><img src=\"/images/iconemp_wev8.gif\" title=\"".toCharArray();
    _jsp_string78 = "&nbsp;:&nbsp;&nbsp;&nbsp;</span>\r\n										<span class=\"STYLE61\" id=\"result10\"></span>\r\n									</td>\r\n								</tr>\r\n								<tr>\r\n									<td style=\"WORD-WRAP: break-word;TEXT-VALIGN: left;word-break:break-all;\">\r\n										<span class=\"STYLE6\">".toCharArray();
    _jsp_string44 = "</A>\r\n    ".toCharArray();
    _jsp_string25 = "</A>\r\n                    ".toCharArray();
    _jsp_string5 = "\r\n<img id=\"wfRstPicImg\" src=\"/weaver/weaver.workflow.workflow.ShowWorkFlow?requestid=".toCharArray();
    _jsp_string22 = "\">\r\n        ".toCharArray();
    _jsp_string1 = "\r\n\r\n".toCharArray();
  }
}
