/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._workflow._request;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.general.browserData.BrowserManager;
import weaver.hrm.User;
import weaver.hrm.HrmUserVarify;
import java.util.Hashtable;
import java.util.StringTokenizer;
import weaver.systeminfo.SystemEnv;
import weaver.general.StaticObj;
import java.util.List;
import java.util.Map;
import weaver.formmode.tree.CustomTreeUtil;
import weaver.formmode.tree.CustomTreeData;
import weaver.workflow.field.HtmlElement;
import weaver.workflow.field.FileElement;
import weaver.general.Util;
import java.util.ArrayList;
import java.util.HashMap;
import weaver.workflow.datainput.DynamicDataInput;
import weaver.conn.*;
import weaver.workflow.request.WFFreeFlowManager;
import weaver.interfaces.workflow.browser.Browser;
import weaver.interfaces.workflow.browser.BrowserBean;

public class _workflowmanagerequestdetailbodybill__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    weaver.template.tag.ViewTag _jsp_ViewTag_0 = null;
    weaver.template.tag.GroupTag _jsp_GroupTag_1 = null;
    weaver.template.tag.ItemTag _jsp_ItemTag_2 = null;
    weaver.template.tag.ItemTag _jsp_ItemTag_3 = null;
    weaver.common.util.taglib.BrowserTag _jsp_BrowserTag_4 = null;
    com.caucho.jsp.StaticJspFragmentSupport _jsp_fragment_0 = null;
    weaver.common.util.taglib.BrowserTag _jsp_BrowserTag_5 = null;
    com.caucho.jsp.StaticJspFragmentSupport _jsp_fragment_1 = null;
    weaver.common.util.taglib.BrowserTag _jsp_BrowserTag_6 = null;
    com.caucho.jsp.StaticJspFragmentSupport _jsp_fragment_2 = null;
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      weaver.workflow.request.RequestPreAddinoperateManager requestPreAddM;
      requestPreAddM = (weaver.workflow.request.RequestPreAddinoperateManager) pageContext.getAttribute("requestPreAddM");
      if (requestPreAddM == null) {
        requestPreAddM = new weaver.workflow.request.RequestPreAddinoperateManager();
        pageContext.setAttribute("requestPreAddM", requestPreAddM);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.hrm.resource.ResourceComInfo ResourceComInfo2;
      ResourceComInfo2 = (weaver.hrm.resource.ResourceComInfo) pageContext.getAttribute("ResourceComInfo2");
      if (ResourceComInfo2 == null) {
        ResourceComInfo2 = new weaver.hrm.resource.ResourceComInfo();
        pageContext.setAttribute("ResourceComInfo2", ResourceComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.crm.Maint.CustomerInfoComInfo CustomerInfoComInfo2;
      CustomerInfoComInfo2 = (weaver.crm.Maint.CustomerInfoComInfo) pageContext.getAttribute("CustomerInfoComInfo2");
      if (CustomerInfoComInfo2 == null) {
        CustomerInfoComInfo2 = new weaver.crm.Maint.CustomerInfoComInfo();
        pageContext.setAttribute("CustomerInfoComInfo2", CustomerInfoComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.workflow.field.BrowserComInfo BrowserComInfo2;
      BrowserComInfo2 = (weaver.workflow.field.BrowserComInfo) pageContext.getAttribute("BrowserComInfo2");
      if (BrowserComInfo2 == null) {
        BrowserComInfo2 = new weaver.workflow.field.BrowserComInfo();
        pageContext.setAttribute("BrowserComInfo2", BrowserComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet RecordSet;
      RecordSet = (weaver.conn.RecordSet) pageContext.getAttribute("RecordSet");
      if (RecordSet == null) {
        RecordSet = new weaver.conn.RecordSet();
        pageContext.setAttribute("RecordSet", RecordSet);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet recordSet;
      recordSet = (weaver.conn.RecordSet) pageContext.getAttribute("recordSet");
      if (recordSet == null) {
        recordSet = new weaver.conn.RecordSet();
        pageContext.setAttribute("recordSet", recordSet);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet rscount;
      rscount = (weaver.conn.RecordSet) pageContext.getAttribute("rscount");
      if (rscount == null) {
        rscount = new weaver.conn.RecordSet();
        pageContext.setAttribute("rscount", rscount);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet rs;
      rs = (weaver.conn.RecordSet) pageContext.getAttribute("rs");
      if (rs == null) {
        rs = new weaver.conn.RecordSet();
        pageContext.setAttribute("rs", rs);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet rscount02;
      rscount02 = (weaver.conn.RecordSet) pageContext.getAttribute("rscount02");
      if (rscount02 == null) {
        rscount02 = new weaver.conn.RecordSet();
        pageContext.setAttribute("rscount02", rscount02);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.proj.Maint.ProjectInfoComInfo ProjectInfoComInfo2;
      ProjectInfoComInfo2 = (weaver.proj.Maint.ProjectInfoComInfo) pageContext.getAttribute("ProjectInfoComInfo2");
      if (ProjectInfoComInfo2 == null) {
        ProjectInfoComInfo2 = new weaver.proj.Maint.ProjectInfoComInfo();
        pageContext.setAttribute("ProjectInfoComInfo2", ProjectInfoComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.hrm.company.DepartmentComInfo DepartmentComInfo2;
      DepartmentComInfo2 = (weaver.hrm.company.DepartmentComInfo) pageContext.getAttribute("DepartmentComInfo2");
      if (DepartmentComInfo2 == null) {
        DepartmentComInfo2 = new weaver.hrm.company.DepartmentComInfo();
        pageContext.setAttribute("DepartmentComInfo2", DepartmentComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.hrm.companyvirtual.DepartmentVirtualComInfo deptVirComInfo2;
      deptVirComInfo2 = (weaver.hrm.companyvirtual.DepartmentVirtualComInfo) pageContext.getAttribute("deptVirComInfo2");
      if (deptVirComInfo2 == null) {
        deptVirComInfo2 = new weaver.hrm.companyvirtual.DepartmentVirtualComInfo();
        pageContext.setAttribute("deptVirComInfo2", deptVirComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.hrm.company.SubCompanyComInfo SubCompanyComInfo2;
      SubCompanyComInfo2 = (weaver.hrm.company.SubCompanyComInfo) pageContext.getAttribute("SubCompanyComInfo2");
      if (SubCompanyComInfo2 == null) {
        SubCompanyComInfo2 = new weaver.hrm.company.SubCompanyComInfo();
        pageContext.setAttribute("SubCompanyComInfo2", SubCompanyComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.hrm.companyvirtual.SubCompanyVirtualComInfo subCompVirComInfo2;
      subCompVirComInfo2 = (weaver.hrm.companyvirtual.SubCompanyVirtualComInfo) pageContext.getAttribute("subCompVirComInfo2");
      if (subCompVirComInfo2 == null) {
        subCompVirComInfo2 = new weaver.hrm.companyvirtual.SubCompanyVirtualComInfo();
        pageContext.setAttribute("subCompVirComInfo2", subCompVirComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.docs.docs.DocComInfo DocComInfo2;
      DocComInfo2 = (weaver.docs.docs.DocComInfo) pageContext.getAttribute("DocComInfo2");
      if (DocComInfo2 == null) {
        DocComInfo2 = new weaver.docs.docs.DocComInfo();
        pageContext.setAttribute("DocComInfo2", DocComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet rs_item;
      rs_item = (weaver.conn.RecordSet) pageContext.getAttribute("rs_item");
      if (rs_item == null) {
        rs_item = new weaver.conn.RecordSet();
        pageContext.setAttribute("rs_item", rs_item);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.cpt.capital.CapitalComInfo CapitalComInfo2;
      CapitalComInfo2 = (weaver.cpt.capital.CapitalComInfo) pageContext.getAttribute("CapitalComInfo2");
      if (CapitalComInfo2 == null) {
        CapitalComInfo2 = new weaver.cpt.capital.CapitalComInfo();
        pageContext.setAttribute("CapitalComInfo2", CapitalComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.workflow.workflow.WorkflowRequestComInfo WorkflowRequestComInfo2;
      WorkflowRequestComInfo2 = (weaver.workflow.workflow.WorkflowRequestComInfo) pageContext.getAttribute("WorkflowRequestComInfo2");
      if (WorkflowRequestComInfo2 == null) {
        WorkflowRequestComInfo2 = new weaver.workflow.workflow.WorkflowRequestComInfo();
        pageContext.setAttribute("WorkflowRequestComInfo2", WorkflowRequestComInfo2);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet rs_count;
      rs_count = (weaver.conn.RecordSet) pageContext.getAttribute("rs_count");
      if (rs_count == null) {
        rs_count = new weaver.conn.RecordSet();
        pageContext.setAttribute("rs_count", rs_count);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.workflow.workflow.WfLinkageInfo WfLinkageInfo;
      WfLinkageInfo = (weaver.workflow.workflow.WfLinkageInfo) pageContext.getAttribute("WfLinkageInfo");
      if (WfLinkageInfo == null) {
        WfLinkageInfo = new weaver.workflow.workflow.WfLinkageInfo();
        pageContext.setAttribute("WfLinkageInfo", WfLinkageInfo);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.workflow.workflow.WFNodeDtlFieldManager WFNodeDtlFieldManager;
      WFNodeDtlFieldManager = (weaver.workflow.workflow.WFNodeDtlFieldManager) pageContext.getAttribute("WFNodeDtlFieldManager");
      if (WFNodeDtlFieldManager == null) {
        WFNodeDtlFieldManager = new weaver.workflow.workflow.WFNodeDtlFieldManager();
        pageContext.setAttribute("WFNodeDtlFieldManager", WFNodeDtlFieldManager);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.docs.senddoc.DocReceiveUnitComInfo docReceiveUnitComInfo_mdbb;
      docReceiveUnitComInfo_mdbb = (weaver.docs.senddoc.DocReceiveUnitComInfo) pageContext.getAttribute("docReceiveUnitComInfo_mdbb");
      if (docReceiveUnitComInfo_mdbb == null) {
        docReceiveUnitComInfo_mdbb = new weaver.docs.senddoc.DocReceiveUnitComInfo();
        pageContext.setAttribute("docReceiveUnitComInfo_mdbb", docReceiveUnitComInfo_mdbb);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.docs.category.SecCategoryComInfo SecCategoryComInfo1;
      SecCategoryComInfo1 = (weaver.docs.category.SecCategoryComInfo) pageContext.getAttribute("SecCategoryComInfo1");
      if (SecCategoryComInfo1 == null) {
        SecCategoryComInfo1 = new weaver.docs.category.SecCategoryComInfo();
        pageContext.setAttribute("SecCategoryComInfo1", SecCategoryComInfo1);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.workflow.request.RequestManager RequestManager;
      RequestManager = (weaver.workflow.request.RequestManager) pageContext.getAttribute("RequestManager");
      if (RequestManager == null) {
        RequestManager = new weaver.workflow.request.RequestManager();
        pageContext.setAttribute("RequestManager", RequestManager);
      }
      out.write(_jsp_string3, 0, _jsp_string3.length);
      

String f_weaver_belongto_userid=request.getParameter("f_weaver_belongto_userid");//\u9700\u8981\u589e\u52a0\u7684\u4ee3\u7801
String f_weaver_belongto_usertype=request.getParameter("f_weaver_belongto_usertype");//\u9700\u8981\u589e\u52a0\u7684\u4ee3\u7801
session.setAttribute("f_weaver_belongto_userid",f_weaver_belongto_userid);
session.setAttribute("f_weaver_belongto_usertype",f_weaver_belongto_usertype);
User user = HrmUserVarify.getUser(request, response, f_weaver_belongto_userid, f_weaver_belongto_usertype) ;//\u9700\u8981\u589e\u52a0\u7684\u4ee3\u7801
int userid=user.getUID();                   //\u5f53\u524d\u7528\u6237id
int usertype = 0;


String selectDetailInitJsStr = "";
String initDetailIframeStr = "";
String selectDetailInitJsStrAdd = "";
String initDetailIframeStrAdd = "";
    String isaffirmance=Util.null2String(request.getParameter("isaffirmance"));//\u662f\u5426\u9700\u8981\u63d0\u4ea4\u786e\u8ba4






    String reEdit=Util.null2String(request.getParameter("reEdit"));//\u662f\u5426\u4e3a\u7f16\u8f91






    String requestid=Util.null2String(request.getParameter("requestid"));

    int creater = Util.getIntValue(request.getParameter("creater"),0);              //\u8bf7\u6c42\u7684\u521b\u5efa\u4eba
    int creatertype = Util.getIntValue(request.getParameter("creatertype"),0);        //\u521b\u5efa\u4eba\u7c7b\u578b 0: \u5185\u90e8\u7528\u6237 1: \u5916\u90e8\u7528\u6237

    String needcheck="";
    String dlbodychangattrstr="";
    String formid=Util.null2String(request.getParameter("formid"));
    String nodeid=Util.null2String(request.getParameter("nodeid"));
	String workflowid=Util.null2String(request.getParameter("workflowid"));
	int beagenter_dt = 0;
	String beagenter=""+creater;//\u83b7\u5f97\u88ab\u4ee3\u7406\u4eba
	rs.executeSql("select agentorbyagentid from workflow_currentoperator where usertype=0 and isremark='0' and agenttype=2 and requestid=" + requestid  + " and nodeid=" + nodeid + " order by id desc");
	if(rs.next()){
	 int tembeagenter = rs.getInt(1);
        if (tembeagenter > 0) {
		beagenter_dt = tembeagenter;
        beagenter =""+tembeagenter;
        }
	}
		int body_isagent = 0;
	RecordSet.executeSql("select agenttype from workflow_agentConditionSet where  isCreateAgenter=1 and workflowid ="+ workflowid + "and bagentuid="+ beagenter_dt +" order by agenttype desc");
	if(RecordSet.next()){
	int body_isagent_dt = RecordSet.getInt(1);
	body_isagent = body_isagent_dt;
	}
    //String isbill=Util.null2String(request.getParameter("isbill"));
	String isbill="1";
    String currentdate=Util.null2String(request.getParameter("currentdate"));
	String currenttime=Util.null2String(request.getParameter("currenttime"));
	String currentyear="";
	if(currentdate!=null&&currentdate.indexOf("-")>=0){
		currentyear=currentdate.substring(0,currentdate.indexOf("-"));
	}
    int isremark=Util.getIntValue(request.getParameter("isremark"),0);
    String nodetype=Util.null2String(request.getParameter("nodetype"));
    String docfileid=Util.null2String(request.getParameter("docfileid"));
    String newdocid=Util.null2String(request.getParameter("newdocid"));
    ArrayList seldefieldsdemanage=WfLinkageInfo.getSelectField(Util.getIntValue(workflowid),Util.getIntValue(nodeid),1);
    ArrayList changedefieldsdemanage=WfLinkageInfo.getChangeField(Util.getIntValue(workflowid),Util.getIntValue(nodeid),1);
    boolean IsCanModify="true".equals(session.getAttribute(user.getUID()+"_"+requestid+"IsCanModify"))?true:false;
    boolean editdetailbodyflag=false;
    if((isremark==0||IsCanModify) && (!isaffirmance.equals("1") || !nodetype.equals("0") || reEdit.equals("1"))) editdetailbodyflag=true;
    //\u5f53\u81ea\u7531\u6d41\u7a0b\u8bbe\u7f6e\u5f53\u524d\u8282\u70b9\u7684\u8868\u5355\u4e0d\u53ef\u4ee5\u7f16\u8f91\u65f6\uff0c\u5219\u5168\u90e8\u8868\u5355\u5b57\u6bb5\u90fd\u7981\u6b62\u7f16\u8f91






    if( !WFFreeFlowManager.allowFormEdit(requestid, nodeid) ){
        editdetailbodyflag = false;
    }
    
    
    ArrayList deuploadfieldids = new ArrayList();
    
    Hashtable otherPara_hs = new Hashtable();
	
    
    //\u5f53\u524d\u767b\u5f55\u7528\u6237\u6240\u7528\u8bed\u8a00id
    otherPara_hs.put("languageId", "" + user.getLanguage());
    
    boolean isurger = Util.null2String(request.getParameter("isurger")).equalsIgnoreCase("true");
    boolean wfmonitor = Util.null2String(request.getParameter("wfmonitor")).equalsIgnoreCase("true");
        
      String canDelAcc = "";
      String smsAlertsType = "";
      //\u5fae\u4fe1\u63d0\u9192(QC:98106)
      String chatsAlertType = "";
      rs.executeSql("select candelacc,smsAlertsType,chatsAlertType from workflow_base where id=" + workflowid);
      if (rs.next()) {
        canDelAcc = Util.null2String(rs.getString("candelacc"));
        smsAlertsType = Util.null2String(rs.getString("smsAlertsType"));
        chatsAlertType = Util.null2String(rs.getString("chatsAlertType"));
      }
    
      
      //otherPara_hs.put("iscreate", "" + iscreate);
      //otherPara_hs.put("version", "" + version);
      otherPara_hs.put("beagenter", "" + beagenter);
	  otherPara_hs.put("httprequest", request);
	  otherPara_hs.put("requestid", ""+requestid);
	  otherPara_hs.put("userid", ""+user.getUID());
	  otherPara_hs.put("workflowid", "" + workflowid);
      otherPara_hs.put("isremark", "" + isremark);
      otherPara_hs.put("nodeid", "" + nodeid);
      otherPara_hs.put("isbill", "" + isbill);
      otherPara_hs.put("nodetype", "" + nodetype);
      otherPara_hs.put("canDelAcc", canDelAcc);
    
      otherPara_hs.put("isprint", "0");
      otherPara_hs.put("wfmonitor", "" + wfmonitor);
      otherPara_hs.put("isurger", "" + isurger);
      
      otherPara_hs.put("changedefieldsadd", changedefieldsdemanage);
      
      
      String docCategory = "";
	  String sqlWfMessage = "select a.messagetype,a.chatstype,b.chatstype as wfChatsType,b.docCategory,b.messagetype as wfMessageType from workflow_requestbase a,workflow_base b where a.workflowid=b.id and a.requestid="
			              + requestid;
	  RecordSet.executeSql(sqlWfMessage);
	  if (RecordSet.next()) {
		   docCategory = RecordSet.getString("docCategory");
	  }
	  Map secCategorys = new HashMap();
	  secCategorys.put("", docCategory);
	  Map secMaxUploads = new HashMap();//\u5c01\u88c5\u9009\u62e9\u76ee\u5f55\u7684\u4fe1\u606f




      int secid = -1;
      if(docCategory.indexOf(',') == -1){
          secid = Util.getIntValue(docCategory, -1);;
      }else{
          secid = Util.getIntValue(docCategory.substring(docCategory
			.lastIndexOf(",") + 1), -1);
      }
	  int maxUploadImageSize = Util.getIntValue(SecCategoryComInfo1
			.getMaxUploadFileSize("" + secid), 5); //\u4ece\u7f13\u5b58\u4e2d\u53d6




	  if (maxUploadImageSize <= 0) {
		  maxUploadImageSize = 5;
	  }
	  secMaxUploads.put("", maxUploadImageSize + "");
	  int uploadType = 0;
	  String selectedfieldid = "";
	  String result = RequestManager.getUpLoadTypeForSelect(Util.getIntValue(workflowid));
	  if (!result.equals("")) {
		selectedfieldid = result.substring(0, result.indexOf(","));
		uploadType = Integer.valueOf(result.substring(result.indexOf(",") + 1)).intValue();
	  }
	  boolean isCanuse = RequestManager.hasUsedType(Util.getIntValue(workflowid));
	  if (selectedfieldid.equals("") || selectedfieldid.equals("0")) {
		isCanuse = false;
	  }
	  //\u5982\u679c\u9644\u4ef6\u5b58\u653e\u65b9\u5f0f\u4e3a\u9009\u62e9\u76ee\u5f55\uff0c\u5219\u91cd\u7f6e\u9ed8\u8ba4\u503c



	  if (uploadType == 1) {
		maxUploadImageSize = 5;
	  }
	  String sql_upload = "";
 	  if(isCanuse&&uploadType==1){
			String fieldName="";//\u5b57\u6bb5\u540d\u79f0
			String fieldValue="";//\u5b57\u6bb5\u7684\u503c



			String tableName="workflow_form";
			if(isbill.equals("0")){//\u5982\u679c\u4e0d\u4e3a\u5355\u636e\uff0c\u5373\u4e3a\u8868\u5355



				sql_upload=" select fieldName,fieldHtmlType,type from workflow_formdict where id="+selectedfieldid;
			}else{//\u5426\u5219\u4e3a\u5355\u636e



				rs.executeSql(" select tableName from workflow_bill where id="+formid);
				if(rs.next()){
					tableName=rs.getString(1);
				}
				sql_upload=" select fieldName,fieldHtmlType,type from workflow_billfield where (viewtype is null or viewtype<>1) and id= "+selectedfieldid;
			}
			rs.executeSql(sql_upload);
			if(rs.next()){
				fieldName=rs.getString(1);
			}
				
			if(fieldName!=null&&!(fieldName.trim().equals(""))
			 &&tableName!=null&&!(tableName.trim().equals(""))){			
				rs.executeSql(" select "+fieldName+" from "+tableName+" where requestid= "+requestid);			
				if(rs.next()){
					fieldValue=Util.null2String(rs.getString(1));
				}
			}			
			char flag = Util.getSeparator();
			rs.executeProc("workflow_SelectItemSelectByid", ""+selectedfieldid+flag+isbill);
			while(rs.next()){
				String tmpselectvalue = Util.null2String(rs.getString("selectvalue"));
				String isdefault = Util.null2String(rs.getString("isdefault"));
				String tdocCategory = Util.null2String(rs.getString("docCategory"));
				
				int tsecid = Util.getIntValue(tdocCategory.substring(tdocCategory.lastIndexOf(",")+1),-1);
				String tMaxUploadFileSize = ""+Util.getIntValue(SecCategoryComInfo1.getMaxUploadFileSize(""+tsecid),-1);
                   
				if(!"".equals(tdocCategory)&&(("y".equals(isdefault)&&fieldValue.trim().equals(""))||tmpselectvalue.equals(fieldValue))){
					maxUploadImageSize = Util.getIntValue(tMaxUploadFileSize,5);
					docCategory = tdocCategory;
				}
			}
     }
     otherPara_hs.put("docCategory", docCategory+"");
     otherPara_hs.put("maxUploadImageSize", maxUploadImageSize+"");
      
      							

    ArrayList defieldids=new ArrayList();             //\u5b57\u6bb5\u961f\u5217
    ArrayList defieldorders = new ArrayList();        //\u5b57\u6bb5\u663e\u793a\u987a\u5e8f\u961f\u5217 (\u5355\u636e\u6587\u4ef6\u4e0d\u9700\u8981)
    ArrayList delanguageids=new ArrayList();          //\u5b57\u6bb5\u663e\u793a\u7684\u8bed\u8a00(\u5355\u636e\u6587\u4ef6\u4e0d\u9700\u8981)
    ArrayList defieldlabels=new ArrayList();          //\u5355\u636e\u7684\u5b57\u6bb5\u7684label\u961f\u5217
    ArrayList defieldhtmltypes=new ArrayList();       //\u5355\u636e\u7684\u5b57\u6bb5\u7684html type\u961f\u5217
    ArrayList defieldtypes=new ArrayList();           //\u5355\u636e\u7684\u5b57\u6bb5\u7684type\u961f\u5217
    ArrayList defieldnames=new ArrayList();           //\u5355\u636e\u7684\u5b57\u6bb5\u7684\u8868\u5b57\u6bb5\u540d\u961f\u5217
    ArrayList defieldviewtypes=new ArrayList();       //\u5355\u636e\u662f\u5426\u662fdetail\u8868\u7684\u5b57\u6bb51:\u662f 0:\u5426(\u5982\u679c\u662f,\u5c06\u4e0d\u663e\u793a)
    ArrayList defieldqfws=new ArrayList(); 
    
     ArrayList deimgwidths=new ArrayList(); 
     ArrayList deimgheights=new ArrayList(); 
    
    
    
    
    // \u786e\u5b9a\u5b57\u6bb5\u662f\u5426\u663e\u793a\uff0c\u662f\u5426\u53ef\u4ee5\u7f16\u8f91\uff0c\u662f\u5426\u5fc5\u987b\u8f93\u5165
    ArrayList isdefieldids=new ArrayList();              //\u5b57\u6bb5\u961f\u5217
    ArrayList isdeviews=new ArrayList();              //\u5b57\u6bb5\u662f\u5426\u663e\u793a\u961f\u5217
    ArrayList isdeedits=new ArrayList();              //\u5b57\u6bb5\u662f\u5426\u53ef\u4ee5\u7f16\u8f91\u961f\u5217
    ArrayList isdemands=new ArrayList();              //\u5b57\u6bb5\u662f\u5426\u5fc5\u987b\u8f93\u5165\u961f\u5217
	ArrayList colCalAry = new ArrayList();
	boolean defshowsum=false;
	ArrayList childfieldids = new ArrayList();			//\u5b50\u5b57\u6bb5id\u961f\u5217
    int qfws=0;
	ArrayList inoperatefields = new ArrayList();
    ArrayList inoperatevalues = new ArrayList();
    int fieldop1id=0;
    requestPreAddM.setCreater(user.getUID());
    requestPreAddM.setOptor(user.getUID());
    requestPreAddM.setWorkflowid(Util.getIntValue(workflowid));
    requestPreAddM.setNodeid(Util.getIntValue(nodeid));
    requestPreAddM.setRequestid(Util.getIntValue(requestid));
    Hashtable getPreAddRule_hs = requestPreAddM.getPreAddRule();
    inoperatefields = (ArrayList)getPreAddRule_hs.get("inoperatefields");
    inoperatevalues = (ArrayList)getPreAddRule_hs.get("inoperatevalues");

	ArrayList fieldrealtype=new ArrayList(); 
	int fieldlen=0;  //\u5b57\u6bb5\u7c7b\u578b\u957f\u5ea6
	String fielddbtype="";                              //\u5b57\u6bb5\u6570\u636e\u7c7b\u578b
    String isdeview="0" ;    //\u5b57\u6bb5\u662f\u5426\u663e\u793a
    String isdeedit="0" ;    //\u5b57\u6bb5\u662f\u5426\u53ef\u4ee5\u7f16\u8f91
    String isdemand="0" ;    //\u5b57\u6bb5\u662f\u5426\u5fc5\u987b\u8f93\u5165
    String defieldid="";
    String defieldname = "" ;                         //\u5b57\u6bb5\u6570\u636e\u5e93\u8868\u4e2d\u7684\u5b57\u6bb5\u540d






    String defieldhtmltype = "" ;                     //\u5b57\u6bb5\u7684\u9875\u9762\u7c7b\u578b






    String defieldtype = "" ;                         //\u5b57\u6bb5\u7684\u7c7b\u578b






    String defieldlable = "" ;                        //\u5b57\u6bb5\u663e\u793a\u540d




    
    String deimgwidth = "50";
    String deimgheight = "50";


    String defieldvalue="";
    String textheight1 = "4";//xwj for @td2977 20051111
    int delanguageid = 0 ;
    int colcount1 = 0;
    int colwidth1 = 0;
    String rowCalItemStr1,colCalItemStr1,mainCalStr1;
	rowCalItemStr1 = new String("");
	colCalItemStr1 = new String("");
    mainCalStr1 = new String("");
   
    int detailno=0;
    int detailsum=0;
    String sql = "" ;
    char flag = Util.getSeparator() ;
    int derecorderindex = 0 ;
	 //\u83b7\u5f97\u89e6\u53d1\u5b57\u6bb5\u540d






	DynamicDataInput ddidetail=new DynamicDataInput(workflowid+"");
	String trrigerdetailfield=ddidetail.GetEntryTriggerDetailFieldName();
	
    String bclick = "";
    String isbrowisMust = "";
    //\u5bf9\u4e0d\u540c\u7684\u6a21\u5757\u6765\u8bf4,\u53ef\u4ee5\u5b9a\u4e49\u81ea\u5df1\u76f8\u5173\u7684\u5185\u5bb9\uff0c\u4f5c\u4e3a\u8bf7\u6c42\u9ed8\u8ba4\u503c\uff0c\u6bd4\u5982\u5c06 docid \u8d4b\u503c\uff0c\u4f5c\u4e3a\u8be5\u8bf7\u6c42\u7684\u9ed8\u8ba4\u6587\u6863
    //\u9ed8\u8ba4\u7684\u503c\u53ef\u4ee5\u8d4b\u591a\u4e2a\uff0c\u4e2d\u95f4\u7528\u9017\u53f7\u683c\u5f00
    
    String prjid = Util.null2String(request.getParameter("prjid"));
    String docid = Util.null2String(request.getParameter("docid"));
    String crmid = Util.null2String(request.getParameter("crmid"));
    String hrmid = Util.null2String(request.getParameter("hrmid"));
    if(hrmid.equals("") && user.getLogintype().equals("1")) hrmid = "" + user.getUID() ;
    if(crmid.equals("") && user.getLogintype().equals("2")) crmid = "" + user.getUID() ;
    RecordSet billrs=new RecordSet();


              RecordSet.execute("select * from workflow_formdetailinfo where formid="+formid);
				while(RecordSet.next()){
					rowCalItemStr1 = Util.null2String(RecordSet.getString("rowCalStr"));
					colCalItemStr1 = Util.null2String(RecordSet.getString("colCalStr"));
					mainCalStr1 = Util.null2String(RecordSet.getString("mainCalStr"));
                    //System.out.println("colCalItemStr1 = " + colCalItemStr1);
				}
              StringTokenizer stk = new StringTokenizer(colCalItemStr1,";");
              while(stk.hasMoreTokens()){
                colCalAry.add(stk.nextToken());
              }
			  billrs.execute("select tablename,title,orderid from Workflow_billdetailtable where billid="+formid+" order by orderid");
              //System.out.println("select tablename,title from Workflow_billdetailtable where billid="+formid+" order by orderid");
              while(billrs.next()){
                String tablename=billrs.getString("tablename");
                String tabletitle=billrs.getString("title");
                int orderid = billrs.getInt("orderid");
                boolean deshowaddbutton=false;
                defieldids.clear() ;
                defieldlabels.clear() ;
                defieldhtmltypes.clear() ;
                defieldtypes.clear() ;
                defieldnames.clear() ;
                defieldviewtypes.clear() ;
				fieldrealtype.clear() ;
				childfieldids.clear();
				defieldqfws.clear();
				
				deimgwidths.clear();
                deimgheights.clear();
				
				defshowsum=false;
				colcount1 = 0;

                rs.execute("select * from workflow_billfield where viewtype='1' and billid="+formid+" and detailtable='"+tablename+"' ORDER BY dsporder");
                //System.out.println("select * from workflow_billfield where viewtype='1' and billid="+formid+" and detailtable='"+tablename+"'");
                while(rs.next()){
                    //String theviewtype = Util.null2String(rs.getString("viewtype")) ;
                    //if( !theviewtype.equals("1") ) continue ;   // \u5982\u679c\u662f\u5355\u636e\u7684\u4e3b\u8868\u5b57\u6bb5,\u4e0d\u663e\u793a






                    defieldids.add(Util.null2String(rs.getString("id")));
                    defieldlabels.add(SystemEnv.getHtmlLabelName(Util.getIntValue(rs.getString("fieldlabel")),user.getLanguage()));
                    defieldhtmltypes.add(Util.null2String(rs.getString("fieldhtmltype")));
                    defieldtypes.add(Util.null2String(rs.getString("type")));
                    defieldnames.add(Util.null2String(rs.getString("fieldname")));
					fieldrealtype.add(Util.null2String(rs.getString("fielddbtype")));
					childfieldids.add(""+Util.getIntValue(rs.getString("childfieldid"), 0));
					 
					
					 defieldqfws.add(""+Util.getIntValue(rs.getString("qfws"), 0));
                    //defieldviewtypes.add(theviewtype);
                    
                    deimgwidths.add(""+Util.getIntValue(rs.getString("imgwidth"), 50));
                    deimgheights.add(""+Util.getIntValue(rs.getString("imgheight"), 50));
                }

                // \u786e\u5b9a\u5b57\u6bb5\u662f\u5426\u663e\u793a\uff0c\u662f\u5426\u53ef\u4ee5\u7f16\u8f91\uff0c\u662f\u5426\u5fc5\u987b\u8f93\u5165
                isdefieldids.clear() ;              //\u5b57\u6bb5\u961f\u5217
                isdeviews.clear() ;              //\u5b57\u6bb5\u662f\u5426\u663e\u793a\u961f\u5217
                isdeedits.clear() ;              //\u5b57\u6bb5\u662f\u5426\u53ef\u4ee5\u7f16\u8f91\u961f\u5217
                isdemands.clear() ;              //\u5b57\u6bb5\u662f\u5426\u5fc5\u987b\u8f93\u5165\u961f\u5217

                //RecordSet.executeProc("workflow_FieldForm_Select",nodeid+"");
                rs.execute("SELECT DISTINCT a.*, b.dsporder FROM workflow_nodeform a ,workflow_billfield b where a.fieldid = b.id and b.viewtype='1' and b.billid ="+formid+" and a.nodeid="+nodeid+" and b.detailtable='"+tablename+"' ORDER BY b.dsporder");
                //System.out.println("SELECT DISTINCT a.*, b.dsporder FROM workflow_nodeform a ,workflow_billfield b where a.fieldid = b.id and b.viewtype='1' and b.billid ="+formid+" and a.nodeid="+nodeid+" and b.detailtable='"+tablename+"' ORDER BY b.dsporder");
                
                while(rs.next())
                {
                    String thedefieldid = Util.null2String(rs.getString("fieldid")) ;
                    //System.out.println("thedefieldid:"+thedefieldid);
                    int thefieldidindex = defieldids.indexOf( thedefieldid ) ;
                    if( thefieldidindex == -1 )
                    {
                        continue ;
                    }
                    String theisdeview = Util.null2String(rs.getString("isview")) ;
                    if( theisdeview.equals("1") ) 
                    {
						colcount1 ++ ;
						if(!defshowsum)
						{
	                        if(colCalAry.indexOf("detailfield_"+thedefieldid)>-1)
	                        {
	                            defshowsum=true;
	                        }
                        }
					}
                    String theisedit = Util.null2String(rs.getString("isedit")) ;
                    if(theisedit.equals("1"))
                    {
                    	if(!deshowaddbutton) deshowaddbutton=true;
                    }
                    isdefieldids.add(thedefieldid);
                    isdeviews.add(theisdeview);
                    isdeedits.add(theisedit);
                    isdemands.add(Util.null2String(rs.getString("ismandatory")));
                }                                

								//\u83b7\u53d6\u660e\u7ec6\u8868\u8bbe\u7f6e


				detailno = orderid-1;
                WFNodeDtlFieldManager.setNodeid(Integer.parseInt(nodeid));
                WFNodeDtlFieldManager.setGroupid(detailno);
                WFNodeDtlFieldManager.selectWfNodeDtlField();
                String dtladd = WFNodeDtlFieldManager.getIsadd();
                String dtledit = WFNodeDtlFieldManager.getIsedit();
                String dtldelete = WFNodeDtlFieldManager.getIsdelete();
                String dtldefault = WFNodeDtlFieldManager.getIsdefault();
                String dtlneed = WFNodeDtlFieldManager.getIsneed();
				 //zzl
                String dtlmul=WFNodeDtlFieldManager.getIsopensapmul();
                
                if(colcount1 <= 0){ //if start
                    continue;
                }
				 
             //   if(colcount1>0){    //if start
                    colwidth1=97/colcount1;
					detailsum++;
					
					ArrayList viewfieldnames = new ArrayList();

                    // \u5f97\u5230\u6bcf\u4e2a\u5b57\u6bb5\u7684\u4fe1\u606f\u5e76\u5728\u9875\u9762\u663e\u793a






					int isfieldidindex = -1;
                    
					String submitdtlid="";

      out.write(_jsp_string4, 0, _jsp_string4.length);
      com.caucho.jsp.BodyContentImpl _jsp_endTagHack3 = null;
      if (_jsp_ViewTag_0 == null) {
        _jsp_ViewTag_0 = new weaver.template.tag.ViewTag();
        _jsp_ViewTag_0.setPageContext(pageContext);
        _jsp_ViewTag_0.setParent((javax.servlet.jsp.tagext.Tag) null);
      }

      int _jspEval5 = _jsp_ViewTag_0.doStartTag();
      if (_jspEval5 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        if (_jspEval5 == javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_BUFFERED) {
          out = pageContext.pushBody();
          _jsp_endTagHack3 = (com.caucho.jsp.BodyContentImpl) out;
          _jsp_ViewTag_0.setBodyContent(_jsp_endTagHack3);
          _jsp_ViewTag_0.doInitBody();
        }
        do {
          out.write(_jsp_string5, 0, _jsp_string5.length);
          com.caucho.jsp.BodyContentImpl _jsp_endTagHack6 = null;
          if (_jsp_GroupTag_1 == null) {
            _jsp_GroupTag_1 = new weaver.template.tag.GroupTag();
            _jsp_GroupTag_1.setPageContext(pageContext);
            _jsp_GroupTag_1.setParent((javax.servlet.jsp.tagext.Tag) _jsp_ViewTag_0);
          }

          _jsp_GroupTag_1.setContext(SystemEnv.getHtmlLabelName(84496,user.getLanguage()) + (detailno + 1) );
          int _jspEval8 = _jsp_GroupTag_1.doStartTag();
          if (_jspEval8 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
            if (_jspEval8 == javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_BUFFERED) {
              out = pageContext.pushBody();
              _jsp_endTagHack6 = (com.caucho.jsp.BodyContentImpl) out;
              _jsp_GroupTag_1.setBodyContent(_jsp_endTagHack6);
              _jsp_GroupTag_1.doInitBody();
            }
            do {
              out.write(_jsp_string6, 0, _jsp_string6.length);
              com.caucho.jsp.BodyContentImpl _jsp_endTagHack9 = null;
              if (_jsp_ItemTag_2 == null) {
                _jsp_ItemTag_2 = new weaver.template.tag.ItemTag();
                _jsp_ItemTag_2.setPageContext(pageContext);
                _jsp_ItemTag_2.setParent((javax.servlet.jsp.tagext.Tag) _jsp_GroupTag_1);
                _jsp_ItemTag_2.setType("groupHead");
              }

              _jsp_ItemTag_2.doStartTag();
              out = pageContext.pushBody();
              _jsp_endTagHack9 = (com.caucho.jsp.BodyContentImpl) out;
              _jsp_ItemTag_2.setBodyContent(_jsp_endTagHack9);
              _jsp_ItemTag_2.doInitBody();
              do {
                out.write(_jsp_string7, 0, _jsp_string7.length);
                if(!editdetailbodyflag||isremark==5||isremark==9||nodetype.equals("3")){
                out.write(_jsp_string8, 0, _jsp_string8.length);
                }else{ 
                out.write(_jsp_string9, 0, _jsp_string9.length);
                
                            if(dtlmul.equals("1")){
                out.write(_jsp_string10, 0, _jsp_string10.length);
                out.print((detailno));
                out.write('(');
                out.print((detailno));
                out.write(_jsp_string11, 0, _jsp_string11.length);
                }
                out.write(_jsp_string12, 0, _jsp_string12.length);
                if(dtladd.equals("1")){
                out.write(_jsp_string13, 0, _jsp_string13.length);
                out.print((detailno));
                out.write('(');
                out.print((detailno));
                out.write(_jsp_string14, 0, _jsp_string14.length);
                out.print((SystemEnv.getHtmlLabelName(611,user.getLanguage())));
                out.write(_jsp_string15, 0, _jsp_string15.length);
                }
                out.write(_jsp_string16, 0, _jsp_string16.length);
                if(dtladd.equals("1")||dtldelete.equals("1")){
                out.write(_jsp_string17, 0, _jsp_string17.length);
                out.print((detailno));
                out.write(_jsp_string18, 0, _jsp_string18.length);
                out.print((SystemEnv.getHtmlLabelName(23777,user.getLanguage())));
                out.write(_jsp_string15, 0, _jsp_string15.length);
                }
                out.write(_jsp_string19, 0, _jsp_string19.length);
                
                        } 
                out.write(_jsp_string7, 0, _jsp_string7.length);
              } while (_jsp_ItemTag_2.doAfterBody() == javax.servlet.jsp.tagext.IterationTag.EVAL_BODY_AGAIN);
              out = pageContext.popBody();
              _jsp_ItemTag_2.doEndTag();
              pageContext.releaseBody(_jsp_endTagHack9);
              out.write(_jsp_string20, 0, _jsp_string20.length);
              com.caucho.jsp.BodyContentImpl _jsp_endTagHack13 = null;
              if (_jsp_ItemTag_3 == null) {
                _jsp_ItemTag_3 = new weaver.template.tag.ItemTag();
                _jsp_ItemTag_3.setPageContext(pageContext);
                _jsp_ItemTag_3.setParent((javax.servlet.jsp.tagext.Tag) _jsp_GroupTag_1);
                _jsp_ItemTag_3.setAttributes("{\"isTableList\":\"true\", 'id':'detailblockTD'}");
              }

              _jsp_ItemTag_3.doStartTag();
              out = pageContext.pushBody();
              _jsp_endTagHack13 = (com.caucho.jsp.BodyContentImpl) out;
              _jsp_ItemTag_3.setBodyContent(_jsp_endTagHack13);
              _jsp_ItemTag_3.doInitBody();
              do {
                out.write(_jsp_string21, 0, _jsp_string21.length);
                out.print((detailno));
                out.write(_jsp_string22, 0, _jsp_string22.length);
                out.print((SystemEnv.getHtmlLabelName(15486,user.getLanguage())));
                out.write(_jsp_string23, 0, _jsp_string23.length);
                     
                       for (int i = 0; i < defieldids.size(); i++) {         // header\u5faa\u73af\u5f00\u59cb







                           defieldid=(String)defieldids.get(i);  //\u5b57\u6bb5id
                           isfieldidindex = isdefieldids.indexOf(defieldid) ;
                           if( isfieldidindex != -1 ) {
                        	   isdeview=(String)isdeviews.get(isfieldidindex);    //\u5b57\u6bb5\u662f\u5426\u663e\u793a
                        	   isdeedit=(String)isdeedits.get(isfieldidindex);    //\u5b57\u6bb5\u662f\u5426\u53ef\u4ee5\u7f16\u8f91
                        	   isdemand=(String)isdemands.get(isfieldidindex);    //\u5b57\u6bb5\u662f\u5426\u5fc5\u987b\u8f93\u5165
                           }
                           
                           if ("1".equals(isdeedit)) {
                 		      isbrowisMust = "1";
                 		  }
                 		  
                 		  if ("1".equals(isdemand)) {
                 		      isbrowisMust = "2";
                 		  }
                           
                		   defieldlable =(String)defieldlabels.get(i);
                		   defieldname = (String)defieldnames.get(i);
                		   defieldhtmltype = (String) defieldhtmltypes.get(i);
                		   
                		   
                		  if( ! isdeview.equals("1") ) continue;  //\u4e0d\u663e\u793a\u5373\u8fdb\u884c\u4e0b\u4e00\u6b65\u5faa\u73af






                           viewfieldnames.add(defieldname);
                           if(colcount1!=0){
                   
                out.write(_jsp_string24, 0, _jsp_string24.length);
                out.print((colwidth1));
                out.write(_jsp_string25, 0, _jsp_string25.length);
                out.print((defieldlable));
                out.write(_jsp_string26, 0, _jsp_string26.length);
                   }
                       }     //header \u5faa\u73af\u7ed3\u675f
                               if(colcount1!=0){
                    
                out.write(_jsp_string27, 0, _jsp_string27.length);
                      }
                        boolean isttLight = false;
                        String maintable="";
                        derecorderindex = 0 ;
                        rs.executeSql(" select tablename from Workflow_bill where id="+formid);
                        if(rs.next()){
                            maintable=rs.getString("tablename");
                            RecordSet rs3=new RecordSet();
                            //System.out.println("select b.* from "+maintable+" a,"+tablename+" b where a.id=b.mainid and a.requestid ="+requestid);
                            if((maintable.indexOf("formtable_main_")==0 || maintable.indexOf("uf_")==0)
                            		&& (tablename.indexOf("formtable_main_")==0 || tablename.indexOf("uf_")==0)){//\u65b0\u8868\u5355






                                rs3.executeSql("select b.* from "+maintable+" a,"+tablename+" b where a.id=b.mainid and a.requestid ="+requestid+" order by b.id");
                            }else if(Util.getIntValue(formid)<0){     //\u6570\u636e\u4e2d\u5fc3\u6a21\u5757\u521b\u5efa\u7684\u660e\u7ec6\u62a5\u8868






                                rs3.executeSql("select b.* from "+maintable+" a,"+tablename+" b where a.id=b.mainid and a.requestid ="+requestid+" order by b.inputid");
                            }else{
                                rs3.executeSql("select b.* from "+maintable+" a,"+tablename+" b where a.id=b.mainid and a.requestid ="+requestid);
                            }
                            while(rs3.next()){
                                String maincolvalue=rs3.getString(1);
                                String[] colnames = rs3.getColumnName();
                                if (colnames != null) {
                                    for (int m = 0; m < colnames.length; m++) {
                                        if (colnames[m].toUpperCase().equals("ID")) {
                                            maincolvalue = rs3.getString("id");
                                            break;
                                        } else if (colnames[m].toUpperCase().equals("INPUTID")) {
                                            maincolvalue = rs3.getString("inputid");
                                            break;
                                        }
                                    }
                                }
                                isttLight = !isttLight ;
                                if(colcount1!=0){
                        
                out.write(_jsp_string28, 0, _jsp_string28.length);
                out.print((detailno));
                out.write(_jsp_string29, 0, _jsp_string29.length);
                out.print((derecorderindex));
                out.write(_jsp_string30, 0, _jsp_string30.length);
                if(!dtldelete.equals("1")||!editdetailbodyflag||isremark==5||nodetype.equals("3")){
                out.write(_jsp_string31, 0, _jsp_string31.length);
                }
                out.write(_jsp_string32, 0, _jsp_string32.length);
                out.print((detailno));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string29, 0, _jsp_string29.length);
                out.print((maincolvalue));
                out.write(_jsp_string33, 0, _jsp_string33.length);
                out.print((derecorderindex+1));
                out.write(_jsp_string34, 0, _jsp_string34.length);
                         }
                                for(int i=0;i<defieldids.size();i++){         // \u660e\u7ec6\u8bb0\u5f55\u5faa\u73af\u5f00\u59cb






                                    defieldid=(String)defieldids.get(i);  //\u5b57\u6bb5id
                                    defieldname = (String)defieldnames.get(i);  //\u5b57\u6bb5\u540d






                                    //System.out.println("defieldname:"+defieldname);
                                    defieldtype = (String)defieldtypes.get(i);
                                    String trrigerdetailStr = "";
									if (trrigerdetailfield.indexOf("field"+defieldid)>=0){
										trrigerdetailStr = "datainputd(field" + defieldid + "_"+derecorderindex+")";
									}

                                    isfieldidindex = isdefieldids.indexOf(defieldid) ;
                                    if( isfieldidindex != -1 ) {
                                 	   isdeview=(String)isdeviews.get(isfieldidindex);    //\u5b57\u6bb5\u662f\u5426\u663e\u793a
                                 	   isdeedit=(String)isdeedits.get(isfieldidindex);    //\u5b57\u6bb5\u662f\u5426\u53ef\u4ee5\u7f16\u8f91
                                 	   isdemand=(String)isdemands.get(isfieldidindex);    //\u5b57\u6bb5\u662f\u5426\u5fc5\u987b\u8f93\u5165
                                    }
                                    defieldhtmltype = (String) defieldhtmltypes.get(i);
									defieldlable =(String)defieldlabels.get(i);
									 fielddbtype=(String)fieldrealtype.get(i);
									 qfws=Util.getIntValue(""+defieldqfws.get(i));
									 
									 
									 deimgwidth = (String) deimgwidths.get(i);
                		             deimgheight = (String) deimgheights.get(i);
									 
									
									 fieldlen=0;
									if ((fielddbtype.toLowerCase()).indexOf("varchar")>-1)
									{
									   fieldlen=Util.getIntValue(fielddbtype.substring(fielddbtype.indexOf("(")+1,fielddbtype.length()-1));
									
									}
									if(!"1".equals(dtledit)){
										isdeedit="0";
										isdemand="0";
									}
                                    if(isremark==5 || isremark==9){
                                        isdeedit = "0";//\u6284\u9001(\u9700\u63d0\u4ea4)\u4e0d\u53ef\u7f16\u8f91
                                        isdemand="0";
                                    }
                                    //if( ! isdeview.equals("1") ) continue;  //\u4e0d\u663e\u793a\u5373\u8fdb\u884c\u4e0b\u4e00\u6b65\u5faa\u73af






                                    defieldvalue=Util.null2String(rs3.getString(defieldname)) ;
                                    //System.out.println("defieldvalue:"+defieldvalue);
                                    if (isdemand.equals("1"))   //\u5982\u679c\u5fc5\u987b\u8f93\u5165,\u52a0\u5165\u5fc5\u987b\u8f93\u5165\u7684\u68c0\u67e5\u4e2d
                                      needcheck += ",field" + defieldid + "_"+derecorderindex;
                                    if(colcount1!=0){
                        
                       if(  isdeview.equals("1") ) {
                out.write(_jsp_string35, 0, _jsp_string35.length);
                if(defieldhtmltype.equals("1") && !isdeedit.equals("1") && (defieldtype.equals("2") || defieldtype.equals("3"))){
                out.write(_jsp_string36, 0, _jsp_string36.length);
                }else{
                out.write(_jsp_string37, 0, _jsp_string37.length);
                out.print((colwidth1));
                out.write(_jsp_string38, 0, _jsp_string38.length);
                }
                out.write(_jsp_string39, 0, _jsp_string39.length);
                    }        }
                                     if(defieldhtmltype.equals("1")){                          // \u5355\u884c\u6587\u672c\u6846






                                        if(defieldtype.equals("1")){                          // \u5355\u884c\u6587\u672c\u6846\u4e2d\u7684\u6587\u672c






                                            if(isdeedit.equals("1") && colcount1!=0 && editdetailbodyflag){
                                                if(isdemand.equals("1")) {
                                          
                out.write(_jsp_string40, 0, _jsp_string40.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string42, 0, _jsp_string42.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string43, 0, _jsp_string43.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string44, 0, _jsp_string44.length);
                out.print((Util.toScreenToEdit(defieldvalue,user.getLanguage())));
                out.write(_jsp_string45, 0, _jsp_string45.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string47, 0, _jsp_string47.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((fieldlen));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((defieldlable));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((SystemEnv.getHtmlLabelName(20246,user.getLanguage())));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((SystemEnv.getHtmlLabelName(20247,user.getLanguage())));
                out.write(_jsp_string49, 0, _jsp_string49.length);
                out.print((trrigerdetailStr));
                out.write(_jsp_string50, 0, _jsp_string50.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string51, 0, _jsp_string51.length);
                 if(defieldvalue.equals("")){
                out.write(_jsp_string52, 0, _jsp_string52.length);
                }
                out.write(_jsp_string53, 0, _jsp_string53.length);
                

                                                }else{
                out.write(_jsp_string54, 0, _jsp_string54.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string55, 0, _jsp_string55.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string47, 0, _jsp_string47.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((fieldlen));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((defieldlable));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((SystemEnv.getHtmlLabelName(20246,user.getLanguage())));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((SystemEnv.getHtmlLabelName(20247,user.getLanguage())));
                out.write(_jsp_string49, 0, _jsp_string49.length);
                out.print((trrigerdetailStr));
                out.write(_jsp_string56, 0, _jsp_string56.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string57, 0, _jsp_string57.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.toScreenToEdit(defieldvalue,user.getLanguage())));
                out.write(_jsp_string59, 0, _jsp_string59.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string60, 0, _jsp_string60.length);
                            }
                                          if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        
                out.write(_jsp_string61, 0, _jsp_string61.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0)));
                out.write(_jsp_string62, 0, _jsp_string62.length);
                
                                            }
                                            }
                                            else {if(isdeview.equals("1") && colcount1!=0){
                                          
                out.write(_jsp_string63, 0, _jsp_string63.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string51, 0, _jsp_string51.length);
                out.print((Util.toScreen(defieldvalue,user.getLanguage())));
                out.write(_jsp_string53, 0, _jsp_string53.length);
                
                                          }
                                          
                out.write(_jsp_string64, 0, _jsp_string64.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string57, 0, _jsp_string57.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.toScreenToEdit(defieldvalue,user.getLanguage())));
                out.write(_jsp_string65, 0, _jsp_string65.length);
                
                                            }
                                        }
                                        else if(defieldtype.equals("2")){                     // \u5355\u884c\u6587\u672c\u6846\u4e2d\u7684\u6574\u578b






                                            if(isdeedit.equals("1") && colcount1!=0 && editdetailbodyflag){
                                                if(isdemand.equals("1")) {
                                          
                out.write(_jsp_string66, 0, _jsp_string66.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string42, 0, _jsp_string42.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string43, 0, _jsp_string43.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string44, 0, _jsp_string44.length);
                out.print((defieldvalue));
                out.write(_jsp_string67, 0, _jsp_string67.length);
                out.print((SystemEnv.getHtmlLabelName(31181,user.getLanguage()).replace("12","9")));
                out.write(_jsp_string68, 0, _jsp_string68.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string69, 0, _jsp_string69.length);
                out.print((detailno));
                out.write(_jsp_string70, 0, _jsp_string70.length);
                out.print((trrigerdetailStr));
                out.write(_jsp_string50, 0, _jsp_string50.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string51, 0, _jsp_string51.length);
                 if(defieldvalue.equals("")){
                out.write(_jsp_string52, 0, _jsp_string52.length);
                }
                out.write(_jsp_string71, 0, _jsp_string71.length);
                

                                                }else{
                out.write(_jsp_string72, 0, _jsp_string72.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string42, 0, _jsp_string42.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string43, 0, _jsp_string43.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string44, 0, _jsp_string44.length);
                out.print((defieldvalue));
                out.write(_jsp_string73, 0, _jsp_string73.length);
                out.print((SystemEnv.getHtmlLabelName(31181,user.getLanguage()).replace("12","9")));
                out.write(_jsp_string68, 0, _jsp_string68.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string69, 0, _jsp_string69.length);
                out.print((detailno));
                out.write(_jsp_string70, 0, _jsp_string70.length);
                out.print((trrigerdetailStr));
                out.write(_jsp_string74, 0, _jsp_string74.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string75, 0, _jsp_string75.length);
                           }
                                           if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        
                out.write(_jsp_string61, 0, _jsp_string61.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0)));
                out.write(_jsp_string62, 0, _jsp_string62.length);
                
                                            }
                                            }
                                            else {if(isdeview.equals("1") && colcount1!=0){
                                           
                out.write(_jsp_string63, 0, _jsp_string63.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string51, 0, _jsp_string51.length);
                out.print((defieldvalue));
                out.write(_jsp_string71, 0, _jsp_string71.length);
                
                                          }
                                          
                out.write(_jsp_string76, 0, _jsp_string76.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string57, 0, _jsp_string57.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((defieldvalue));
                out.write(_jsp_string65, 0, _jsp_string65.length);
                
                                            }
                                        }
                                        else if(defieldtype.equals("3")||defieldtype.equals("5")){                     // \u5355\u884c\u6587\u672c\u6846\u4e2d\u7684\u6d6e\u70b9\u578b
                                        	int decimaldigits_t = 2;
                            		    	if(defieldtype.equals("3")){
                            		    		int digitsIndex = fielddbtype.indexOf(",");
                            		        	if(digitsIndex > -1){
                            		        		decimaldigits_t = Util.getIntValue(fielddbtype.substring(digitsIndex+1, fielddbtype.length()-1), 2);
													 //update by liaodong for qc75759 in 2013\u5e7410\u670823\u65e5 start
                            		        	    defieldvalue = Util.toDecimalDigits(defieldvalue,decimaldigits_t);
                            		        	    //end 
                            		        	}else{
                            		        		decimaldigits_t = 2;
													 //update by liaodong for qc75759 in 2013\u5e7410\u670823\u65e5 start
                            		        	    defieldvalue = Util.toDecimalDigits(defieldvalue,2);
                            		        	    //end 
                            		        	}
                            		    	}
                            		    	if(defieldtype.equals("5")){
                            		    		  if(isbill.equals("0")){
                          				        	rs.executeSql("select * from workflow_formdict where id = " + defieldid);
                          							 if(rs.next()){
                          							   qfws = Util.getIntValue(rs.getString("qfws"),2);
                          							 }
                          							 decimaldigits_t=qfws; 
                          						}else{
                          							if(qfws == -1 || qfws == 0){
   													 decimaldigits_t=2;
	   												}else{
	   													 decimaldigits_t=qfws;
	   												}
                          						}
                            		    		  defieldvalue = Util.toDecimalDigits(""+defieldvalue,decimaldigits_t);	
                            		    		 // defieldvalue = Util.milfloatFormat(defieldvalue+"");	
                            		    	 
                            		    	}
                            		    	String datavaluetype = "";
									    	if(defieldtype.equals("5")){
									    		datavaluetype += " datavaluetype='5'";
									    	}
									    	//update by liaodong for qc75759 in 2013\u5e7410\u670823\u65e5 start
									    		datavaluetype += " datalength="+decimaldigits_t;
									    	//end
                                            if(isdeedit.equals("1") && colcount1!=0 && editdetailbodyflag){
                                                if(isdemand.equals("1")) {
                                                	
                                                	
                                          
                out.write(_jsp_string77, 0, _jsp_string77.length);
                out.print((datavaluetype));
                out.write(_jsp_string78, 0, _jsp_string78.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string42, 0, _jsp_string42.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string43, 0, _jsp_string43.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string79, 0, _jsp_string79.length);
                out.print((defieldvalue));
                out.write(_jsp_string80, 0, _jsp_string80.length);
                out.print((decimaldigits_t));
                out.write(_jsp_string81, 0, _jsp_string81.length);
                if(defieldtype.equals("5")){
                out.write(_jsp_string82, 0, _jsp_string82.length);
                out.print((decimaldigits_t ));
                out.write(_jsp_string83, 0, _jsp_string83.length);
                }
                out.write(_jsp_string84, 0, _jsp_string84.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string69, 0, _jsp_string69.length);
                out.print((detailno));
                out.write(_jsp_string70, 0, _jsp_string70.length);
                out.print((trrigerdetailStr));
                out.write(_jsp_string50, 0, _jsp_string50.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string51, 0, _jsp_string51.length);
                 if(defieldvalue.equals("")){
                out.write(_jsp_string52, 0, _jsp_string52.length);
                }
                out.write(_jsp_string71, 0, _jsp_string71.length);
                
                                                }else{
                out.write(_jsp_string85, 0, _jsp_string85.length);
                out.print((datavaluetype));
                out.write(_jsp_string78, 0, _jsp_string78.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string42, 0, _jsp_string42.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string43, 0, _jsp_string43.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string79, 0, _jsp_string79.length);
                out.print((defieldvalue));
                out.write(_jsp_string86, 0, _jsp_string86.length);
                out.print((decimaldigits_t));
                out.write(_jsp_string81, 0, _jsp_string81.length);
                if(defieldtype.equals("5")){
                out.write(_jsp_string82, 0, _jsp_string82.length);
                out.print((decimaldigits_t ));
                out.write(_jsp_string83, 0, _jsp_string83.length);
                }
                out.write(_jsp_string84, 0, _jsp_string84.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string69, 0, _jsp_string69.length);
                out.print((detailno));
                out.write(_jsp_string70, 0, _jsp_string70.length);
                out.print((trrigerdetailStr));
                out.write(_jsp_string74, 0, _jsp_string74.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string75, 0, _jsp_string75.length);
                           }
                                           if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        
                out.write(_jsp_string61, 0, _jsp_string61.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0)));
                out.write(_jsp_string62, 0, _jsp_string62.length);
                
                                            }
                                            }
                                            else {if(isdeview.equals("1") && colcount1!=0){
                                           
                out.write(_jsp_string63, 0, _jsp_string63.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string51, 0, _jsp_string51.length);
                out.print((defieldvalue));
                out.write(_jsp_string71, 0, _jsp_string71.length);
                
                                          }
                                          
                out.write(_jsp_string87, 0, _jsp_string87.length);
                out.print((datavaluetype));
                out.write(_jsp_string88, 0, _jsp_string88.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string57, 0, _jsp_string57.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((defieldvalue));
                out.write(_jsp_string65, 0, _jsp_string65.length);
                
                                            }
                                        }else if(defieldtype.equals("4")){                     //  \u5355\u884c\u6587\u672c\u6846\u4e2d\u7684\u91d1\u989d\u8f6c\u6362






											//add by liaodong for qc75759 in 2013-11-20 start 
                                         	int decimaldigits_t = 2;
                             		    	if(defieldtype.equals("4")){
                             		    		int digitsIndex = fielddbtype.indexOf(",");
                             		        	if(digitsIndex > -1){
                             		        		decimaldigits_t = Util.getIntValue(fielddbtype.substring(digitsIndex+1, fielddbtype.length()-1), 2);
                             		        	}else{
                             		        		decimaldigits_t = 2;
                             		        	}
                             		    	}
                             		    	//end 
                                            if(isdeedit.equals("1") &&  colcount1!=0 && editdetailbodyflag){
                                                if(isdemand.equals("1")) {
                                          
                out.write(_jsp_string89, 0, _jsp_string89.length);
                out.print((defieldlable));
                out.write(_jsp_string90, 0, _jsp_string90.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string91, 0, _jsp_string91.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string92, 0, _jsp_string92.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string93, 0, _jsp_string93.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string94, 0, _jsp_string94.length);
                out.print((decimaldigits_t));
                out.write(_jsp_string95, 0, _jsp_string95.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string96, 0, _jsp_string96.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string97, 0, _jsp_string97.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string98, 0, _jsp_string98.length);
                out.print((detailno));
                out.write(_jsp_string49, 0, _jsp_string49.length);
                out.print((trrigerdetailStr));
                out.write(_jsp_string99, 0, _jsp_string99.length);
                
                                                }else{
                out.write(_jsp_string100, 0, _jsp_string100.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string91, 0, _jsp_string91.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string101, 0, _jsp_string101.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string94, 0, _jsp_string94.length);
                out.print((decimaldigits_t));
                out.write(_jsp_string102, 0, _jsp_string102.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string103, 0, _jsp_string103.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string96, 0, _jsp_string96.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string97, 0, _jsp_string97.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string98, 0, _jsp_string98.length);
                out.print((detailno));
                out.write(_jsp_string49, 0, _jsp_string49.length);
                out.print((trrigerdetailStr));
                out.write(_jsp_string104, 0, _jsp_string104.length);
                           }
                                           
                                                
                out.write(_jsp_string105, 0, _jsp_string105.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string106, 0, _jsp_string106.length);
                 if(isdemand.equals("1")&&defieldvalue.equals("")){
                out.write(_jsp_string52, 0, _jsp_string52.length);
                }
                out.write(_jsp_string107, 0, _jsp_string107.length);
                out.print((isdemand));
                out.write(_jsp_string108, 0, _jsp_string108.length);
                out.print((decimaldigits_t ));
                out.write(_jsp_string109, 0, _jsp_string109.length);
                out.print((defieldlable));
                out.write(_jsp_string56, 0, _jsp_string56.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string57, 0, _jsp_string57.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((defieldvalue));
                out.write(_jsp_string110, 0, _jsp_string110.length);
                
                                            if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                            
                out.write(_jsp_string111, 0, _jsp_string111.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0)));
                out.write(_jsp_string112, 0, _jsp_string112.length);
                
                                                }
                                            }
                                            else {if(isdeview.equals("1") && colcount1!=0){
                                           
                out.write(_jsp_string113, 0, _jsp_string113.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string91, 0, _jsp_string91.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string114, 0, _jsp_string114.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string51, 0, _jsp_string51.length);
                out.print((defieldvalue));
                out.write(_jsp_string71, 0, _jsp_string71.length);
                
                                          }
                                          
                out.write(_jsp_string115, 0, _jsp_string115.length);
                out.print((decimaldigits_t ));
                out.write(_jsp_string116, 0, _jsp_string116.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string57, 0, _jsp_string57.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((defieldvalue));
                out.write(_jsp_string65, 0, _jsp_string65.length);
                
                                            }
                                            
                out.write(_jsp_string117, 0, _jsp_string117.length);
                out.print((defieldid));
                out.write(_jsp_string118, 0, _jsp_string118.length);
                out.print((derecorderindex));
                out.write(_jsp_string119, 0, _jsp_string119.length);
                out.print((defieldvalue));
                out.write(_jsp_string120, 0, _jsp_string120.length);
                
                                        }
                                    }                                                       // \u5355\u884c\u6587\u672c\u6846\u6761\u4ef6\u7ed3\u675f






                                    else if(defieldhtmltype.equals("2")){                     // \u591a\u884c\u6587\u672c\u6846






                                    	if(isbill.equals("0")){
			                                rs_count.executeSql("select * from workflow_formdictdetail where id = " + defieldid);
			                                if(rs_count.next()){
			                                 textheight1 = rs_count.getString("textheight");//td3421 xwj 2005-12-31
			                                }
			                                }else{
			                                	rs_count.executeSql("select * from workflow_billfield where viewtype=1 and id = " + defieldid+" and billid="+formid);
			                        			if(rs_count.next()){
			                        				textheight1 = ""+Util.getIntValue(rs_count.getString("textheight"), 4);
			                        			}
			                        		}
                                        if(isdeedit.equals("1") && colcount1!=0 && editdetailbodyflag){
                                            if(isdemand.equals("1")) {
                                          
                out.write(_jsp_string121, 0, _jsp_string121.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string122, 0, _jsp_string122.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string123, 0, _jsp_string123.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string124, 0, _jsp_string124.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((fieldlen));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((defieldlable));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((SystemEnv.getHtmlLabelName(20246,user.getLanguage())));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((SystemEnv.getHtmlLabelName(20247,user.getLanguage())));
                out.write(_jsp_string125, 0, _jsp_string125.length);
                out.print((textheight1));
                out.write(_jsp_string126, 0, _jsp_string126.length);
                out.print((Util.toScreenToEdit(defieldvalue,user.getLanguage())));
                out.write(_jsp_string127, 0, _jsp_string127.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string51, 0, _jsp_string51.length);
                 if(defieldvalue.equals("")){
                out.write(_jsp_string52, 0, _jsp_string52.length);
                }
                out.write(_jsp_string71, 0, _jsp_string71.length);
                
                                            }else{
                                           
                out.write(_jsp_string128, 0, _jsp_string128.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string129, 0, _jsp_string129.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string124, 0, _jsp_string124.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((fieldlen));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((defieldlable));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((SystemEnv.getHtmlLabelName(20246,user.getLanguage())));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((SystemEnv.getHtmlLabelName(20247,user.getLanguage())));
                out.write(_jsp_string130, 0, _jsp_string130.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string131, 0, _jsp_string131.length);
                out.print((textheight1));
                out.write(_jsp_string132, 0, _jsp_string132.length);
                out.print((Util.toScreenToEdit(defieldvalue,user.getLanguage())));
                out.write(_jsp_string133, 0, _jsp_string133.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string75, 0, _jsp_string75.length);
                       }
                                           if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        
                out.write(_jsp_string61, 0, _jsp_string61.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0)));
                out.write(_jsp_string62, 0, _jsp_string62.length);
                
                                            }
                                        }
                                        else {if(isdeview.equals("1") && colcount1!=0){
                                           
                out.write(_jsp_string63, 0, _jsp_string63.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string51, 0, _jsp_string51.length);
                out.print((Util.toScreen(defieldvalue,user.getLanguage())));
                out.write(_jsp_string134, 0, _jsp_string134.length);
                
                                          }
                                          
                out.write(_jsp_string64, 0, _jsp_string64.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string57, 0, _jsp_string57.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.toScreenToEdit(defieldvalue,user.getLanguage())));
                out.write(_jsp_string65, 0, _jsp_string65.length);
                
                                        }
                                    }                                                           // \u591a\u884c\u6587\u672c\u6846\u6761\u4ef6\u7ed3\u675f






                                    else if(defieldhtmltype.equals("3")){                         // \u6d4f\u89c8\u6309\u94ae (\u6d89\u53caworkflow_broswerurl\u8868)
                                    	isbrowisMust = "0";
                                        if ("1".equals(isdeedit)) {
   	                           		        isbrowisMust = "1";
	   	                           		}
	   	                           		if ("1".equals(isdemand)) {
	   	                           		    isbrowisMust = "2";
	   	                           		}

                                        String url=BrowserComInfo2.getBrowserurl(defieldtype);     // \u6d4f\u89c8\u6309\u94ae\u5f39\u51fa\u9875\u9762\u7684url
                                        String linkurl =BrowserComInfo2.getLinkurl(defieldtype);   // \u6d4f\u89c8\u503c\u70b9\u51fb\u7684\u65f6\u5019\u94fe\u63a5\u7684url
                                        String showname = "";                                   // \u65b0\u5efa\u65f6\u5019\u9ed8\u8ba4\u503c\u663e\u793a\u7684\u540d\u79f0
                                        String showid = "";                                     // \u65b0\u5efa\u65f6\u5019\u9ed8\u8ba4\u503c






                                        String hiddenlinkvalue="";

                                        // \u5982\u679c\u662f\u591a\u6587\u6863, \u9700\u8981\u5224\u5b9a\u662f\u5426\u6709\u65b0\u52a0\u5165\u7684\u6587\u6863,\u5982\u679c\u6709,\u9700\u8981\u52a0\u5728\u539f\u6765\u7684\u540e\u9762
                                        if( defieldtype.equals("37") && ((defieldid+"_"+derecorderindex).equals(docfileid)) && !newdocid.equals("")) {

                                            if( ! defieldvalue.equals("") ) defieldvalue += "," ;
                                            defieldvalue += newdocid ;

                                        }
                                        if(defieldtype.equals("161") || defieldtype.equals("162")){
											url+="?type="+fielddbtype;
                                        }
                                        if(defieldtype.equals("256") || defieldtype.equals("257")){
											url+="?type="+fielddbtype+"_"+defieldtype;
                                        }

                                        if(defieldtype.equals("2") ||defieldtype.equals("19")  )	showname=defieldvalue; // \u65e5\u671f\u65f6\u95f4
                                        else if(!defieldvalue.equals("")) {
                                            ArrayList tempshowidlist=Util.TokenizerString(defieldvalue,",");
                                            if(defieldtype.equals("8") || defieldtype.equals("135")){
                                                //\u9879\u76ee\uff0c\u591a\u9879\u76ee
                                                for(int k=0;k<tempshowidlist.size();k++){
                                                    if(!linkurl.equals("")){
                                                        showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"' target='_new'>"+ProjectInfoComInfo2.getProjectInfoname((String)tempshowidlist.get(k))+"</a>&nbsp";
                                                    }else{
                                                    showname+=ProjectInfoComInfo2.getProjectInfoname((String)tempshowidlist.get(k))+" ";
                                                    }
                                                }
                                            }else if(defieldtype.equals("1") ||defieldtype.equals("17")||defieldtype.equals("165")||defieldtype.equals("166")){
                                                //\u4eba\u5458\uff0c\u591a\u4eba\u5458
                                                for(int k=0;k<tempshowidlist.size();k++){
                                                    if(!linkurl.equals("")){
                                                    	if("/hrm/resource/HrmResource.jsp?id=".equals(linkurl))
                                                      	{
                                                    		showname+="<a href='javaScript:openhrm("+tempshowidlist.get(k)+");' onclick='pointerXY(event);'>"+ResourceComInfo2.getResourcename((String)tempshowidlist.get(k))+"</a>&nbsp";
                                                      	}
                                                    	else
                                                        showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"' target='_new'>"+ResourceComInfo2.getResourcename((String)tempshowidlist.get(k))+"</a>&nbsp";
                                                    }else{
                                                    showname+=ResourceComInfo2.getResourcename((String)tempshowidlist.get(k))+" ";
                                                    }
                                                }
                                            }else if(defieldtype.equals("142")){
												//\u6536\u53d1\u6587\u5355\u4f4d






												for(int k=0;k<tempshowidlist.size();k++){
													if(!linkurl.equals("")){
														showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"' target='_new'>"+docReceiveUnitComInfo_mdbb.getReceiveUnitName((String)tempshowidlist.get(k))+"</a>&nbsp";
													}else{
													showname+=docReceiveUnitComInfo_mdbb.getReceiveUnitName((String)tempshowidlist.get(k))+" ";
													}
												}
                                            }else if(defieldtype.equals("7") || defieldtype.equals("18")){
                                                //\u5ba2\u6237\uff0c\u591a\u5ba2\u6237
                                                for(int k=0;k<tempshowidlist.size();k++){
                                                    if(!linkurl.equals("")){
                                                        showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"' target='_new'>"+CustomerInfoComInfo2.getCustomerInfoname((String)tempshowidlist.get(k))+"</a>&nbsp";
                                                    }else{
                                                    showname+=CustomerInfoComInfo2.getCustomerInfoname((String)tempshowidlist.get(k))+" ";
                                                    }
                                                }
                                            }else if(defieldtype.equals("4") || defieldtype.equals("57")){
                                                //\u90e8\u95e8\uff0c\u591a\u90e8\u95e8
                                                for(int k=0;k<tempshowidlist.size();k++){
                                                	 String showdeptname = "";
	                           						 String showdeptid = (String) tempshowidlist.get(k);
	                           						 if(!"".equals(showdeptid)){
	                           							if(Integer.parseInt(showdeptid) < -1){
	                           								showdeptname = deptVirComInfo2.getDepartmentname(showdeptid);
	                           								
	                           							}else{
	                           								showdeptname = DepartmentComInfo2.getDepartmentname(showdeptid);
	                           							}
	                           						 }
                                                     if(!linkurl.equals("")){
                                                        showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"' target='_new'>"+showdeptname+"</a>&nbsp";
                                                     }else{
                                                    	showname+=showdeptname+" ";
                                                     }
                                                }
                                            }else if(defieldtype.equals("164") || defieldtype.equals("194")){
							                    //\u591a\u5206\u90e8





							                    for(int k=0;k<tempshowidlist.size();k++){
							                    	String showsubcompname = "";
						    						String showsubcompid = (String) tempshowidlist.get(k);
						    						if(!"".equals(showsubcompid)){
						    							if(Integer.parseInt(showsubcompid) < -1){
						    								showsubcompname = subCompVirComInfo2.getSubCompanyname(showsubcompid);
						    							}else{
						    								showsubcompname = SubCompanyComInfo2.getSubCompanyname(showsubcompid);
						    							}
						    						}
							                        if(!linkurl.equals("")){
							                            showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"'>"+showsubcompname+"</a>&nbsp";
							                        }else{
							                        	showname+=showsubcompname+" ";
							                        }
							                    }
							                }else if(defieldtype.equals("9") || defieldtype.equals("37")){
                                                //\u6587\u6863\uff0c\u591a\u6587\u6863
                                                for(int k=0;k<tempshowidlist.size();k++){
                                                    if(!linkurl.equals("")){
                                                        showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"' target='_blank'>"+DocComInfo2.getDocname((String)tempshowidlist.get(k))+"</a>&nbsp";
                                                    }else{
                                                    showname+=DocComInfo2.getDocname((String)tempshowidlist.get(k))+" ";
                                                    }
                                                }
                                            }else if(defieldtype.equals("23")){
                                                //\u8d44\u4ea7
                                                for(int k=0;k<tempshowidlist.size();k++){
                                                    if(!linkurl.equals("")){
                                                        showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"' target='_new'>"+CapitalComInfo2.getCapitalname((String)tempshowidlist.get(k))+"</a>&nbsp";
                                                    }else{
                                                    showname+=CapitalComInfo2.getCapitalname((String)tempshowidlist.get(k))+" ";
                                                    }
                                                }
                                            }else if(defieldtype.equals("16") || defieldtype.equals("152") || defieldtype.equals("171")){
                                                //\u76f8\u5173\u8bf7\u6c42
                                                for(int k=0;k<tempshowidlist.size();k++){
                                                    if(!linkurl.equals("")){
                                                        int tempnum=Util.getIntValue(String.valueOf(session.getAttribute("slinkwfnum")));
                                                        tempnum++;
                                                        session.setAttribute("resrequestid"+tempnum,""+tempshowidlist.get(k));
                                                        session.setAttribute("slinkwfnum",""+tempnum);
                                                        session.setAttribute("haslinkworkflow","1");
                                                        hiddenlinkvalue+="<input type=hidden name='slink"+defieldid+"_"+derecorderindex+"_rq"+tempshowidlist.get(k)+"' value="+tempnum+">";
                                                        showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"&wflinkno="+tempnum+"' target='_new'>"+WorkflowRequestComInfo2.getRequestName((String)tempshowidlist.get(k))+"</a>&nbsp";
                                                    }else{
                                                    showname+=WorkflowRequestComInfo2.getRequestName((String)tempshowidlist.get(k))+" ";
                                                    }
                                                }
                                            }else if(defieldtype.equals("161")){//\u81ea\u5b9a\u4e49\u5355\u9009






							                    showname = "";                                   // \u65b0\u5efa\u65f6\u5019\u9ed8\u8ba4\u503c\u663e\u793a\u7684\u540d\u79f0
												try{
													defieldvalue = defieldvalue.replace("&#039;","'").replace("&quot;", "\"");
										            Browser browser=(Browser)StaticObj.getServiceByFullname(fielddbtype, Browser.class);
										            BrowserBean bb=browser.searchById(requestid+"^~^"+defieldvalue+"^~^"+derecorderindex);
													String desc=Util.null2String(bb.getDescription());
													String name=Util.null2String(bb.getName());
						                            String href=Util.null2String(bb.getHref());
						                            if(href.equals("")){
						                            	showname+="<a title='"+desc+"'>"+name+"</a>&nbsp";
						                            }else{
						                            	showname+="<a title='"+desc+"' href='"+href+"' target='_blank'>"+name+"</a>&nbsp";
						                            }
												}catch(Exception e){
												}
												defieldvalue = defieldvalue.replace("\"", "&quot;");
                                            }else if(defieldtype.equals("162")){//\u81ea\u5b9a\u4e49\u591a\u9009






									            showname = "";                                   // \u65b0\u5efa\u65f6\u5019\u9ed8\u8ba4\u503c\u663e\u793a\u7684\u540d\u79f0
												try{
										            Browser browser=(Browser)StaticObj.getServiceByFullname(fielddbtype, Browser.class);
													List l=Util.TokenizerString(defieldvalue,",");
										            for(int j=0;j<l.size();j++){
													    String curid=(String)l.get(j);
														curid = curid.replace("&#039;","'").replace("&quot;", "\"");
											            BrowserBean bb=browser.searchById(requestid+"^~^"+curid+"^~^"+derecorderindex);
														String name=Util.null2String(bb.getName());
														String desc=Util.null2String(bb.getDescription());
							                            String href=Util.null2String(bb.getHref());
							                            if(href.equals("")){
							                            	showname+="<a title='"+desc+"'>"+name+"</a>&nbsp";
							                            }else{
							                            	showname+="<a title='"+desc+"' href='"+href+"' target='_blank'>"+name+"</a>&nbsp";
							                            }
													}
												}catch(Exception e){
												}    
                                            }else if(defieldtype.equals("256")||defieldtype.equals("257")){//\u81ea\u5b9a\u4e49\u591a\u9009






                                            	CustomTreeUtil customTreeUtil = new CustomTreeUtil();
												showid = defieldvalue;
												showname = customTreeUtil.getTreeFieldShowName(defieldvalue,fielddbtype);
                                            }else if(defieldtype.equals("224") || defieldtype.equals("225")||defieldtype.equals("226") || defieldtype.equals("227")){
												//System.out.println("\u6765\u5230\u4e86\u4fee\u6539\u9875\u9762\u7684\u660e\u7ec6");
												//\u96c6\u6210\u6d4f\u89c8\u6309\u94ae
												//zzl,\u65b0\u8868\u5355\u7684\u666e\u901a\u6a21\u5f0f\uff0c\u6d4f\u89c8\u6309\u94ae\u4e0d\u7ecf\u8fc7ButtonElement.java
												if("NULL".equals(defieldvalue)){
														defieldvalue="";
												}
												showname+="<a title='"+defieldvalue+"'>"+defieldvalue+"</a>&nbsp";
												url+="?type="+fielddbtype+"|"+defieldid;	
											}else if(defieldtype.equals("263")){

                                                String tablename1=BrowserComInfo2.getBrowsertablename(defieldtype); //\u6d4f\u89c8\u6846\u5bf9\u5e94\u7684\u8868,\u6bd4\u5982\u4eba\u529b\u8d44\u6e90\u8868
                                                String columname=BrowserComInfo2.getBrowsercolumname(defieldtype); //\u6d4f\u89c8\u6846\u5bf9\u5e94\u7684\u8868\u540d\u79f0\u5b57\u6bb5
                                                String keycolumname=BrowserComInfo2.getBrowserkeycolumname(defieldtype);   //\u6d4f\u89c8\u6846\u5bf9\u5e94\u7684\u8868\u503c\u5b57\u6bb5

                                                //add by wang jinyong
                                                HashMap temRes = new HashMap();

                                                if(defieldvalue.indexOf(",")!=-1){
                                                    sql= "select "+keycolumname+","+columname+" from "+tablename1+" where "+keycolumname+" in( "+defieldvalue+")";
                                                }
                                                else {
                                                    sql= "select "+keycolumname+","+columname+" from "+tablename1+" where "+keycolumname+"="+defieldvalue;
                                                }

                                                RecordSet.executeSql(sql);
                                                while(RecordSet.next()){
                                                    showid = Util.null2String(RecordSet.getString(1)) ;
                                                    String tempshowname= Util.toScreen(RecordSet.getString(2),user.getLanguage()) ;
                                                    showname = tempshowname;
                                                }
                                            
											}
											else{
                                                String tablename1=BrowserComInfo2.getBrowsertablename(defieldtype); //\u6d4f\u89c8\u6846\u5bf9\u5e94\u7684\u8868,\u6bd4\u5982\u4eba\u529b\u8d44\u6e90\u8868






                                                String columname=BrowserComInfo2.getBrowsercolumname(defieldtype); //\u6d4f\u89c8\u6846\u5bf9\u5e94\u7684\u8868\u540d\u79f0\u5b57\u6bb5






                                                String keycolumname=BrowserComInfo2.getBrowserkeycolumname(defieldtype);   //\u6d4f\u89c8\u6846\u5bf9\u5e94\u7684\u8868\u503c\u5b57\u6bb5








                                                //add by wang jinyong
                                                HashMap temRes = new HashMap();

                                                if(defieldvalue.indexOf(",")!=-1){
                                                    sql= "select "+keycolumname+","+columname+" from "+tablename1+" where "+keycolumname+" in( "+defieldvalue+")";
                                                }
                                                else {
                                                    sql= "select "+keycolumname+","+columname+" from "+tablename1+" where "+keycolumname+"="+defieldvalue;
                                                }

                                                RecordSet.executeSql(sql);
                                                while(RecordSet.next()){
                                                    showid = Util.null2String(RecordSet.getString(1)) ;
                                                    String tempshowname= Util.toScreen(RecordSet.getString(2),user.getLanguage()) ;
                                                    if(!linkurl.equals("")){
                                                    	if("/hrm/resource/HrmResource.jsp?id=".equals(linkurl))
                                                      	{
                                                    		showname+="<a href='javaScript:openhrm("+showid+");' onclick='pointerXY(event);'>"+tempshowname+"</a>&nbsp";
                                                      	}
                                                    	else  
                                                             showname += "<a href='"+linkurl+showid+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"' target='_new'>"+tempshowname+"</a>&nbsp";
                                                    }else{
                                                        showname +=tempshowname+" ";
                                                    }
                                                }
                                            }
                                        }else if(defieldvalue.equals("")){
                                        				 if(defieldtype.equals("224") || defieldtype.equals("225")||defieldtype.equals("226") || defieldtype.equals("227")){
															//System.out.println("\u6765\u5230\u4e86\u4fee\u6539\u9875\u9762\u7684\u660e\u7ec6");
															//\u96c6\u6210\u6d4f\u89c8\u6309\u94ae
															//zzl,\u65b0\u8868\u5355\u7684\u666e\u901a\u6a21\u5f0f\uff0c\u6d4f\u89c8\u6309\u94ae\u4e0d\u7ecf\u8fc7ButtonElement.java
															if("NULL".equals(defieldvalue)){
																	defieldvalue="";
															}
															showname+="<a title='"+defieldvalue+"'>"+defieldvalue+"</a>&nbsp";
															url+="?type="+fielddbtype+"|"+defieldid;	

														}
                                        }
                                        //add by dongping
                                        //\u6c38\u4e50\u8981\u6c42\u5728\u5ba1\u6279\u4f1a\u8bae\u7684\u6d41\u7a0b\u4e2d\u589e\u52a0\u4f1a\u8bae\u5ba4\u62a5\u8868\u94fe\u63a5\uff0c\u70b9\u51fb\u540e\u5728\u65b0\u7a97\u53e3\u663e\u793a\u4f1a\u8bae\u5ba4\u62a5\u8868






                                        if (defieldtype.equals("118")) {
                                            showname ="<a href=/meeting/report/MeetingRoomPlan.jsp target=blank>"+SystemEnv.getHtmlLabelName(2165,user.getLanguage())+"</a>" ;
                                            //showid = "<a href=/meeting/report/MeetingRoomPlan.jsp target=blank>\u67e5\u770b\u4f1a\u8bae\u5ba4\u4f7f\u7528\u60c5\u51b5</a>";
                                         }
                                        if(isdeedit.equals("1") && colcount1!=0 && editdetailbodyflag){
                                            
                                            try {
					      				    	 if(defieldtype.equals("161") || defieldtype.equals("162")){
					      				               showname = showname.replaceAll("</a>&nbsp", "</a>~~WEAVERSplitFlag~~");   
					      				    	 }else{
					      				               showname = showname.replaceAll("</a>&nbsp", "</a>,"); 
					      				    	 }  				        
                         				    } catch (Exception e) {
                         				        e.printStackTrace();
                         				    }


											
if("16".equals(defieldtype)){   //\u8bf7\u6c42
			if(url.indexOf("RequestBrowser.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("ViewRequest.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/
		}

	/*if("152".equals(defieldtype) || "171".equals(defieldtype)){   //\u591a\u8bf7\u6c42






			if(url.indexOf("MultiRequestBrowser.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("ViewRequest.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
		}	*/

		if("7".equals(defieldtype)){   //\u5ba2\u6237
			if(url.indexOf("CustomerBrowser.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("ViewCustomer.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/
		}

			if("9".equals(defieldtype)){   //\u6587\u6863
			if(url.indexOf("DocBrowser.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("DocDsp.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/
		}

			if("37".equals(defieldtype)){   //\u591a\u6587\u6863






			if(url.indexOf("MutiDocBrowser.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("DocDsp.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/
		}

									if("1".equals( defieldtype)){   //\u5355\u4eba\u529b






			if(url.indexOf("ResourceBrowser.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("HrmResource.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/

		}

		/*if("17".equals( defieldtype)){   ////\u5206\u6743\u591a\u4eba\u529b






			if(url.indexOf("MultiResourceBrowser.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("hrmTab.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}

		}*/

										
									if("165".equals( defieldtype)){   //\u5206\u6743\u5355\u4eba\u529b






			if(url.indexOf("ResourceBrowserByDec.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("HrmResource.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/

		}

		if("166".equals( defieldtype)){   ////\u5206\u6743\u591a\u4eba\u529b






			if(url.indexOf("MultiResourceBrowserByDec.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("hrmTab.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/

		}

			if("167".equals( defieldtype)){   ////\u5206\u6743\u5355\u90e8\u95e8






			if(url.indexOf("DepartmentBrowserByDec.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("HrmDepartmentDsp.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/

		}

		if("168".equals( defieldtype)){   ////\u5206\u6743\u591a\u90e8\u95e8






			if(url.indexOf("MultiDepartmentBrowserByDecOrder.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("HrmDepartmentDsp.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/

		}

		if("169".equals( defieldtype)){   ////\u5206\u6743\u5355\u5206\u90e8






			if(url.indexOf("SubcompanyBrowserByDec.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("HrmSubCompanyDsp.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/

		}

		if("170".equals( defieldtype)){   ////\u5206\u6743\u591a\u5206\u90e8






			if(url.indexOf("MultiSubcompanyBrowserByDec.jsp?")>-1){
		    		url+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		url+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}
				/*if(linkurl.indexOf("HrmSubCompanyDsp.jsp?")>-1){
		    		linkurl+="&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}else{
		    		linkurl+="?f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype;
		    	}*/

		}
                                            if( !defieldtype.equals("37") ) {    //  \u591a\u6587\u6863\u7279\u6b8a\u5904\u7406






                                                if (trrigerdetailfield.indexOf("field"+defieldid)>=0){
                                                    bclick="onShowBrowser2('"+defieldid+"_"+derecorderindex+"','"+url+"','"+linkurl+"','"+defieldtype+"',field"+defieldid+"_"+derecorderindex+".getAttribute('viewtype'));";
                                                } else {
                                                    bclick="onShowBrowser2('"+defieldid+"_"+derecorderindex+"','"+url+"','"+linkurl+"','"+defieldtype+"',field"+defieldid+"_"+derecorderindex+".getAttribute('viewtype'))";
                                                }
                                                if(defieldtype.equals("2") || defieldtype.equals("19")){
                                   
                out.write(_jsp_string135, 0, _jsp_string135.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string136, 0, _jsp_string136.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string137, 0, _jsp_string137.length);
                if (trrigerdetailfield.indexOf("field"+defieldid)>=0){
                out.write(_jsp_string138, 0, _jsp_string138.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((url));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((linkurl));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((defieldtype));
                out.write(_jsp_string139, 0, _jsp_string139.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string140, 0, _jsp_string140.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string141, 0, _jsp_string141.length);
                } else {
                out.write(_jsp_string142, 0, _jsp_string142.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((url));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((linkurl));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((defieldtype));
                out.write(_jsp_string139, 0, _jsp_string139.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string143, 0, _jsp_string143.length);
                }
                out.write(_jsp_string144, 0, _jsp_string144.length);
                out.print((SystemEnv.getHtmlLabelName(172,user.getLanguage())));
                out.write(_jsp_string145, 0, _jsp_string145.length);
                }else  if(defieldtype.equals("58")){   //\u57ce\u5e02
                                                    
                out.write(_jsp_string146, 0, _jsp_string146.length);
                out.print(("field" + defieldid + "_" + derecorderindex ));
                out.write(_jsp_string147, 0, _jsp_string147.length);
                out.print((defieldvalue));
                out.write(_jsp_string148, 0, _jsp_string148.length);
                out.print((Util.formatMultiLang(showname) ));
                out.write(_jsp_string149, 0, _jsp_string149.length);
                out.print((isbrowisMust ));
                out.write(_jsp_string150, 0, _jsp_string150.length);
                out.print(("field" + defieldid + "_" + derecorderindex ));
                out.write(_jsp_string151, 0, _jsp_string151.length);
                out.print(("field" + defieldid + "_" + derecorderindex ));
                out.write(_jsp_string152, 0, _jsp_string152.length);
                 
                                                }else if(defieldtype.equals("263")){  //\u533a\u53bf
                                                    
                out.write(_jsp_string153, 0, _jsp_string153.length);
                out.print(("field" + defieldid + "_" + derecorderindex ));
                out.write(_jsp_string147, 0, _jsp_string147.length);
                out.print((defieldvalue));
                out.write(_jsp_string148, 0, _jsp_string148.length);
                out.print((Util.formatMultiLang(showname) ));
                out.write(_jsp_string149, 0, _jsp_string149.length);
                out.print((isbrowisMust ));
                out.write(_jsp_string150, 0, _jsp_string150.length);
                out.print(("field" + defieldid + "_" + derecorderindex ));
                out.write(_jsp_string151, 0, _jsp_string151.length);
                out.print(("field" + defieldid + "_" + derecorderindex ));
                out.write(_jsp_string152, 0, _jsp_string152.length);
                 
                                                    }      
                                                else {
                                    String completeUrlStr = "javascript:getajaxurl(" + defieldtype + ")";
									if(defieldtype.equals("161")||defieldtype.equals("162")){
										completeUrlStr = "javascript:getajaxurl(" + defieldtype + ",'"+fielddbtype+"')";
                                     
                out.write(_jsp_string154, 0, _jsp_string154.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string155, 0, _jsp_string155.length);
                _jsp_BrowserTag_4 = new weaver.common.util.taglib.BrowserTag();
                _jsp_BrowserTag_4.setJspContext(pageContext);
                _jsp_BrowserTag_4.setParent(_jsp_ItemTag_3);
                _jsp_BrowserTag_4.setViewType("1");
                _jsp_BrowserTag_4.setNameSplitFlag("~~WEAVERSplitFlag~~");
                _jsp_BrowserTag_4.setHasInput("true");
                _jsp_BrowserTag_4.setHasBrowser("true");
                _jsp_BrowserTag_4.setWidth("100%");
                _jsp_BrowserTag_4.setNeedHidden("false");
                _jsp_BrowserTag_4.setName("field" + defieldid + "_" + derecorderindex );
                _jsp_BrowserTag_4.setBrowserValue(defieldvalue );
                _jsp_BrowserTag_4.setBrowserSpanValue(showname );
                _jsp_BrowserTag_4.setBrowserOnClick(bclick);
                _jsp_BrowserTag_4.setIsSingle(BrowserManager.browIsSingle(defieldtype));
                _jsp_BrowserTag_4.setIsMustInput(isbrowisMust );
                _jsp_BrowserTag_4.setCompleteUrl(completeUrlStr);
                _jsp_BrowserTag_4.setOnPropertyChange("wfbrowvaluechange(this," + defieldid + ", " + derecorderindex + ")" );
                _jsp_BrowserTag_4.setLinkUrl(linkurl);
                _jsp_BrowserTag_4.setType(defieldtype);
                _jsp_BrowserTag_4.setJspBody(_jsp_fragment_0 = com.caucho.jsp.StaticJspFragmentSupport.create(_jsp_fragment_0, pageContext, " "));
                _jsp_BrowserTag_4.doTag();
                out.write(_jsp_string156, 0, _jsp_string156.length);
                      
									}else{
									String hasinputStr = "true";
									//if(defieldtype.equals("256")||defieldtype.equals("257")){
									//	hasinputStr = "false";
									//}
                                     
                out.write(_jsp_string154, 0, _jsp_string154.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string155, 0, _jsp_string155.length);
                _jsp_BrowserTag_5 = new weaver.common.util.taglib.BrowserTag();
                _jsp_BrowserTag_5.setJspContext(pageContext);
                _jsp_BrowserTag_5.setParent(_jsp_ItemTag_3);
                _jsp_BrowserTag_5.setViewType("1");
                _jsp_BrowserTag_5.setHasBrowser("true");
                _jsp_BrowserTag_5.setWidth("100%");
                _jsp_BrowserTag_5.setNeedHidden("false");
                _jsp_BrowserTag_5.setName("field" + defieldid + "_" + derecorderindex );
                _jsp_BrowserTag_5.setBrowserValue(defieldvalue );
                _jsp_BrowserTag_5.setBrowserSpanValue(showname );
                _jsp_BrowserTag_5.setBrowserOnClick(bclick);
                _jsp_BrowserTag_5.setHasInput(hasinputStr);
                _jsp_BrowserTag_5.setIsSingle(BrowserManager.browIsSingle(defieldtype));
                _jsp_BrowserTag_5.setIsMustInput(isbrowisMust );
                _jsp_BrowserTag_5.setCompleteUrl(completeUrlStr);
                _jsp_BrowserTag_5.setOnPropertyChange("wfbrowvaluechange(this," + defieldid + ", " + derecorderindex + ")" );
                _jsp_BrowserTag_5.setLinkUrl(linkurl);
                _jsp_BrowserTag_5.setType(defieldtype);
                _jsp_BrowserTag_5.setJspBody(_jsp_fragment_1 = com.caucho.jsp.StaticJspFragmentSupport.create(_jsp_fragment_1, pageContext, " "));
                _jsp_BrowserTag_5.doTag();
                out.write(_jsp_string156, 0, _jsp_string156.length);
                       
                               }}
                                   } else {                         // \u5982\u679c\u662f\u591a\u6587\u6863\u5b57\u6bb5,\u52a0\u5165\u65b0\u5efa\u6587\u6863\u6309\u94ae
		                                       bclick = "onShowBrowser2('"+defieldid+"_"+derecorderindex+"','"+url+"','"+linkurl+"','"+defieldtype+"',field"+defieldid+"_"+derecorderindex+".getAttribute('viewtype'))";
                                   String oclick = "onNewDoc('" + defieldid + "_" + derecorderindex + "')";
                                   
                out.write(_jsp_string157, 0, _jsp_string157.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string158, 0, _jsp_string158.length);
                _jsp_BrowserTag_6 = new weaver.common.util.taglib.BrowserTag();
                _jsp_BrowserTag_6.setJspContext(pageContext);
                _jsp_BrowserTag_6.setParent(_jsp_ItemTag_3);
                _jsp_BrowserTag_6.setViewType("1");
                _jsp_BrowserTag_6.setHasInput("true");
                _jsp_BrowserTag_6.setHasBrowser("true");
                _jsp_BrowserTag_6.setWidth("100%");
                _jsp_BrowserTag_6.setNeedHidden("false");
                _jsp_BrowserTag_6.setHasAdd("true");
                _jsp_BrowserTag_6.setName("field" + defieldid  + "_" +  derecorderindex );
                _jsp_BrowserTag_6.setBrowserValue(defieldvalue );
                _jsp_BrowserTag_6.setBrowserSpanValue(showname );
                _jsp_BrowserTag_6.setBrowserOnClick(bclick);
                _jsp_BrowserTag_6.setIsSingle(BrowserManager.browIsSingle(defieldtype));
                _jsp_BrowserTag_6.setIsMustInput(isbrowisMust );
                _jsp_BrowserTag_6.setCompleteUrl("javascript:getajaxurl(" + defieldtype + ")");
                _jsp_BrowserTag_6.setOnPropertyChange("wfbrowvaluechange(this," + defieldid + ", " + derecorderindex + ")" );
                _jsp_BrowserTag_6.setAddOnClick(oclick);
                _jsp_BrowserTag_6.setLinkUrl(linkurl);
                _jsp_BrowserTag_6.setType(defieldtype);
                _jsp_BrowserTag_6.setJspBody(_jsp_fragment_2 = com.caucho.jsp.StaticJspFragmentSupport.create(_jsp_fragment_2, pageContext, " "));
                _jsp_BrowserTag_6.doTag();
                out.write(_jsp_string159, 0, _jsp_string159.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string136, 0, _jsp_string136.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string160, 0, _jsp_string160.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((url));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((linkurl));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((defieldtype));
                out.write(_jsp_string139, 0, _jsp_string139.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string161, 0, _jsp_string161.length);
                out.print((SystemEnv.getHtmlLabelName(611,user.getLanguage())));
                out.write(_jsp_string162, 0, _jsp_string162.length);
                out.print((SystemEnv.getHtmlLabelName(611,user.getLanguage())));
                out.write(_jsp_string163, 0, _jsp_string163.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string164, 0, _jsp_string164.length);
                out.print((SystemEnv.getHtmlLabelName(82,user.getLanguage())));
                out.write(_jsp_string165, 0, _jsp_string165.length);
                out.print((SystemEnv.getHtmlLabelName(82,user.getLanguage())));
                out.write(_jsp_string166, 0, _jsp_string166.length);
                       }
                                        }
                                        //\u65e5\u671f\u63a7\u4ef6\u4e0d\u4f7f\u7528brow
                                        if( (defieldtype.equals("2") || defieldtype.equals("19")) || (isdeview.equals("1") && colcount1!=0  && (isdeedit.equals("0") || !editdetailbodyflag))){
                                   
                out.write(_jsp_string167, 0, _jsp_string167.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string51, 0, _jsp_string51.length);
                out.print((showname));
                out.write(_jsp_string168, 0, _jsp_string168.length);
                
                                        if( isdemand.equals("1") && defieldvalue.equals("")){
                                   
                out.write(_jsp_string169, 0, _jsp_string169.length);
                
                                        }

                                   
                out.write(_jsp_string170, 0, _jsp_string170.length);
                if(defieldtype.equals("87")||defieldtype.equals("184")){
                out.write(_jsp_string171, 0, _jsp_string171.length);
                out.print((SystemEnv.getHtmlLabelName(2193,user.getLanguage())));
                out.write(_jsp_string172, 0, _jsp_string172.length);
                }
                out.write(_jsp_string173, 0, _jsp_string173.length);
                }
                out.write(_jsp_string174, 0, _jsp_string174.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string122, 0, _jsp_string122.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string56, 0, _jsp_string56.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((defieldvalue));
                out.write(_jsp_string30, 0, _jsp_string30.length);
                if(trrigerdetailfield.indexOf("field"+defieldid)>=0){
                out.write(_jsp_string175, 0, _jsp_string175.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string176, 0, _jsp_string176.length);
                }
                out.write(_jsp_string177, 0, _jsp_string177.length);
                out.print((hiddenlinkvalue));
                out.write(_jsp_string178, 0, _jsp_string178.length);
                
                                        if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        
                out.write(_jsp_string61, 0, _jsp_string61.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0)));
                out.write(_jsp_string62, 0, _jsp_string62.length);
                
                                            }
                                    }                                                        // \u6d4f\u89c8\u6309\u94ae\u6761\u4ef6\u7ed3\u675f
                                    else if(defieldhtmltype.equals("4")) {                    // check\u6846






                                        if(isdeview.equals("1") && colcount1!=0){
                                           
                out.write(_jsp_string179, 0, _jsp_string179.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string180, 0, _jsp_string180.length);
                if(isdeedit.equals("0") || !editdetailbodyflag){
                out.write(_jsp_string181, 0, _jsp_string181.length);
                }else{
                out.write(_jsp_string182, 0, _jsp_string182.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string30, 0, _jsp_string30.length);
                }if(defieldvalue.equals("1")){
                out.write(_jsp_string183, 0, _jsp_string183.length);
                }
                out.write(_jsp_string184, 0, _jsp_string184.length);
                
                                               if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        
                out.write(_jsp_string61, 0, _jsp_string61.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0)));
                out.write(_jsp_string62, 0, _jsp_string62.length);
                
                                            }
                                               }
                                        if( isdeedit.equals("0") || !editdetailbodyflag || !isdeview.equals("1") || colcount1==0){
                                           
                out.write(_jsp_string185, 0, _jsp_string185.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string57, 0, _jsp_string57.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((defieldvalue));
                out.write(_jsp_string99, 0, _jsp_string99.length);
                
                                        }
                                    }                                                       // check\u6846\u6761\u4ef6\u7ed3\u675f






                                    else if(defieldhtmltype.equals("5")){                     // \u9009\u62e9\u6846   select
                                     	String onchangeAddStr = "";
                                    	int childfieldid_tmp = Util.getIntValue((String)childfieldids.get(i), 0);
                                    	if(childfieldid_tmp != 0){
                                    		onchangeAddStr = "changeChildFieldDetail(this,"+defieldid+","+childfieldid_tmp+","+derecorderindex+")";
                                    	}
                                    	boolean hasPfield = false;
                                    	int firstPfieldid_tmp = 0;
                                    	if(childfieldids.contains(defieldid)){
                                    		firstPfieldid_tmp = Util.getIntValue((String)defieldids.get(childfieldids.indexOf(defieldid)), 0);
                                    		hasPfield = true;
                                    	}
                                            if(isdeview.equals("1") && colcount1!=0){
                                           
                out.write(_jsp_string186, 0, _jsp_string186.length);
                out.print((defieldid));
                out.write(_jsp_string187, 0, _jsp_string187.length);
                out.print((defieldid));
                out.write(_jsp_string188, 0, _jsp_string188.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string189, 0, _jsp_string189.length);
                out.print((derecorderindex));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((workflowid));
                out.write(_jsp_string48, 0, _jsp_string48.length);
                out.print((nodeid));
                out.write(_jsp_string190, 0, _jsp_string190.length);
                out.print((defieldid));
                out.write(_jsp_string191, 0, _jsp_string191.length);
                out.print((defieldid));
                out.write(_jsp_string192, 0, _jsp_string192.length);
                out.print((defieldid));
                out.write(_jsp_string193, 0, _jsp_string193.length);
                out.print((defieldid));
                out.write(_jsp_string194, 0, _jsp_string194.length);
                out.print((isdemand));
                out.write(_jsp_string41, 0, _jsp_string41.length);
                out.print((defieldlable));
                out.write(_jsp_string195, 0, _jsp_string195.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string46, 0, _jsp_string46.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string196, 0, _jsp_string196.length);
                if(seldefieldsdemanage.indexOf(defieldid)>=0){
                out.write(_jsp_string197, 0, _jsp_string197.length);
                out.print((defieldid));
                out.write(_jsp_string198, 0, _jsp_string198.length);
                out.print((derecorderindex));
                out.write(',');
                out.print((workflowid));
                out.write(',');
                out.print((nodeid));
                out.write(_jsp_string70, 0, _jsp_string70.length);
                if (trrigerdetailStr.indexOf("field" + defieldid +"_"+derecorderindex) >= 0) {
                out.write(_jsp_string199, 0, _jsp_string199.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string49, 0, _jsp_string49.length);
                }
                out.print((onchangeAddStr));
                out.write('"');
                }else{
                out.write(_jsp_string200, 0, _jsp_string200.length);
                if (trrigerdetailStr.indexOf("field" + defieldid +"_"+derecorderindex) >= 0) {
                out.write(_jsp_string199, 0, _jsp_string199.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string49, 0, _jsp_string49.length);
                }
                out.print((onchangeAddStr));
                out.write('"');
                }
                out.write(' ');
                if(isdeedit.equals("0") || !editdetailbodyflag){
                out.write(_jsp_string201, 0, _jsp_string201.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string202, 0, _jsp_string202.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string203, 0, _jsp_string203.length);
                }else{
                out.write(_jsp_string204, 0, _jsp_string204.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string56, 0, _jsp_string56.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write('"');
                }
                out.write(_jsp_string205, 0, _jsp_string205.length);
                
                                        // \u67e5\u8be2\u9009\u62e9\u6846\u7684\u6240\u6709\u53ef\u4ee5\u9009\u62e9\u7684\u503c






                                        RecordSet selrs=new RecordSet();
										selrs.executeProc("workflow_SelectItemSelectByid",""+defieldid+flag+isbill);
                                        if(hasPfield==false || isdeedit.equals("0") || (isaffirmance.equals("1") && !reEdit.equals("1")) || isremark!=0 || nodetype.equals("3")){
                                          while(selrs.next()){
											  if(!isdeedit.equals("0")){
							                    int sltitemCancel = Util.getIntValue(selrs.getString("cancel"), 0);
							                    if (sltitemCancel == 1) {
						                           continue;
						                         }
							                }
                                            String tmpselectvalue = Util.null2String(selrs.getString("selectvalue"));
                                            String tmpselectname = Util.toScreen(selrs.getString("selectname"),user.getLanguage());
                                           
                out.write(_jsp_string206, 0, _jsp_string206.length);
                out.print((tmpselectvalue));
                out.write(_jsp_string30, 0, _jsp_string30.length);
                if(defieldvalue.equals(tmpselectvalue)){
                out.write(_jsp_string207, 0, _jsp_string207.length);
                }
                out.write('>');
                out.print((tmpselectname));
                out.write(_jsp_string208, 0, _jsp_string208.length);
                
                                          }
                                        }else{
											while(selrs.next()){
												int sltitemCancel = Util.getIntValue(selrs.getString("cancel"), 0);
							                    if (sltitemCancel == 1) {
						                            continue;
												}
												String tmpselectvalue = Util.null2String(selrs.getString("selectvalue"));
												String tmpselectname = Util.toScreen(selrs.getString("selectname"),user.getLanguage());
                                           
                out.write(_jsp_string209, 0, _jsp_string209.length);
                out.print((tmpselectvalue));
                out.write(_jsp_string30, 0, _jsp_string30.length);
                if(defieldvalue.equals(tmpselectvalue)){
                out.write(_jsp_string207, 0, _jsp_string207.length);
                }
                out.write('>');
                out.print((tmpselectname));
                out.write(_jsp_string210, 0, _jsp_string210.length);
                
											}
			                	        	selectDetailInitJsStr += "doInitDetailchildSelect("+defieldid+","+firstPfieldid_tmp+","+derecorderindex+",\""+defieldvalue+"\");\n";
			                	        	initDetailIframeStr += "<iframe id=\"iframe_"+firstPfieldid_tmp+"_"+defieldid+"_"+derecorderindex+"\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\"></iframe>";
                                        }
                                               if(seldefieldsdemanage.indexOf(defieldid)>=0) dlbodychangattrstr+="changeshowattr('"+defieldid+"_1','"+defieldvalue+"',"+derecorderindex+","+workflowid+","+nodeid+");";
                                           
                out.write(_jsp_string211, 0, _jsp_string211.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string212, 0, _jsp_string212.length);
                
                                                if( isdemand.equals("1") && defieldvalue.equals("") ){
                                           
                out.write(_jsp_string213, 0, _jsp_string213.length);
                
                                                }

                                           
                out.write(_jsp_string214, 0, _jsp_string214.length);
                
                                           if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        
                out.write(_jsp_string61, 0, _jsp_string61.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string58, 0, _jsp_string58.length);
                out.print((Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0)));
                out.write(_jsp_string62, 0, _jsp_string62.length);
                
                                            }    
                                               }
                                        if( isdeedit.equals("0") || !isdeview.equals("1") || colcount1==0 || !editdetailbodyflag) {
                                           
                out.write(_jsp_string185, 0, _jsp_string185.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string57, 0, _jsp_string57.length);
                out.print((defieldid));
                out.write('_');
                out.print((derecorderindex));
                out.write(_jsp_string215, 0, _jsp_string215.length);
                out.print((defieldvalue));
                out.write(_jsp_string216, 0, _jsp_string216.length);
                
                                        }
                                    }                                          // \u9009\u62e9\u6846\u6761\u4ef6\u7ed3\u675f \u6240\u6709\u6761\u4ef6\u5224\u5b9a\u7ed3\u675f




                                    
                                    
                                    
                                    //*********************************************************************************begin
						           else if (defieldhtmltype.equals("6")) {
						           
										if(isdeview.equals("1")){
											//System.out.println("===============defieldid:"+defieldid+"  defieldname:"+defieldname+"  defieldtype:"+defieldtype+"  defieldlable:"+defieldlable+"  defieldvalue:"+defieldvalue+"  isdeedit:"+isdeedit+"  isdemand:"+isdemand);
											otherPara_hs.put("fieldimgwidth" + defieldid, "" + deimgwidth);
											otherPara_hs.put("fieldimgheight" + defieldid, "" + deimgheight);
											//otherPara_hs.put("derecorderindex", "\"+rowindex+\"");
											otherPara_hs.put("derecorderindex", ""+derecorderindex);
											otherPara_hs.put("trrigerdetailfield", trrigerdetailfield);
											
											if(deuploadfieldids!=null){
												otherPara_hs.put("uploadfieldids", deuploadfieldids);
											}
											
											int defieldlength = 0;
											int degroupid = 0;
											HtmlElement htmlelement = new FileElement();
											Hashtable ret_hs = htmlelement.getHtmlElementString(Util.getIntValue(defieldid,0), defieldname, Util.getIntValue(defieldtype,0), defieldlable, defieldlength, 1, degroupid, defieldvalue, 0, 1, Util.getIntValue(isdeedit,0), Util.getIntValue(isdemand,0), user, otherPara_hs);
											String deinputStr= Util.null2String((String) ret_hs.get("inputStr"));
										  
											String dejsStr = Util.null2String((String) ret_hs.get("jsStr"));
											String deaddRowjsStr = Util.null2String((String) ret_hs.get("addRowjsStr"))+"\n";
										    deuploadfieldids = (ArrayList) otherPara_hs.get("uploadfieldids");
											//System.out.println(deinputStr);
											
											out.println("<div>"+deinputStr+"</div>");
											out.println(" <script> \n "+dejsStr+" \n </script>");
											out.println(" <script> \n "+deaddRowjsStr+" \n </script>");
										}
						           }
		
		
		
		
		
		//*********************************************************************************end

                out.write(_jsp_string217, 0, _jsp_string217.length);
                

                            if(colcount1!=0){
                        
                out.write(_jsp_string19, 0, _jsp_string19.length);
                if(  isdeview.equals("1") ) {
                out.write(_jsp_string218, 0, _jsp_string218.length);
                }
                                }
                                }   // \u660e\u7ec6\u8bb0\u5f55\u5faa\u73af\u7ed3\u675f
                            if(colcount1!=0){
                        
                out.write(_jsp_string219, 0, _jsp_string219.length);
                       if(submitdtlid.equals("")){
                                    submitdtlid=""+derecorderindex;
                                }else{
                                    submitdtlid+=","+derecorderindex;
                                }
                                    }
                                derecorderindex++;
                            }       //while\u660e\u7ec6\u8bb0\u5f55\u7ed3\u675f
                        }       //if\u7ed3\u675f
                        
                out.write(_jsp_string220, 0, _jsp_string220.length);
                if(defshowsum){
                out.write(_jsp_string221, 0, _jsp_string221.length);
                out.print((SystemEnv.getHtmlLabelName(358,user.getLanguage())));
                out.write(_jsp_string222, 0, _jsp_string222.length);
                
                    for (int i = 0; i < defieldids.size(); i++) {
                        if (!isdeviews.get(i).equals("1")) {
                
                out.write(_jsp_string223, 0, _jsp_string223.length);
                out.print((colwidth1));
                out.write(_jsp_string224, 0, _jsp_string224.length);
                out.print((defieldids.get(i)));
                out.write(_jsp_string225, 0, _jsp_string225.length);
                out.print((defieldids.get(i)));
                out.write(_jsp_string226, 0, _jsp_string226.length);
                
                        } else {
                            
                out.write(_jsp_string227, 0, _jsp_string227.length);
                out.print((colwidth1));
                out.write(_jsp_string224, 0, _jsp_string224.length);
                out.print((defieldids.get(i)));
                out.write(_jsp_string228, 0, _jsp_string228.length);
                out.print((defieldids.get(i)));
                out.write(_jsp_string229, 0, _jsp_string229.length);
                
                        }
                    }
                                    
                out.write(_jsp_string230, 0, _jsp_string230.length);
                }
                out.write(_jsp_string231, 0, _jsp_string231.length);
              } while (_jsp_ItemTag_3.doAfterBody() == javax.servlet.jsp.tagext.IterationTag.EVAL_BODY_AGAIN);
              out = pageContext.popBody();
              _jsp_ItemTag_3.doEndTag();
              pageContext.releaseBody(_jsp_endTagHack13);
              out.write(_jsp_string232, 0, _jsp_string232.length);
            } while (_jsp_GroupTag_1.doAfterBody() == javax.servlet.jsp.tagext.IterationTag.EVAL_BODY_AGAIN);
            if (_jspEval8 == javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_BUFFERED)
              out = pageContext.popBody();
          }
          _jsp_GroupTag_1.doEndTag();
          if (_jsp_endTagHack6 != null) {
            pageContext.releaseBody(_jsp_endTagHack6);
            _jsp_endTagHack6 = null;
          }
          out.write(_jsp_string233, 0, _jsp_string233.length);
        } while (_jsp_ViewTag_0.doAfterBody() == javax.servlet.jsp.tagext.IterationTag.EVAL_BODY_AGAIN);
        if (_jspEval5 == javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_BUFFERED)
          out = pageContext.popBody();
      }
      _jsp_ViewTag_0.doEndTag();
      if (_jsp_endTagHack3 != null) {
        pageContext.releaseBody(_jsp_endTagHack3);
        _jsp_endTagHack3 = null;
      }
      out.write(_jsp_string234, 0, _jsp_string234.length);
      out.print((detailno));
      out.write(_jsp_string235, 0, _jsp_string235.length);
      out.print((detailno));
      out.write(_jsp_string58, 0, _jsp_string58.length);
      out.print((derecorderindex));
      out.write(_jsp_string236, 0, _jsp_string236.length);
      out.print((detailno));
      out.write(_jsp_string237, 0, _jsp_string237.length);
      out.print((detailno));
      out.write(_jsp_string58, 0, _jsp_string58.length);
      out.print((derecorderindex));
      out.write(_jsp_string238, 0, _jsp_string238.length);
      out.print((detailno));
      out.write(_jsp_string239, 0, _jsp_string239.length);
      out.print((detailno));
      out.write(_jsp_string29, 0, _jsp_string29.length);
      out.print((dtlneed ));
      out.write(_jsp_string240, 0, _jsp_string240.length);
      out.print((detailsum));
      out.write(_jsp_string241, 0, _jsp_string241.length);
      out.print((detailno));
      out.write(_jsp_string242, 0, _jsp_string242.length);
      out.print((detailno));
      out.write(_jsp_string243, 0, _jsp_string243.length);
      out.print((detailno));
      out.write(_jsp_string244, 0, _jsp_string244.length);
      out.print((detailno));
      out.write(_jsp_string58, 0, _jsp_string58.length);
      out.print((submitdtlid));
      out.write(_jsp_string245, 0, _jsp_string245.length);
      out.print((colCalItemStr1));
      out.write(_jsp_string240, 0, _jsp_string240.length);
      out.print((detailsum));
      out.write(_jsp_string246, 0, _jsp_string246.length);
      out.print((detailno));
      out.write(_jsp_string247, 0, _jsp_string247.length);
      	
					rscount02.execute("select browsermark  from sap_multiBrowser where mxformid='"+formid+"' and mxformname='"+tablename+"'");
	        			if(rscount02.next()){
		        			String browsermark=rscount02.getString("browsermark");
		        			
      out.write(_jsp_string248, 0, _jsp_string248.length);
      out.print((browsermark));
      out.write(_jsp_string249, 0, _jsp_string249.length);
      out.print((browsermark));
      out.write(_jsp_string250, 0, _jsp_string250.length);
      
	        			}else{
							out.println("alert(\""+SystemEnv.getHtmlLabelName(84117,user.getLanguage())+"\")");
						}
					
      out.write(_jsp_string251, 0, _jsp_string251.length);
      out.print((detailno));
      out.write(_jsp_string252, 0, _jsp_string252.length);
      
                    String deaddRowFilejsStr = "";
                try{
                    for (int i = 0; i < defieldids.size(); i++) {         // \u5faa\u73af\u5f00\u59cb





							deaddRowFilejsStr = "";
                    		
							 String preAdditionalValue = "";
							 boolean isSetFlag = false;

                        String fieldhtml = "";
                         defieldid = (String) defieldids.get(i);  //\u5b57\u6bb5id
                         //System.out.println("fieldid:"+defieldid);

                         isfieldidindex = isdefieldids.indexOf(defieldid) ;
                         if( isfieldidindex != -1 ) {
                      	   isdeview=(String)isdeviews.get(isfieldidindex);    //\u5b57\u6bb5\u662f\u5426\u663e\u793a
                      	   isdeedit=(String)isdeedits.get(isfieldidindex);    //\u5b57\u6bb5\u662f\u5426\u53ef\u4ee5\u7f16\u8f91
                      	   isdemand=(String)isdemands.get(isfieldidindex);    //\u5b57\u6bb5\u662f\u5426\u5fc5\u987b\u8f93\u5165
                         }

 						String trrigerdetailStr = "";
						if (trrigerdetailfield.indexOf("field"+defieldid)>=0){
							trrigerdetailStr = "datainputd(field" + defieldid + "_\"+rowindex+\")";
						}

                        if (!isdeview.equals("1")) continue;           //\u4e0d\u663e\u793a\u5373\u8fdb\u884c\u4e0b\u4e00\u6b65\u5faa\u73af






                        
								        //\u660e\u7ec6\u5b57\u6bb5\u5982\u679c\u6709\u8282\u70b9\u524d\u9644\u52a0\u64cd\u4f5c\uff0c\u53d6\u521d\u59cb\u503c myq 2008.12.9 start
												int inoperateindex=inoperatefields.indexOf(defieldid);
												if(inoperateindex>-1){
													isSetFlag = true;
													preAdditionalValue = (String)inoperatevalues.get(inoperateindex);
												}
												//\u660e\u7ec6\u5b57\u6bb5\u5982\u679c\u6709\u8282\u70b9\u524d\u9644\u52a0\u64cd\u4f5c\uff0c\u53d6\u521d\u59cb\u503c myq 2008.12.9 end

                         defieldname = "";                         //\u5b57\u6bb5\u6570\u636e\u5e93\u8868\u4e2d\u7684\u5b57\u6bb5\u540d






                         defieldhtmltype = "";                     //\u5b57\u6bb5\u7684\u9875\u9762\u7c7b\u578b






                        defieldtype = "";                         //\u5b57\u6bb5\u7684\u7c7b\u578b






                         defieldlable = "";                        //\u5b57\u6bb5\u663e\u793a\u540d






                        delanguageid = user.getLanguage();
                        defieldname = (String) defieldnames.get(i);
                        defieldhtmltype = (String) defieldhtmltypes.get(i);
                        defieldtype = (String) defieldtypes.get(i);
						defieldlable =(String)defieldlabels.get(i);
						fielddbtype=(String)fieldrealtype.get(i);
						
						qfws =Util.getIntValue((String)defieldqfws.get(i));
						
						deimgwidth = (String) deimgwidths.get(i);
                		deimgheight = (String) deimgheights.get(i);
                		             
						fieldlen=0;
						if ((fielddbtype.toLowerCase()).indexOf("varchar")>-1)
						{
						fieldlen=Util.getIntValue(fielddbtype.substring(fielddbtype.indexOf("(")+1,fielddbtype.length()-1));
									
						}
                        if (isdemand.equals("1"))
                          needcheck += ",field" + defieldid + "_\"+rowindex+\"";   //\u5982\u679c\u5fc5\u987b\u8f93\u5165,\u52a0\u5165\u5fc5\u987b\u8f93\u5165\u7684\u68c0\u67e5\u4e2d
					
                        // \u4e0b\u9762\u5f00\u59cb\u9010\u884c\u663e\u793a\u5b57\u6bb5

                        if (defieldhtmltype.equals("1")) {                          // \u5355\u884c\u6587\u672c\u6846






                            if (defieldtype.equals("1")) {                          // \u5355\u884c\u6587\u672c\u6846\u4e2d\u7684\u6587\u672c






                                if (isdeedit.equals("1")) {
                                    if (isdemand.equals("1")) {
                                        fieldhtml = "<input datatype='text' class=inputstyle value='"+preAdditionalValue+"' viewtype='"+isdemand+"' temptitle='"+defieldlable+"' type=text name='field" + defieldid + "_\"+rowindex+\"' size=15 onChange=\\\"checkinput3(field" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,this.viewtype);checkLength('field" + defieldid + "_\"+rowindex+\"','"+fieldlen+"','"+defieldlable+"','"+SystemEnv.getHtmlLabelName(20246,user.getLanguage())+"','"+SystemEnv.getHtmlLabelName(20247,user.getLanguage())+"');"+trrigerdetailStr+"\\\"><span id='field" + defieldid + "_\"+rowindex+\"span'>";
                                        if("".equals(preAdditionalValue)) fieldhtml += "<img src='/images/BacoError_wev8.gif' align=absmiddle>";
                                        fieldhtml += "</span>";
                                    } else {
                                        fieldhtml = "<input datatype='text' class=inputstyle value='"+preAdditionalValue+"' viewtype='"+isdemand+"' temptitle='"+defieldlable+"' onchange=\\\"checkinput3(field" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,this.viewtype);checkLength('field" + defieldid + "_\"+rowindex+\"','"+fieldlen+"','"+defieldlable+"','"+SystemEnv.getHtmlLabelName(20246,user.getLanguage())+"','"+SystemEnv.getHtmlLabelName(20247,user.getLanguage())+"');"+trrigerdetailStr+"\\\" type=text name='field" + defieldid + "_\"+rowindex+\"' value='' size=15><span id='field" + defieldid + "_\"+rowindex+\"span'></span>";
                                    }
                                    if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        fieldhtml += "<input type=hidden name=oldfieldview" + defieldid + "_\"+rowindex+\" value="+(Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0))+" />";
                                    }
                                } else {
                                    fieldhtml += "<span id='field" + defieldid + "_\"+rowindex+\"span'>"+preAdditionalValue+"</span><input class=inputstyle datatype='text' type=hidden value='"+preAdditionalValue+"' name='field" + defieldid + "_\"+rowindex+\"'>";
                                }
                            } else if (defieldtype.equals("2")) {              // \u5355\u884c\u6587\u672c\u6846\u4e2d\u7684\u6574\u578b






                                if (isdeedit.equals("1")) {
                                    if (isdemand.equals("1")) {
                                        fieldhtml = "<input datalength='0' datetype='int' datatype='int' value='"+preAdditionalValue+"' class=inputstyle viewtype='"+isdemand+"' temptitle='"+defieldlable+"' type=text name='field" + defieldid + "_\"+rowindex+\"' size=15 onKeyPress='ItemCount_KeyPress()' onChange=\\\"checkcount1(this);checkItemScale(this,'" + SystemEnv.getHtmlLabelName(31181,user.getLanguage()).replace("12","9") + "',-999999999,999999999);checkinput3(field" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,this.viewtype);calSum("+detailno+");"+trrigerdetailStr+"\\\"><span id='field" + defieldid + "_\"+rowindex+\"span'>";
                                        if("".equals(preAdditionalValue)) fieldhtml += "<img src='/images/BacoError_wev8.gif' align=absmiddle>";
                                        fieldhtml += "</span>";
                                    } else {
                                        fieldhtml = "<input datalength='0' datetype='int' datatype='int' class=inputstyle value='"+preAdditionalValue+"' viewtype='"+isdemand+"' temptitle='"+defieldlable+"' type=text name='field" + defieldid + "_\"+rowindex+\"' size=15 onKeyPress='ItemCount_KeyPress()' onChange=\\\"checkcount1(this);checkItemScale(this,'" + SystemEnv.getHtmlLabelName(31181,user.getLanguage()).replace("12","9") + "',-999999999,999999999);checkinput3(field" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,this.viewtype);calSum("+detailno+");"+trrigerdetailStr+"\\\"><span id='field" + defieldid + "_\"+rowindex+\"span'></span>";
                                    }
                                    if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        fieldhtml += "<input type=hidden name=oldfieldview" + defieldid + "_\"+rowindex+\" value="+(Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0))+" />";
                                    }
                                } else {
                                    fieldhtml += "<span id='field" + defieldid + "_\"+rowindex+\"span'>"+preAdditionalValue+"</span><input class=inputstyle   datalength='0' datetype='int' datatype='int' type=hidden value='"+preAdditionalValue+"' name='field" + defieldid + "_\"+rowindex+\"'>";
                                }
                            } else if (defieldtype.equals("3")||defieldtype.equals("5")) {                     // \u5355\u884c\u6587\u672c\u6846\u4e2d\u7684\u6d6e\u70b9\u578b
                            	int decimaldigits_t = 2;
                		    	if(defieldtype.equals("3")){
                		    		int digitsIndex = fielddbtype.indexOf(",");
                		        	if(digitsIndex > -1){
                		        		decimaldigits_t = Util.getIntValue(fielddbtype.substring(digitsIndex+1, fielddbtype.length()-1), 2);
                		        	}else{
                		        		decimaldigits_t = 2;
                		        	}
                		    	}
                		    	if(defieldtype.equals("5")){
									if(qfws == -1||qfws==0){
										 decimaldigits_t=2;
									}else{
										 decimaldigits_t=qfws;
									}
									     //QC178262 \u89c4\u907f\u6389\u5982\u679c\u6ca1\u6709\u8f93\u5165\u6570\u636e\u7684\u65f6\u5019\u62a5\u9519\u7684\u95ee\u9898
								   		 if(qfws==1 && defieldvalue.indexOf(".") > 0 && defieldvalue.length() >= (defieldvalue.indexOf(".") + qfws + 1)){
	                			    		 defieldvalue=defieldvalue.substring(0, (defieldvalue.indexOf(".")+qfws+1));
	         							}
							    	}
                		    	
                		    	preAdditionalValue = Util.toDecimalDigits(preAdditionalValue+"",decimaldigits_t);
                		    	//preAdditionalValue=Util.milfloatFormat(preAdditionalValue+"");
                		    	
                		    	String datavaluetype = "";
						    	if(defieldtype.equals("5")){
						    		datavaluetype += " datavaluetype='5'";
						    		
						    	}
						    	if(defieldtype.equals("3")||defieldtype.equals("5")){
						    		datavaluetype +="datalength='"+decimaldigits_t+"'";
						    	}
                                if (isdeedit.equals("1")) {
                                    if (isdemand.equals("1")) {
                                        fieldhtml = "<input class=inputstyle "+datavaluetype+" datetype='float' datatype='float' value='"+preAdditionalValue+"' viewtype='"+isdemand+"' temptitle='"+defieldlable+"' type=text name='field" + defieldid + "_\"+rowindex+\"' size=20 onKeyPress='ItemDecimal_KeyPress(this.name,15,"+decimaldigits_t+")' ";
                                        if(defieldtype.equals("5")) fieldhtml += " onfocus='changeToNormalFormat(this.name)' onblur='changeToThousands2(this.name,"+decimaldigits_t+")' ";
                                        fieldhtml += " onChange=\\\"checkFloat(this);checkinput3(field" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,this.viewtype);calSum("+detailno+");"+trrigerdetailStr+"\\\"><span id='field" + defieldid + "_\"+rowindex+\"span'>";
                                        if("".equals(preAdditionalValue)) fieldhtml += "<img src='/images/BacoError_wev8.gif' align=absmiddle>";
                                        fieldhtml += "</span>";
                                    } else {
                                        fieldhtml = "<input class=inputstyle "+datavaluetype+" datetype='float' datatype='float' value='"+preAdditionalValue+"' viewtype='"+isdemand+"' temptitle='"+defieldlable+"' type=text name='field" + defieldid + "_\"+rowindex+\"' size=20 onKeyPress='ItemDecimal_KeyPress(this.name,15,"+decimaldigits_t+")' ";
                                        if(defieldtype.equals("5")) fieldhtml += "  onblur='changeToThousands2(this.name,"+decimaldigits_t+")'  onfocus='changeToNormalFormat(this.name)'  ";
                                        fieldhtml += " onChange=\\\"checkFloat(this);checkinput3(field" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,this.viewtype);calSum("+detailno+");"+trrigerdetailStr+"\\\"><span id='field" + defieldid + "_\"+rowindex+\"span'></span>";
                                    }
                                    if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        fieldhtml += "<input type=hidden name=oldfieldview" + defieldid + "_\"+rowindex+\" value="+(Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0))+" />";
                                    }
                                } else {
                                    fieldhtml += "<span id='field" + defieldid + "_\"+rowindex+\"span'>"+preAdditionalValue+"</span><input class=inputstyle datatype='float' datetype='float' "+datavaluetype+"  type=hidden value='"+preAdditionalValue+"' name='field" + defieldid + "_\"+rowindex+\"'>";
                                }
                            }else if (defieldtype.equals("4")) {                     // \u5355\u884c\u6587\u672c\u6846\u4e2d\u7684\u91d1\u989d\u8f6c\u6362






								//add by liaodong for qc75759 in 2013-11-20 start 
								int decimaldigits_t = 2;
								if(defieldtype.equals("4")){
									int digitsIndex = fielddbtype.indexOf(",");
									if(digitsIndex > -1){
										decimaldigits_t = Util.getIntValue(fielddbtype.substring(digitsIndex+1, fielddbtype.length()-1), 2);
									}else{
										decimaldigits_t = 2;
									}
								}
		    	              //end
                                if (isdeedit.equals("1")) {
                                    if (isdemand.equals("1")) {//xwj for td3313 20051207 \u5fc5\u987b\u8f93\u5165\u65f6value\u6e05\u7a7a\u4ee5\u914d\u5408\u611f\u53f9\u53f7\u7684\u663e\u793a






                                        fieldhtml = "<input id='field_lable" + defieldid + "_\"+rowindex+\"' class=inputstyle temptitle='"+defieldlable+"' value='"+preAdditionalValue+"' datetype='float' datatype='float' type=text name='field_lable" + defieldid + "_\"+rowindex+\"' size=30 onKeyPress=\\\"ItemDecimal_KeyPress('field_lable" + defieldid + "_\"+rowindex+\"',15,"+decimaldigits_t+")\\\"  onfocus=\\\"getNumber('" + defieldid + "_\"+rowindex+\"')\\\" onBlur=\\\"checkFloat(this);numberToChinese('"+defieldid+"_\"+rowindex+\"');checkinput3(field_lable" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,field" + defieldid + "_\"+rowindex+\".getAttribute('viewtype'));calSum("+detailno+");"+trrigerdetailStr+"\\\">";
                                    } else {
                                        fieldhtml = "<input id='field_lable" + defieldid + "_\"+rowindex+\"' class=inputstyle value='"+preAdditionalValue+"' datetype='float' datatype='float' type=text name='field_lable" + defieldid + "_\"+rowindex+\"' size=30 onKeyPress=\\\"ItemDecimal_KeyPress('field_lable" + defieldid + "_\"+rowindex+\"',15,"+decimaldigits_t+")\\\"  onBlur=\\\"checkFloat(this);numberToChinese('"+defieldid+"_\"+rowindex+\"');checkinput3(field_lable" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,field" + defieldid + "_\"+rowindex+\".getAttribute('viewtype'));calSum("+detailno+");"+trrigerdetailStr+"\\\" onfocus=\\\"getNumber('" + defieldid + "_\"+rowindex+\"')\\\" >";
                                    }
									//add by liaodong for qc75759 in 2013-11-20 start  fieldtype='4' datalength='"+decimaldigits_t+"'
                                    fieldhtml += "<span id='field" + defieldid + "_\"+rowindex+\"span'>";
                                    if(isdemand.equals("1")&&"".equals(preAdditionalValue)) fieldhtml += "<img src='/images/BacoError_wev8.gif' align=absmiddle>";
                                    fieldhtml += "</span><input class=inputstyle datetype='float' datatype='float' fieldtype='4' datalength='"+decimaldigits_t+"' type=hidden viewtype='"+isdemand+"' temptitle='"+defieldlable+"' value='"+preAdditionalValue+"' name='field" + defieldid + "_\"+rowindex+\"'>";
                                    if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        fieldhtml += "<input type=hidden name=oldfieldview" + defieldid + "_\"+rowindex+\" value="+(Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0))+" />";
                                    }
                                } else {
									//add by liaodong for qc75759 in 2013-11-20 start  fieldtype='4' datalength='"+decimaldigits_t+"'
                                    fieldhtml += "<input id='field_lable" + defieldid + "_\"+rowindex+\"' class=inputstyle size=30 value='"+preAdditionalValue+"'  datetype='float' datatype='float' type=text  disabled='true' name='field_lable" + defieldid + "_\"+rowindex+\"'>";
                                    fieldhtml += "&nbsp;<span id='field" + defieldid + "_\"+rowindex+\"span'></span><input class=inputstyle datetype='float' datatype='float' type=hidden value='"+preAdditionalValue+"' fieldtype='4' datalength='"+decimaldigits_t+"' name='field" + defieldid + "_\"+rowindex+\"'>";
                                }
                            }
                        }                                                       // \u5355\u884c\u6587\u672c\u6846\u6761\u4ef6\u7ed3\u675f






                        else if (defieldhtmltype.equals("2")) {                     // \u591a\u884c\u6587\u672c\u6846






                        	if(isbill.equals("0")){
                                rs_count.executeSql("select * from workflow_formdictdetail where id = " + defieldid);
                                if(rs_count.next()){
                                 textheight1 = rs_count.getString("textheight");//td3421 xwj 2005-12-31
                                }
                                }else{
                                	rs_count.executeSql("select * from workflow_billfield where viewtype=1 and id = " + defieldid+" and billid="+formid);
                        			if(rs_count.next()){
                        				textheight1 = ""+Util.getIntValue(rs_count.getString("textheight"), 4);
                        			}
                        		}
                            if (isdeedit.equals("1")) {
                                if (isdemand.equals("1")) {
                                    fieldhtml = "<textarea class=inputstyle value='"+preAdditionalValue+"' viewtype='"+isdemand+"' temptitle='"+defieldlable+"' name='field" + defieldid + "_\"+rowindex+\"' onChange=\\\"checkinput3(field" +defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,this.viewtype);checkLengthfortext('field" + defieldid + "_\"+rowindex+\"','"+fieldlen+"','"+defieldlable+"','"+SystemEnv.getHtmlLabelName(20246,user.getLanguage())+"','"+SystemEnv.getHtmlLabelName(20247,user.getLanguage())+"')\\\" rows='"+textheight1+"' cols='150' style='width:80%'></textarea><span id='field" + defieldid + "_\"+rowindex+\"span'>";
                                    if("".equals(preAdditionalValue)) fieldhtml += "<img src='/images/BacoError_wev8.gif' align=absmiddle>";
                                    fieldhtml += "</span>";
                                } else {
                                    fieldhtml = "<textarea class=inputstyle value='"+preAdditionalValue+"' viewtype='"+isdemand+"' temptitle='"+defieldlable+"' onchange=\\\"checkinput3(field" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,this.viewtype);checkLengthfortext('field" + defieldid + "_\"+rowindex+\"','"+fieldlen+"','"+defieldlable+"','"+SystemEnv.getHtmlLabelName(20246,user.getLanguage())+"','"+SystemEnv.getHtmlLabelName(20247,user.getLanguage())+"')\\\" name='field" + defieldid + "_\"+rowindex+\"' rows='"+textheight1+"' cols='150' style='width:80%'></textarea><span id='field" + defieldid + "_\"+rowindex+\"span'></span>";
                                }
                                if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        fieldhtml += "<input type=hidden name=oldfieldview" + defieldid + "_\"+rowindex+\" value="+(Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0))+" />";
                                    }
                            } else {
                                fieldhtml += "<span id='field" + defieldid + "_\"+rowindex+\"span'>"+preAdditionalValue+"</span><input class=inputstyle type=hidden value='"+preAdditionalValue+"' name='field" + defieldid + "_\"+rowindex+\"'>";
                            }
                        }                                                           // \u591a\u884c\u6587\u672c\u6846\u6761\u4ef6\u7ed3\u675f






                        else if (defieldhtmltype.equals("3")) {                         // \u6d4f\u89c8\u6309\u94ae (\u6d89\u53caworkflow_broswerurl\u8868)
                            String url = BrowserComInfo2.getBrowserurl(defieldtype);     // \u6d4f\u89c8\u6309\u94ae\u5f39\u51fa\u9875\u9762\u7684url
                            String linkurl = BrowserComInfo2.getLinkurl(defieldtype);    //
                            String showname = "";                                   // \u65b0\u5efa\u65f6\u5019\u9ed8\u8ba4\u503c\u663e\u793a\u7684\u540d\u79f0
                            String showid = "";                                     // \u65b0\u5efa\u65f6\u5019\u9ed8\u8ba4\u503c








							if ((defieldtype.equals("8") || defieldtype.equals("135")) && !prjid.equals("")) {       //\u6d4f\u89c8\u6309\u94ae\u4e3a\u9879\u76ee,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u9879\u76ee\u9ed8\u8ba4\u503c






									showid = "" + Util.getIntValue(prjid, 0);
								} else if ((defieldtype.equals("9") || defieldtype.equals("37")) && !docid.equals("")) { //\u6d4f\u89c8\u6309\u94ae\u4e3a\u6587\u6863,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u6587\u6863\u9ed8\u8ba4\u503c






									showid = "" + Util.getIntValue(docid, 0);
								} else if ((defieldtype.equals("1") || defieldtype.equals("17") || defieldtype.equals("165") || defieldtype.equals("166")) && !hrmid.equals("") && body_isagent !=1) { //\u6d4f\u89c8\u6309\u94ae\u4e3a\u4eba,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u4eba\u9ed8\u8ba4\u503c






									showid = "" + Util.getIntValue(hrmid, 0);
								}else if ((defieldtype.equals("1") || defieldtype.equals("17") || defieldtype.equals("165") || defieldtype.equals("166")) && !hrmid.equals("") && body_isagent ==1) { //\u4ee3\u7406\uff0c\u6d4f\u89c8\u6309\u94ae\u4e3a\u4eba,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u4eba\u9ed8\u8ba4\u503c






									showid = "" + Util.getIntValue(beagenter, 0);
								} else if ((defieldtype.equals("7") || defieldtype.equals("18")) && !crmid.equals("")) { //\u6d4f\u89c8\u6309\u94ae\u4e3aCRM,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97CRM\u9ed8\u8ba4\u503c






									showid = "" + Util.getIntValue(crmid, 0);
								} else if ((defieldtype.equals("4") || defieldtype.equals("57") || defieldtype.equals("167") || defieldtype.equals("168")) && !hrmid.equals("") && body_isagent !=1) { //\u6d4f\u89c8\u6309\u94ae\u4e3a\u90e8\u95e8,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u4eba\u9ed8\u8ba4\u503c(\u7531\u4eba\u529b\u8d44\u6e90\u7684\u90e8\u95e8\u5f97\u5230\u90e8\u95e8\u9ed8\u8ba4\u503c)
									showid = "" + Util.getIntValue(ResourceComInfo2.getDepartmentID(hrmid), 0);
								} else if ((defieldtype.equals("4") || defieldtype.equals("57") || defieldtype.equals("167") || defieldtype.equals("168")) && !hrmid.equals("") && body_isagent ==1) { //\u4ee3\u7406\uff0c\u6d4f\u89c8\u6309\u94ae\u4e3a\u90e8\u95e8,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u4eba\u9ed8\u8ba4\u503c(\u7531\u4eba\u529b\u8d44\u6e90\u7684\u90e8\u95e8\u5f97\u5230\u90e8\u95e8\u9ed8\u8ba4\u503c)
									showid = "" + Util.getIntValue(ResourceComInfo2.getDepartmentID(beagenter), 0);
								}else if ((defieldtype.equals("24")||defieldtype.equals("278")) && !hrmid.equals("")&& body_isagent !=1) { //\u6d4f\u89c8\u6309\u94ae\u4e3a\u804c\u52a1,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u4eba\u9ed8\u8ba4\u503c(\u7531\u4eba\u529b\u8d44\u6e90\u7684\u804c\u52a1\u5f97\u5230\u804c\u52a1\u9ed8\u8ba4\u503c)
									showid = "" + Util.getIntValue(ResourceComInfo2.getJobTitle(hrmid), 0);
                                }else if ((defieldtype.equals("24")||defieldtype.equals("278")) && !hrmid.equals("")&& body_isagent ==1) { //\u4ee3\u7406\uff0c\u6d4f\u89c8\u6309\u94ae\u4e3a\u804c\u52a1,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u4eba\u9ed8\u8ba4\u503c(\u7531\u4eba\u529b\u8d44\u6e90\u7684\u804c\u52a1\u5f97\u5230\u804c\u52a1\u9ed8\u8ba4\u503c)
                                    showid = "" + Util.getIntValue(ResourceComInfo2.getJobTitle(beagenter), 0);
								} else if (defieldtype.equals("32") && !hrmid.equals("")) { //\u6d4f\u89c8\u6309\u94ae\u4e3a\u804c\u52a1,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u4eba\u9ed8\u8ba4\u503c(\u7531\u4eba\u529b\u8d44\u6e90\u7684\u804c\u52a1\u5f97\u5230\u804c\u52a1\u9ed8\u8ba4\u503c)
									showid = "" + Util.getIntValue(request.getParameter("TrainPlanId"), 0);
								} else if((defieldtype.equals("164") || defieldtype.equals("169") || defieldtype.equals("170") || defieldtype.equals("194")) && !hrmid.equals("") && body_isagent!=1){ //\u6d4f\u89c8\u6309\u94ae\u4e3a\u5206\u90e8,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u4eba\u9ed8\u8ba4\u503c(\u7531\u4eba\u529b\u8d44\u6e90\u7684\u5206\u90e8\u5f97\u5230\u5206\u90e8\u9ed8\u8ba4\u503c)
									showid = "" + Util.getIntValue(ResourceComInfo2.getSubCompanyID(hrmid),0);
								}else if((defieldtype.equals("164") || defieldtype.equals("169") || defieldtype.equals("170") || defieldtype.equals("194")) && !hrmid.equals("") && body_isagent==1){ //\u4ee3\u7406\uff0c\u6d4f\u89c8\u6309\u94ae\u4e3a\u5206\u90e8,\u4ece\u524d\u9762\u7684\u53c2\u6570\u4e2d\u83b7\u5f97\u4eba\u9ed8\u8ba4\u503c(\u7531\u4eba\u529b\u8d44\u6e90\u7684\u5206\u90e8\u5f97\u5230\u5206\u90e8\u9ed8\u8ba4\u503c)
									showid = "" + Util.getIntValue(ResourceComInfo2.getSubCompanyID(beagenter),0);
								}

								if (showid.equals("0")) showid = "";
					            if(isSetFlag){
	                          showid = preAdditionalValue;
	                      }
			            if(defieldtype.equals("178")){ 
			                 if(!isSetFlag){
			                    showname = currentyear;
			                    showid = currentyear;
			                }else{
			                    showname=preAdditionalValue;
			                    showid=preAdditionalValue;
			                }
			            }
							if (!showid.equals("")) {       // \u83b7\u5f97\u9ed8\u8ba4\u503c\u5bf9\u5e94\u7684\u9ed8\u8ba4\u663e\u793a\u503c,\u6bd4\u5982\u4ece\u90e8\u95e8id\u83b7\u5f97\u90e8\u95e8\u540d\u79f0
							    ArrayList tempshowidlist=Util.TokenizerString(showid,",");
                                 if(defieldtype.equals("1") ||defieldtype.equals("17")||defieldtype.equals("165")||defieldtype.equals("166")){
                                     //\u4eba\u5458\uff0c\u591a\u4eba\u5458
                                     for(int k=0;k<tempshowidlist.size();k++){
                                         if(!linkurl.equals("")){
                                         	if("/hrm/resource/HrmResource.jsp?id=".equals(linkurl))
                                           	{
                                         		showname+="<a href='javaScript:openhrm("+tempshowidlist.get(k)+");' onclick='pointerXY(event);'>"+ResourceComInfo2.getResourcename((String)tempshowidlist.get(k))+"</a>&nbsp";
                                           	}
                                         	else
                                             showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"'>"+ResourceComInfo2.getResourcename((String)tempshowidlist.get(k))+"</a>&nbsp";
                                         }else{
                                         showname+=ResourceComInfo2.getResourcename((String)tempshowidlist.get(k))+" ";
                                         }
                                     }
                                 }else if(defieldtype.equals("7") || defieldtype.equals("18")){
                                     //\u5ba2\u6237\uff0c\u591a\u5ba2\u6237
                                     for(int k=0;k<tempshowidlist.size();k++){
                                         if(!linkurl.equals("")){
                                             showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"'>"+CustomerInfoComInfo2.getCustomerInfoname((String)tempshowidlist.get(k))+"</a>&nbsp";
                                         }else{
                                         showname+=CustomerInfoComInfo2.getCustomerInfoname((String)tempshowidlist.get(k))+" ";
                                         }
                                     }
                                 }else if(defieldtype.equals("4") || defieldtype.equals("57")){
                                     //\u90e8\u95e8\uff0c\u591a\u90e8\u95e8
                                     for(int k=0;k<tempshowidlist.size();k++){
                                    	 String showdeptname = "";
                 						 String showdeptid = (String) tempshowidlist.get(k);
                 						 if(!"".equals(showdeptid)){
                 							if(Integer.parseInt(showdeptid) < -1){
                 								showdeptname = deptVirComInfo2.getDepartmentname(showdeptid);
                 								
                 							}else{
                 								showdeptname = DepartmentComInfo2.getDepartmentname(showdeptid);
                 							}
                 						 }
                                         if(!linkurl.equals("")){
                                             showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"'>"+showdeptname+"</a>&nbsp";
                                         }else{
                                         	showname+=showdeptname+" ";
                                         }
                                     }
                                 }else if(defieldtype.equals("164") || defieldtype.equals("194")){
	                  			  //\u5206\u90e8\u3001\u591a\u5206\u90e8
			                   		for(int k=0;k<tempshowidlist.size();k++){
			                   			String showsubcompname = "";
			    						String showsubcompid = (String) tempshowidlist.get(k);
			    						if(!"".equals(showsubcompid)){
			    							if(Integer.parseInt(showsubcompid) < -1){
			    								showsubcompname = subCompVirComInfo2.getSubCompanyname(showsubcompid);
			    							}else{
			    								showsubcompname = SubCompanyComInfo2.getSubCompanyname(showsubcompid);
			    							}
			    						}
				                        if(!linkurl.equals("")){
				                            showname+="<a href='"+linkurl+tempshowidlist.get(k)+"&f_weaver_belongto_userid="+userid+"&f_weaver_belongto_usertype="+usertype+"'>"+showsubcompname+"</a>&nbsp";
				                        }else{
				                        	showname+=showsubcompname+" ";
				                        }
		                   		 	}
	              		  		}else if(defieldtype.equals("224") || defieldtype.equals("225")||defieldtype.equals("226") || defieldtype.equals("227")){
                                               //zzl\u8d4b\u4e88\u9ed8\u8ba4\u503c






                                        	showname=preAdditionalValue;
                                      }
                                      else{
                                          String tablename2 =  Util.null2String(BrowserComInfo2.getBrowsertablename(defieldtype));
                                          String columname =  Util.null2String(BrowserComInfo2.getBrowsercolumname(defieldtype));
                                          String keycolumname =  Util.null2String(BrowserComInfo2.getBrowserkeycolumname(defieldtype));
                                           //sql = "select " + columname + " from " + tablename2 + " where " + keycolumname + "=" + showid;
                                          if(!tablename2.equals("")&&!columname.equals("")&&!keycolumname.equals("")){
                                              sql = "select " + columname + " from " + tablename2 + " where " + keycolumname + "=" + showid;

                                          RecordSet.executeSql(sql);
                                          if (RecordSet.next()) {
                                               if(defieldtype.equals("263")){
												    showname = RecordSet.getString(1);
											  }else{
												    if (!linkurl.equals(""))
                                                  showname = "<a href='" + linkurl + showid + "'>" + RecordSet.getString(1) + "</a>&nbsp";
                                                else
                                                  showname = RecordSet.getString(1);
											  }
                                          }
                                          }
                                       }
									}
								if (defieldtype.equals("2")) {                              // \u6d4f\u89c8\u6309\u94ae\u4e3a\u65e5\u671f






										//showname = currentdate;
										//showid = currentdate;
					                if(!isSetFlag){
					                    showname = currentdate;
					                    showid = currentdate;
					                }else{
					                    showname=preAdditionalValue;
					                    showid=preAdditionalValue;
					                }
									}
								if (defieldtype.equals("19")) {                              // \u6d4f\u89c8\u6309\u94ae\u4e3a\u65f6\u95f4






									if(!isSetFlag){
										showname = currenttime.substring(0,5);
										showid = currenttime.substring(0,5);
									}else{
										showname=preAdditionalValue;
										showid=preAdditionalValue;
									}
									}
			            	if (defieldtype.equals("161")||defieldtype.equals("162")) {                              //\u81ea\u5b9a\u4e49\u6d4f\u89c8\u6846
                                url+="?type="+fielddbtype;
                                showname = "";                                   // \u65b0\u5efa\u65f6\u5019\u9ed8\u8ba4\u503c\u663e\u793a\u7684\u540d\u79f0
								try{
						            Browser browser=(Browser)StaticObj.getServiceByFullname(fielddbtype, Browser.class);
									List l=Util.TokenizerString(preAdditionalValue,",");
						            for(int j=0;j<l.size();j++){
									    String curid=(String)l.get(j);
									    curid = curid.replace("&#039;","'").replace("&quot;", "\"");
							            BrowserBean bb=browser.searchById(curid);
										String name=Util.null2String(bb.getName());
										String desc=Util.null2String(bb.getDescription());
			                            String href=Util.null2String(bb.getHref());
			                            if(href.equals("")){
			                            	showname+="<a title='"+desc+"'>"+name+"</a>&nbsp";
			                            }else{
			                            	showname+="<a title='"+desc+"' href='"+href+"' target='_blank'>"+name+"</a>&nbsp";
			                            }
									}
								}catch(Exception e){
								}
								
								showid = preAdditionalValue;
			                }
			            	if (defieldtype.equals("256")||defieldtype.equals("257")) {                              //\u81ea\u5b9a\u4e49\u6d4f\u89c8\u6846
                                url+="?type="+fielddbtype+"_"+defieldtype;
								CustomTreeUtil customTreeUtil = new CustomTreeUtil();
								showid = preAdditionalValue;
								showname = customTreeUtil.getTreeFieldShowName(preAdditionalValue,fielddbtype);
                			}
							
							if (defieldtype.equals("224")||defieldtype.equals("225")||defieldtype.equals("226")||defieldtype.equals("227")) {                            
									  //zzl
		                              url+="?type="+fielddbtype+"|"+defieldid;	
								
			                }
							
							
                            if (isdeedit.equals("1")) {
                            	try {
		      				         showname = showname.replaceAll("</a>&nbsp", "</a>,");      				        
		      				         if (showname.lastIndexOf("</a>,") != -1 && showname.lastIndexOf("</a>,") == showname.length() - 5) {
		      				           	 showname = showname.substring(0, showname.length()-1);
		      				         }
		      				    } catch (Exception e) {
		      				        e.printStackTrace();
		      				    }
                                
      out.write(_jsp_string253, 0, _jsp_string253.length);
      out.print((showid ));
      out.write(_jsp_string254, 0, _jsp_string254.length);
      out.print((Util.toScreen(showname, user.getLanguage()) ));
      out.write(_jsp_string255, 0, _jsp_string255.length);
      
                                if (!defieldtype.equals("37")) {    //  \u591a\u6587\u6863\u7279\u6b8a\u5904\u7406






                                     if (trrigerdetailfield.indexOf("field"+defieldid)>=0){
					                     //fieldhtml = "<BUTTON id='field" + defieldid + "_\"+rowindex+\"browser' name='field" + defieldid + "_\"+rowindex+\"browser' type=button  class=Browser onclick=\\\"onShowBrowser2('" + defieldid + "_\"+rowindex+\"','" + url + "','" + linkurl + "','" +defieldtype + "',field" + defieldid + "_\"+rowindex+\".getAttribute('viewtype'));datainputd('field" + defieldid + "_\"+rowindex+\"')\\\" title='" + SystemEnv.getHtmlLabelName(172, user.getLanguage()) + "'></button>";
					                     
      out.write(_jsp_string256, 0, _jsp_string256.length);
      out.print((defieldid  ));
      out.write(_jsp_string257, 0, _jsp_string257.length);
      out.print((url));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((linkurl));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((defieldtype));
      out.write(_jsp_string139, 0, _jsp_string139.length);
      out.print((defieldid  ));
      out.write(_jsp_string258, 0, _jsp_string258.length);
      out.print((defieldid  ));
      out.write(_jsp_string259, 0, _jsp_string259.length);
      
									 }else{
									     if(defieldtype.equals("2") || defieldtype.equals("19")){
									  		 fieldhtml = "<BUTTON  id='field" + defieldid + "_\"+rowindex+\"browser' name='field" + defieldid + "_\"+rowindex+\"browser' type=button  class=Browser onclick=\\\"onShowBrowser2('" + defieldid + "_\"+rowindex+\"','" + url + "','" + linkurl + "','" +defieldtype + "',field" + defieldid + "_\"+rowindex+\".getAttribute('viewtype'))\\\" title='" + SystemEnv.getHtmlLabelName(172, user.getLanguage()) + "'></button>";
									     } else {
										
      out.write(_jsp_string260, 0, _jsp_string260.length);
      out.print((defieldid  ));
      out.write(_jsp_string257, 0, _jsp_string257.length);
      out.print((url ));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((linkurl ));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((defieldtype));
      out.write(_jsp_string139, 0, _jsp_string139.length);
      out.print((defieldid  ));
      out.write(_jsp_string261, 0, _jsp_string261.length);
      
									     }
									 }
                                } else {                         // \u5982\u679c\u662f\u591a\u6587\u6863\u5b57\u6bb5,\u52a0\u5165\u65b0\u5efa\u6587\u6863\u6309\u94ae
                                	//fieldhtml = "<BUTTON id='field" + defieldid + "_\"+rowindex+\"browser' name='field" + defieldid + "_\"+rowindex+\"browser' type=button  class=AddDocFlow onclick=\\\"onShowBrowser2('" + defieldid + "_\"+rowindex+\"','" + url + "','" + linkurl + "','" + defieldtype + "',field" + defieldid + "_\"+rowindex+\".getAttribute('viewtype'))\\\">" + SystemEnv.getHtmlLabelName(611, user.getLanguage()) + "</button>&nbsp;&nbsp<BUTTON type=button  class=AddDocFlow onclick=\\\"onNewDoc('" + defieldid + "_\"+rowindex+\"')\\\" title='" + SystemEnv.getHtmlLabelName(82, user.getLanguage()) + "'>" + SystemEnv.getHtmlLabelName(82, user.getLanguage()) + "</button>";
                                	//fieldhtml = "<button type=button  class=AddDocFlow onclick=\\\"onNewDoc('" + defieldid + "_\"+rowindex+\"')\\\" title='" + SystemEnv.getHtmlLabelName(82, user.getLanguage()) + "'>" + SystemEnv.getHtmlLabelName(82, user.getLanguage()) + "</button>";
                                	
      out.write(_jsp_string262, 0, _jsp_string262.length);
      out.print((defieldid ));
      out.write(_jsp_string263, 0, _jsp_string263.length);
      out.print((defieldid  ));
      out.write(_jsp_string257, 0, _jsp_string257.length);
      out.print((url));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((linkurl));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((defieldtype));
      out.write(_jsp_string139, 0, _jsp_string139.length);
      out.print((defieldid  ));
      out.write(_jsp_string264, 0, _jsp_string264.length);
      
                                }
				                if(!defieldtype.equals("2") && !defieldtype.equals("19")){
				                	fieldhtml = "<span id=\\\"field" + defieldid + "_\"+rowindex+\"wrapspan\\\"></span>";
									if(defieldtype.equals("58")){    //\u57ce\u5e02
										String areaMustInput = isdemand.equals("1") ? "2" : "1";
										String areaselectName = "field" + defieldid + "_\"+rowindex+\"";
										fieldhtml =  " <div areaType=city areaName='"+areaselectName+"' areaValue='" + showid + "'   areaSpanValue='" + Util.formatMultiLang(showname) + "'  areaMustInput='" + areaMustInput + "'  areaCallback='browAreaSelectCallback'  class='_areaselect' id='_areaselect_field" + defieldid + "_\"+rowindex+\"'></div>";
								   }
								   if(defieldtype.equals("263")){   //\u533a\u53bf
										 String areaMustInput = isdemand.equals("1") ? "2" : "1";
										 String areaselectName = "field" + defieldid + "_\"+rowindex+\"";
										 fieldhtml =  " <div areaType=citytwo areaName='"+areaselectName+"' areaValue='" + showid + "'   areaSpanValue='" + Util.formatMultiLang(showname) + "'  areaMustInput='" + areaMustInput + "'  areaCallback='browAreaSelectCallback'  class='_areaselect' id='_areaselect_field" + defieldid + "_\"+rowindex+\"'></div>";
								   }
				                }
                            } else if(!defieldtype.equals("2") && !defieldtype.equals("19")){
                            	fieldhtml = "<span id=\\\"field" + defieldid + "_\"+rowindex+\"span\\\">"+showname+"</span>";
                            }
                            fieldhtml += "<input type=hidden viewtype='"+isdemand+"' temptitle='"+defieldlable+"' name='field" + defieldid + "_\"+rowindex+\"' id='field" + defieldid + "_\"+rowindex+\"' value='" + showid + "'";
                            if(trrigerdetailfield.indexOf("field"+defieldid)>=0){
                            	fieldhtml += " onpropertychange=\\\"datainputd('field" + defieldid + "_\"+rowindex+\"');\\\" ";
                            }
                            fieldhtml += ">";
                            if(defieldtype.equals("2") || defieldtype.equals("19")){
	                            fieldhtml += "<span id='field" + defieldid + "_\"+rowindex+\"span'>" + Util.toScreen(showname, user.getLanguage());
	                            if (isdemand.equals("1") && showname.equals("")) {
	                                fieldhtml += "<img src='/images/BacoError_wev8.gif' align=absmiddle>";
	                            }
	                            fieldhtml += "</span>";
                            }
                            if(defieldtype.equals("87")||defieldtype.equals("184")){
                                fieldhtml += "&nbsp;&nbsp;<A href='/meeting/report/MeetingRoomPlan.jsp' target='blank'>"+SystemEnv.getHtmlLabelName(2193,user.getLanguage())+"</A>";
                            }
                            if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        fieldhtml += "<input type=hidden name=oldfieldview" + defieldid + "_\"+rowindex+\" id=oldfieldview" + defieldid + "_\"+rowindex+\" value="+(Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0))+" />";
                                    }
                        }                                                       // \u6d4f\u89c8\u6309\u94ae\u6761\u4ef6\u7ed3\u675f
                        else if (defieldhtmltype.equals("4")) {                    // check\u6846






                            fieldhtml += "<input class=inputstyle viewtype='"+isdemand+"' type=checkbox value=1 ";
							if("1".equals(preAdditionalValue)) fieldhtml += " checked ";
                            if(isdeedit.equals("0"))	fieldhtml += " DISABLED ";
                            fieldhtml += " name='field" + defieldid + "_\"+rowindex+\"'>";
                            if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                fieldhtml += "<input type=hidden name=oldfieldview" + defieldid + "_\"+rowindex+\" value="+(Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0))+" />";
                            }
                        }                                                       // check\u6846\u6761\u4ef6\u7ed3\u675f






                        else if (defieldhtmltype.equals("5")) {                     // \u9009\u62e9\u6846   select
                        	//\u5904\u7406select\u5b57\u6bb5\u8054\u52a8
                         	String onchangeAddStr = "";
                        	int childfieldid_tmp = Util.getIntValue((String)childfieldids.get(i), 0);
                        	if(childfieldid_tmp != 0){
                        		onchangeAddStr = ";changeChildFieldDetail(this,"+defieldid+","+childfieldid_tmp+",\"+rowindex+\")";
                        	}
                        	boolean hasPfield = false;
                        	int firstPfieldid_tmp = 0;
                        	if(childfieldids.contains(defieldid)){
                        		firstPfieldid_tmp = Util.getIntValue((String)defieldids.get(childfieldids.indexOf(defieldid)), 0);
                        		hasPfield = true;
                        	}
                            fieldhtml = "<select  notBeauty=true class=inputstyle viewtype='"+isdemand+"' temptitle='"+defieldlable+"' ";
                            if(seldefieldsdemanage.indexOf(defieldid)>=0){
                             fieldhtml += " onChange=checkinput3(field" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,this.viewtype);changeshowattr('"+defieldid+"_1',this.value,\"+rowindex+\","+workflowid+","+nodeid+");" + trrigerdetailStr+onchangeAddStr+" ";
                            }else{
                            fieldhtml += " onChange=checkinput3(field" + defieldid + "_\"+rowindex+\",field" + defieldid + "_\"+rowindex+\"span,this.viewtype);" + trrigerdetailStr+onchangeAddStr+" ";
                            }
                            if (isdeedit.equals("0")){
                                fieldhtml += " name='disfield" + defieldid + "_\"+rowindex+\"' id='disfield" + defieldid + "_\"+rowindex+\"' DISABLED " ;
                            }else{
                                fieldhtml += " name='field" + defieldid + "_\"+rowindex+\"' id='field" + defieldid + "_\"+rowindex+\"'" ;
                            }
                            fieldhtml += ">";
                            fieldhtml += "<option value=''></option>";
                            // \u67e5\u8be2\u9009\u62e9\u6846\u7684\u6240\u6709\u53ef\u4ee5\u9009\u62e9\u7684\u503c






                            RecordSet selrs=new RecordSet();
                            boolean checkemptydetail1 = true;
                            if(hasPfield==false || isdeedit.equals("0")){
                            	selrs.executeProc("workflow_SelectItemSelectByid", "" + defieldid + flag + isbill);
                            	while (selrs.next()) {
                            	    
                            	    if(!isdeedit.equals("0")){
                                        int sltitemCancel = Util.getIntValue(selrs.getString("cancel"), 0);
                                        if (sltitemCancel == 1) {
                                           continue;
                                         }
                                    }
                            	    
								                String tmpselectvalue = Util.null2String(selrs.getString("selectvalue"));
								                String tmpselectname = Util.toScreen(selrs.getString("selectname"), user.getLanguage());
								                 /* -------- xwj for td2977 20051107 begin ----*/
								                String isdefault = Util.toScreen(selrs.getString("isdefault"),user.getLanguage());
								                if("".equals(preAdditionalValue)){
									                if("y".equals(isdefault)){
										                checkemptydetail1 = false;
										                fieldhtml += "<option value='" + tmpselectvalue + "' selected>" + tmpselectname + "</option>";
										              }else{
										              	 fieldhtml += "<option value='" + tmpselectvalue + "'>" + tmpselectname + "</option>";
										              }
								                }
								                else{
								                	checkemptydetail1 = false;
										              fieldhtml += "<option value='" + tmpselectvalue + "'";
								                	if(tmpselectvalue.equals(preAdditionalValue)) fieldhtml += "selected";
								                	fieldhtml += ">" + tmpselectname + "</option>";
								                }
								                /* -------- xwj for td2977 20051107 end ----*/
								            }
                            }else{
                            	selectDetailInitJsStrAdd += "doInitDetailchildSelectAdd("+defieldid+","+firstPfieldid_tmp+",rowindex,\"\");";
                            	initDetailIframeStrAdd += "<iframe id=\"iframe_"+firstPfieldid_tmp+"_"+defieldid+"\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\"></iframe>";
                            }
                            fieldhtml += "</select><span id='field" + defieldid + "_\"+rowindex+\"span'>";
								            if("1".equals(isdemand) && checkemptydetail1){
								            fieldhtml +="<img src='/images/BacoError_wev8.gif' align=absmiddle>";
								            }
								            fieldhtml += "</span>";
								            if (isdeedit.equals("0")){
								            fieldhtml += "<input type=hidden name='field" + defieldid + "_\"+rowindex+\"' value='" + preAdditionalValue + "'>";
								            }
                            if(changedefieldsdemanage.indexOf(defieldid)>=0){
                                        fieldhtml += "<input type=hidden name=oldfieldview" + defieldid + "_\"+rowindex+\" value="+(Util.getIntValue(isdeview,0)+Util.getIntValue(isdeedit,0)+Util.getIntValue(isdemand,0))+" />";
                                    }
                        }                                          // \u9009\u62e9\u6846\u6761\u4ef6\u7ed3\u675f \u6240\u6709\u6761\u4ef6\u5224\u5b9a\u7ed3\u675f




                        
                         //*********************************************************************************begin
						           else if (defieldhtmltype.equals("6")) {
										if(isdeview.equals("1")){
											//System.out.println("===============defieldid:"+defieldid+"  defieldname:"+defieldname+"  defieldtype:"+defieldtype+"  defieldlable:"+defieldlable+"  defieldvalue:"+defieldvalue+"  isdeedit:"+isdeedit+"  isdemand:"+isdemand);
											otherPara_hs.put("fieldimgwidth" + defieldid, "" + deimgwidth);
											otherPara_hs.put("fieldimgheight" + defieldid, "" + deimgheight);
											otherPara_hs.put("derecorderindex", "\"+rowindex+\"");
											//otherPara_hs.put("derecorderindex", ""+derecorderindex);
											otherPara_hs.put("trrigerdetailfield", trrigerdetailfield);
			  
											
											int defieldlength = 0;
											int degroupid = 0;
											HtmlElement htmlelement = new FileElement();
											Hashtable ret_hs = htmlelement.getHtmlElementString(Util.getIntValue(defieldid,0), defieldname, Util.getIntValue(defieldtype,0), defieldlable, defieldlength, 1, degroupid, "", 0, 1, Util.getIntValue(isdeedit,0), Util.getIntValue(isdemand,0), user, otherPara_hs);
											String deinputStr= Util.null2String((String) ret_hs.get("inputStr"));
										  
											String dejsStr = Util.null2String((String) ret_hs.get("jsStr"));
											deaddRowFilejsStr = Util.null2String((String) ret_hs.get("addRowjsStr"))+"\n";
										   
										   
											fieldhtml += deinputStr+"  ";
										}
						           }
		
		
		
		
		
		//*********************************************************************************end


                
      out.write(_jsp_string265, 0, _jsp_string265.length);
      out.print((fieldhtml));
      out.write(_jsp_string266, 0, _jsp_string266.length);
      out.print((deaddRowFilejsStr));
      out.write(_jsp_string267, 0, _jsp_string267.length);
      
				         if (defieldhtmltype.equals("3") && isdeedit.equals("1")) {  
				             if(!defieldtype.equals("2") && !defieldtype.equals("19")){
				             String hasInputStr = "true";
            				 //if(defieldtype.equals("256")||defieldtype.equals("257")){
            				//	 hasInputStr = "false";
            				 //}
							 if(defieldtype.equals("58")||defieldtype.equals("263")){
								 
      out.write(_jsp_string268, 0, _jsp_string268.length);
      out.print((defieldid ));
      out.write(_jsp_string269, 0, _jsp_string269.length);
      	   
							 }
				         
      out.write(_jsp_string270, 0, _jsp_string270.length);
      out.print((defieldid ));
      out.write(_jsp_string271, 0, _jsp_string271.length);
      out.print((defieldid ));
      out.write(_jsp_string272, 0, _jsp_string272.length);
      out.print((hasInputStr));
      out.write(_jsp_string273, 0, _jsp_string273.length);
      out.print((defieldtype));
      out.write(_jsp_string274, 0, _jsp_string274.length);
      out.print((BrowserComInfo2.getLinkurl(defieldtype)));
      out.write(_jsp_string275, 0, _jsp_string275.length);
      out.print((BrowserManager.browIsSingle(defieldtype) ));
      out.write(_jsp_string276, 0, _jsp_string276.length);
      if(defieldtype.equals("161")||defieldtype.equals("162")){
      out.write(_jsp_string277, 0, _jsp_string277.length);
      }
      out.write(_jsp_string278, 0, _jsp_string278.length);
      out.print((isdemand.equals("1") ? "2" : "1" ));
      out.write(_jsp_string279, 0, _jsp_string279.length);
      if(defieldtype.equals("161")||defieldtype.equals("162")){
      out.write(_jsp_string280, 0, _jsp_string280.length);
      out.print(("javascript:getajaxurl(" + defieldtype + ",'"+fielddbtype+"')"));
      out.write(_jsp_string279, 0, _jsp_string279.length);
      }else{
      out.write(_jsp_string280, 0, _jsp_string280.length);
      out.print(("javascript:getajaxurl(" + defieldtype + ")"));
      out.write(_jsp_string279, 0, _jsp_string279.length);
      }
      out.write(_jsp_string281, 0, _jsp_string281.length);
      out.print(("wfbrowvaluechange(this," + defieldid + ",  \" + rowindex + \")" ));
      out.write(_jsp_string282, 0, _jsp_string282.length);
      
				             }
                       }
                        if (trrigerdetailfield.indexOf("field"+defieldid)>=0){
                        
      out.write(_jsp_string283, 0, _jsp_string283.length);
      out.print((defieldid));
      out.write(_jsp_string284, 0, _jsp_string284.length);
      out.print((defieldid));
      out.write(_jsp_string285, 0, _jsp_string285.length);
      
                        }
                        if(seldefieldsdemanage.indexOf(defieldid)>=0){
                        
      out.write(_jsp_string286, 0, _jsp_string286.length);
      out.print((defieldid));
      out.write(_jsp_string188, 0, _jsp_string188.length);
      out.print((defieldid));
      out.write(_jsp_string287, 0, _jsp_string287.length);
      out.print((workflowid));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((nodeid));
      out.write(_jsp_string288, 0, _jsp_string288.length);
      
                        }
                			//System.out.println("field type:"+defieldtype);
                    }       // \u5faa\u73af\u7ed3\u675f
                    }catch(Exception e){
						}
                
      out.write(_jsp_string289, 0, _jsp_string289.length);
      out.print((needcheck));
      out.write(_jsp_string290, 0, _jsp_string290.length);
      out.print((needcheck));
      out.write(_jsp_string291, 0, _jsp_string291.length);
      out.print((selectDetailInitJsStrAdd));
      out.write(_jsp_string292, 0, _jsp_string292.length);
      
				//\u63d0\u4ea4\u786e\u8ba4\u9875\u9762\u4e0d\u9700\u8981 \u9ed8\u8ba4\u6dfb\u52a0\u884c






				if(dtldefault.equals("1")&&derecorderindex<1 && !(isaffirmance.equals("1") && nodetype.equals("0") && !reEdit.equals("1")))
				{
				
      out.write(_jsp_string293, 0, _jsp_string293.length);
      out.print((detailno));
      out.write('(');
      out.print((detailno));
      out.write(_jsp_string294, 0, _jsp_string294.length);
      
					RecordSet.executeSql(" select defaultrows from workflow_NodeFormGroup where nodeid=" + nodeid + " and groupid=" + detailno);
					RecordSet.next();
					int defaultrows = Util.getIntValue(RecordSet.getString("defaultrows"),0);
					
      out.write(_jsp_string295, 0, _jsp_string295.length);
      out.print((defaultrows ));
      out.write(_jsp_string296, 0, _jsp_string296.length);
      out.print((detailno));
      out.write('(');
      out.print((detailno));
      out.write(_jsp_string297, 0, _jsp_string297.length);
      	
				}
				
      out.write(_jsp_string298, 0, _jsp_string298.length);
      
                  detailno++;
                //}//if end
              }     //\u591a\u660e\u7ec6\u5faa\u73af\u7ed3\u675f







 

      out.write(_jsp_string299, 0, _jsp_string299.length);
      out.print((SystemEnv.getHtmlLabelName(15097,user.getLanguage())));
      out.write(_jsp_string300, 0, _jsp_string300.length);
      out.print((SystemEnv.getHtmlLabelName(358,user.getLanguage())));
      out.write(_jsp_string301, 0, _jsp_string301.length);
      out.print((SystemEnv.getHtmlLabelName(22686,user.getLanguage())));
      out.write(_jsp_string302, 0, _jsp_string302.length);
      
    ArrayList rowCalAry = new ArrayList();
    ArrayList rowCalSignAry = new ArrayList();
	ArrayList mainCalAry = new ArrayList();
    ArrayList tmpAry = null;

	StringTokenizer stk2 = new StringTokenizer(rowCalItemStr1,";");
	//out.println(rowCalItemStr1);

	ArrayList newRowCalArray = new ArrayList();

	while(stk2.hasMoreTokens()){
		//out.println(stk2.nextToken(";"));
		rowCalAry.add(stk2.nextToken(";"));
	}
	stk2 = new StringTokenizer(mainCalStr1,";");
	while(stk2.hasMoreTokens()){
		//out.println(stk2.nextToken(";"));
		mainCalAry.add(stk2.nextToken(";"));
	}
	//out.println(mainCalStr1);


      out.write(_jsp_string1, 0, _jsp_string1.length);
      out.print((initDetailIframeStrAdd));
      out.write(_jsp_string1, 0, _jsp_string1.length);
      out.print((initDetailIframeStr));
      out.write(_jsp_string303, 0, _jsp_string303.length);
      out.print((derecorderindex));
      out.write(_jsp_string304, 0, _jsp_string304.length);
      out.print((derecorderindex));
      out.write(_jsp_string305, 0, _jsp_string305.length);
      
    String temStr = "";
    for(int i=0; i<rowCalAry.size(); i++){
        temStr = "";
		String calExp = (String)rowCalAry.get(i);
        ArrayList calExpList=DynamicDataInput.FormatString(calExp);
        //System.out.println("calExp:"+calExp);

      out.write(_jsp_string306, 0, _jsp_string306.length);
      
            for(int j=0;j<calExpList.size();j++){
                calExp=(String)calExpList.get(j);
                String targetStr="";
                
      out.write(_jsp_string307, 0, _jsp_string307.length);
      
                if(calExp.indexOf("innerHTML")>0){
                targetStr=calExp.substring(0,calExp.indexOf("innerHTML")-1);
                //System.out.println("targetStr:"+targetStr);
                //targetStr = targetStr.substring(0,targetStr.indexOf("_"));
                //out.println("var tempObjName = getObjectName("+targetStr+",\"_\")");
                out.println("if("+targetStr+"){");
                if (calExp.indexOf("=") != calExp.length()-1) {
            		   //update by liao dong for qc71259 in 20130906 start
            	 //\u5982\u679c\u9664\u6570\u4e3a\u96f6\u7684\u65f6\u5019\u9700\u8981\u5c06Infinity\u53bb\u6389\u5149\u6807\u79fb\u81f3\u9519\u8bef\u5b57\u6bb5
            	 out.println("try{");  
            	 out.println(calExp+"; ");
            	 try{
             		 if(calExp.indexOf("=")>=0){
             			 String[] calSplitSign=calExp.split("=");
             			 String rightequalsmark = calSplitSign[0].replace(".innerHTML","");
             			 String leftequalsmark = calSplitSign[1].replace(".replace(/,/g,\"\"))", "").replace("parse_Float(", "").replace(".value", ""); 
             			 if(leftequalsmark.indexOf("/")>=0){
             				  String leftdivide  =leftequalsmark.split("/")[0];
             				  String rightdivide =leftequalsmark.split("/")[1];
             				  String inputObj = rightequalsmark.replace("+\"span\")",")");
             				  out.println(" if("+rightequalsmark+".innerHTML == \"Infinity\" ||"+rightequalsmark+".innerHTML == \"-Infinity\" || "+rightequalsmark+".innerHTML == \"NaN\" ){");
             				  out.println("if("+inputObj+".viewtype == 1){"); //\u5fc5\u586b
             				  out.println(rightequalsmark+".innerHTML=\"<img src='/images/BacoError_wev8.gif' align=absmiddle>\";");
             				  out.println("}else{");
             				  out.println(rightequalsmark+".innerHTML='';");
             				  out.println("}");
             				  out.println(inputObj+".value='';");
             				  //out.println("return;");
             				  out.println("}");
             			 }
             		 } 
             	  }catch(Exception e){}
             	  out.println("}catch(e){");
             	  out.println("}");
            	  //end
            	}
                 out.println("if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").datatype=='int' && "+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datavaluetype')!='5'){ "
                 +calExp.substring(0,calExp.indexOf("="))+"=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,0);}else if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datetype')!='int' && "+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('datavaluetype')=='5'){"
                 +targetStr+".innerHTML=changeToThousandsVal("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value);"
                 +"}else{ "+calExp.substring(0,calExp.indexOf("="))+"=toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,datalength);");
               //add by liaodong for qc75759 in 2013-11-20 start 
                String  resultNum = calExp.substring(0,calExp.indexOf("innerHTML")-9).substring(calExp.indexOf("field")+5)+"+\"";
                   out.println("try{");
                      out.println("if("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+")){");
                        out.println(" var fieldtype="+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").getAttribute('fieldtype');");
                        out.println("  if(fieldtype == 4){");
                        out.println(" document.getElementById(\"field_lable"+resultNum+"\").value = toPrecision("+calExp.substring(0,calExp.indexOf("innerHTML")-9)+").value,datalength);");
                        out.println(" numberToChinese(\""+resultNum+"\");");
                        out.println("}");
                      out.println("}");
                   out.println("}catch(e){}");
                //end 
                out.println("}}");
				//add by liaodong for qc43068 in 2013-11-22 start
				String str =calExp.substring(0, calExp.indexOf("="));
				String resultNumInnerHTML=str.substring(0,str.indexOf("innerHTML"));
				String resultNumStr = resultNumInnerHTML.substring(0, resultNumInnerHTML.indexOf("span"))+"\")";
				//\u5982\u679c\u662f\u91d1\u989d\u5343\u5206\u4f4d\u4e0e\u91d1\u989d\u8f6c\u6362\u7684\u9700\u8981\u53bb\u6389_lable
				resultNumStr=resultNumStr.replace("_lable", "");
				out.println("try{");
				 out.println(" if("+resultNumStr+"){");
				  out.println(" var numType="+resultNumStr+".getAttribute(\"datatype\"); ");
				 out.println(" if(numType=='float'||numType=='int'){");
				  //\u7ecf\u9a8c\u8bc1viewtype0\u672a\u7f16\u8f911\u4e3a\u5fc5\u586b \u53ea\u8bfb\u5e76\u6ca1\u6709\u6b64\u5c5e\u6027






					 out.println(" var numviewtype="+resultNumStr+".getAttribute(\"viewtype\"); ");
					  out.println(" if(numviewtype==1||numviewtype==0){");
						out.println(" var fielddbtype="+resultNumStr+".getAttribute(\"fieldtype\");");
					  out.println("if(fielddbtype != 4){"); //\u91d1\u989d\u8f6c\u6362\u7684\u4e0d\u53bb\u6389\u91cd\u590d\u7684






						out.println(""+calExp.substring(0, calExp.indexOf("=")) +"='';");
					out.println(" }");
					   out.println(" }");
					   out.println("if("+resultNumStr+".value==''&&numviewtype==1){");
					   out.println(""+resultNumInnerHTML+"innerHTML=\"<img src='/images/BacoError_wev8.gif' align=absmiddle>\";");
					   out.println("}");
				  out.println(" }");
				 out.println(" } ");
				out.println("}catch(e){}");            
            //end
                }else{
                if(calExp.indexOf("value")>0){  
                targetStr =calExp.substring(0,calExp.indexOf("value")-1);
                //System.out.println("targetStr:"+targetStr);
                //targetStr = targetStr.substring(0,targetStr.indexOf("_"));
                //out.println("var tempObjName = getObjectName("+targetStr+",\"_\")");
                //out.println("if(window.event.srcElement.name.toString().indexOf(tempObjName)==-1){");
                out.println("if("+targetStr+"){");
                out.println(" datalength = "+targetStr+".getAttribute('datalength');");
                out.println("if(datalength == null) datalength =2;");
                if (calExp.indexOf("=") != calExp.length()-1) {
            		out.println(calExp+"; ") ;
            	}
               out.println("if("+calExp.substring(0,calExp.indexOf("value")-1)+".datatype=='int') "+calExp.substring(0,calExp.indexOf("="))+"=toPrecision("+calExp.substring(0,calExp.indexOf("="))+",0);else{ ");
                out.println("if("+targetStr+".getAttribute('datavaluetype') == 5){");
                out.println(calExp.substring(0,calExp.indexOf("="))+"=changeToThousandsVal(toPrecision("+calExp.substring(0,calExp.indexOf("="))+",datalength));");
                out.println("}else{");
                out.println(calExp.substring(0,calExp.indexOf("="))+"=toPrecision("+calExp.substring(0,calExp.indexOf("="))+",datalength);}}}");
                }
                }
                
      out.write(_jsp_string308, 0, _jsp_string308.length);
      
            }
	        
      out.write(_jsp_string309, 0, _jsp_string309.length);
      
    }

      out.write(_jsp_string310, 0, _jsp_string310.length);
      for(int i=0;i<detailno;i++){
      out.write(_jsp_string311, 0, _jsp_string311.length);
      out.print((i));
      out.write(_jsp_string312, 0, _jsp_string312.length);
      out.print((i));
      out.write(_jsp_string313, 0, _jsp_string313.length);
      }
      out.write(_jsp_string314, 0, _jsp_string314.length);
      
		for(int i=0;i<mainCalAry.size();i++){
			String str2 =  mainCalAry.get(i).toString();
		    int idx = str2.indexOf("=");
			String str3 = str2.substring(0,idx);
			str3 = str3.substring(str3.indexOf("_")+1);
			String str4 = str2.substring(idx);
			str4 = str4.substring(str4.indexOf("_")+1);
	
      out.write(_jsp_string315, 0, _jsp_string315.length);
      out.print((str4));
      out.write(_jsp_string316, 0, _jsp_string316.length);
      out.print((str3));
      out.write(_jsp_string317, 0, _jsp_string317.length);
      out.print((str3));
      out.write(_jsp_string318, 0, _jsp_string318.length);
      out.print((str3));
      out.write(_jsp_string319, 0, _jsp_string319.length);
      out.print((str3));
      out.write(_jsp_string320, 0, _jsp_string320.length);
      out.print((str3));
      out.write(_jsp_string321, 0, _jsp_string321.length);
      out.print((str3));
      out.write(_jsp_string322, 0, _jsp_string322.length);
      out.print((str3));
      out.write(_jsp_string323, 0, _jsp_string323.length);
      out.print((str3));
      out.write(_jsp_string324, 0, _jsp_string324.length);
      out.print((str3));
      out.write(_jsp_string325, 0, _jsp_string325.length);
      out.print((str3));
      out.write(_jsp_string326, 0, _jsp_string326.length);
      out.print((str3));
      out.write(_jsp_string327, 0, _jsp_string327.length);
      out.print((str3));
      out.write(_jsp_string328, 0, _jsp_string328.length);
      out.print((str3));
      out.write(_jsp_string325, 0, _jsp_string325.length);
      out.print((str3));
      out.write(_jsp_string329, 0, _jsp_string329.length);
      out.print((str3));
      out.write(_jsp_string330, 0, _jsp_string330.length);
      out.print((str3));
      out.write(_jsp_string331, 0, _jsp_string331.length);
      out.print((str3));
      out.write(_jsp_string332, 0, _jsp_string332.length);
      out.print((str3));
      out.write(_jsp_string333, 0, _jsp_string333.length);
      out.print((str3));
      out.write(_jsp_string334, 0, _jsp_string334.length);
      out.print((str3));
      out.write(_jsp_string335, 0, _jsp_string335.length);
      out.print((str3));
      out.write(_jsp_string336, 0, _jsp_string336.length);
      out.print((str3));
      out.write(_jsp_string337, 0, _jsp_string337.length);
      out.print((str3));
      out.write(_jsp_string338, 0, _jsp_string338.length);
      out.print((str3));
      out.write(_jsp_string339, 0, _jsp_string339.length);
      out.print((str3));
      out.write(_jsp_string340, 0, _jsp_string340.length);
      out.print((str3));
      out.write(_jsp_string341, 0, _jsp_string341.length);
      out.print((str3));
      out.write(_jsp_string342, 0, _jsp_string342.length);
      out.print((str3));
      out.write(_jsp_string343, 0, _jsp_string343.length);
      out.print((str3));
      out.write(_jsp_string344, 0, _jsp_string344.length);
      out.print((str3));
      out.write(_jsp_string345, 0, _jsp_string345.length);
      out.print((str3));
      out.write(_jsp_string346, 0, _jsp_string346.length);
      out.print((str3));
      out.write(_jsp_string347, 0, _jsp_string347.length);
      out.print((str3));
      out.write(_jsp_string348, 0, _jsp_string348.length);
      out.print((str3));
      out.write(_jsp_string349, 0, _jsp_string349.length);
      out.print((str3));
      out.write(_jsp_string350, 0, _jsp_string350.length);
      out.print((str3));
      out.write(_jsp_string351, 0, _jsp_string351.length);
      out.print((str3));
      out.write(_jsp_string352, 0, _jsp_string352.length);
      out.print((str3));
      out.write(_jsp_string353, 0, _jsp_string353.length);
      
	}
	
      out.write(_jsp_string354, 0, _jsp_string354.length);
      for(int i=0;i<detailno;i++){
      out.write(_jsp_string311, 0, _jsp_string311.length);
      out.print((i));
      out.write(_jsp_string312, 0, _jsp_string312.length);
      out.print((i));
      out.write(_jsp_string313, 0, _jsp_string313.length);
      }
      out.write(_jsp_string355, 0, _jsp_string355.length);
      
    for(int i=0; i<colCalAry.size(); i++){
		String str = colCalAry.get(i).toString();
		str = str.substring(str.indexOf("_")+1);
	 if ("0".equals(isbill)) {
        	  rs.executeSql("select  qfws,fielddbtype from workflow_formdictdetail where id=" + str);
        } else {
        	  rs.executeSql("select  qfws,fielddbtype from workflow_billfield where id=" + str);
        }
		 int decimaldigits_t =2;
		 int qfwsdetilsum =2;
    	if("oracle".equals(rs.getDBType())){
    		 if(rs.next()){
    	        	String fielddbtypeStr=rs.getString("fielddbtype");
						qfwsdetilsum=Util.getIntValue(rs.getString("qfws"),2);
    	        	if(fielddbtypeStr.indexOf("number")>=0){
    	        		int digitsIndex = fielddbtypeStr.indexOf(",");
        				if(digitsIndex > -1){
        					decimaldigits_t = Util.getIntValue(fielddbtypeStr.substring(digitsIndex+1, fielddbtypeStr.length()-1), 2);
        				}else{
        					decimaldigits_t = 2;
        				}
    	        	}else{
    	        		if(fielddbtypeStr.equals("integer")){
    	        			decimaldigits_t = 0;
    	        		}
    	        	}
    	        }
    	}else{
    		 if(rs.next()){
 	        	String fielddbtypeStr=rs.getString("fielddbtype");
					qfwsdetilsum=Util.getIntValue(rs.getString("qfws"),2);
 	        	if(fielddbtypeStr.indexOf("decimal")>=0){
 	        		int digitsIndex = fielddbtypeStr.indexOf(",");
     				if(digitsIndex > -1){
     					decimaldigits_t = Util.getIntValue(fielddbtypeStr.substring(digitsIndex+1, fielddbtypeStr.length()-1), 2);
     				}else{
     					decimaldigits_t = 2;
     				}
 	        	}else{
 	        		if("int".equals(fielddbtypeStr)){
 	        			decimaldigits_t = 0;
 	        		}
 	        	}
 	        }
    	}

      out.write(_jsp_string356, 0, _jsp_string356.length);
      out.print((str));
      out.write(_jsp_string357, 0, _jsp_string357.length);
      out.print((str));
      out.write(_jsp_string358, 0, _jsp_string358.length);
      out.print((str));
      out.write(_jsp_string359, 0, _jsp_string359.length);
      out.print((decimaldigits_t));
      out.write(_jsp_string360, 0, _jsp_string360.length);
      out.print((qfwsdetilsum));
      out.write(_jsp_string361, 0, _jsp_string361.length);
      out.print((str));
      out.write(_jsp_string362, 0, _jsp_string362.length);
      out.print((str));
      out.write(_jsp_string363, 0, _jsp_string363.length);
      out.print((str));
      out.write(_jsp_string364, 0, _jsp_string364.length);
      out.print((str));
      out.write(_jsp_string365, 0, _jsp_string365.length);
      out.print((str));
      out.write(_jsp_string366, 0, _jsp_string366.length);
      out.print((str));
      out.write(_jsp_string367, 0, _jsp_string367.length);
      
    }

      out.write(_jsp_string368, 0, _jsp_string368.length);
      
for(int i=0;i<detailno;i++){

      out.write(_jsp_string369, 0, _jsp_string369.length);
      out.print((i));
      out.write(_jsp_string370, 0, _jsp_string370.length);
      
}
      out.write(_jsp_string371, 0, _jsp_string371.length);
      out.print((needcheck));
      out.write(_jsp_string372, 0, _jsp_string372.length);
      out.print((needcheck));
      out.write(_jsp_string373, 0, _jsp_string373.length);
      
needcheck="";

      out.write(_jsp_string1, 0, _jsp_string1.length);
      out.print((dlbodychangattrstr));
      out.write(_jsp_string374, 0, _jsp_string374.length);
      out.print((workflowid));
      out.write(_jsp_string375, 0, _jsp_string375.length);
      out.print((formid));
      out.write(_jsp_string376, 0, _jsp_string376.length);
      out.print((isbill));
      out.write(_jsp_string377, 0, _jsp_string377.length);
      out.print((nodeid));
      out.write(_jsp_string378, 0, _jsp_string378.length);
      out.print((detailsum));
      out.write(_jsp_string379, 0, _jsp_string379.length);
      out.print((workflowid));
      out.write(_jsp_string375, 0, _jsp_string375.length);
      out.print((formid));
      out.write(_jsp_string376, 0, _jsp_string376.length);
      out.print((isbill));
      out.write(_jsp_string377, 0, _jsp_string377.length);
      out.print((nodeid));
      out.write(_jsp_string378, 0, _jsp_string378.length);
      out.print((detailsum));
      out.write(_jsp_string380, 0, _jsp_string380.length);
      out.print((workflowid));
      out.write(_jsp_string375, 0, _jsp_string375.length);
      out.print((formid));
      out.write(_jsp_string376, 0, _jsp_string376.length);
      out.print((isbill));
      out.write(_jsp_string377, 0, _jsp_string377.length);
      out.print((nodeid));
      out.write(_jsp_string378, 0, _jsp_string378.length);
      out.print((detailsum));
      out.write(_jsp_string381, 0, _jsp_string381.length);
      
      if(!trrigerdetailfield.trim().equals("")){
          ArrayList Linfieldname=ddidetail.GetInFieldName();
          ArrayList Lcondetionfieldname=ddidetail.GetConditionFieldName();
          for(int i=0;i<Linfieldname.size();i++){
              String temp=(String)Linfieldname.get(i);
			
      
      out.write(_jsp_string382, 0, _jsp_string382.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string383, 0, _jsp_string383.length);
      out.print((temp));
      out.write(_jsp_string384, 0, _jsp_string384.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string385, 0, _jsp_string385.length);
      
          }
          for(int i=0;i<Lcondetionfieldname.size();i++){
              String temp=(String)Lcondetionfieldname.get(i);
      
      out.write(_jsp_string382, 0, _jsp_string382.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string383, 0, _jsp_string383.length);
      out.print((temp));
      out.write(_jsp_string384, 0, _jsp_string384.length);
      out.print((temp.substring(temp.indexOf("|")+1)));
      out.write(_jsp_string386, 0, _jsp_string386.length);
      
          }
          }
      
      out.write(_jsp_string387, 0, _jsp_string387.length);
      out.print((isbill));
      out.write(_jsp_string388, 0, _jsp_string388.length);
      out.print((isbill));
      out.write(_jsp_string389, 0, _jsp_string389.length);
      out.print((selectDetailInitJsStr));
      out.write(_jsp_string390, 0, _jsp_string390.length);
      out.print((isbill));
      out.write(_jsp_string391, 0, _jsp_string391.length);
      
  if(deuploadfieldids!=null){
  for (int ii = 0; ii < deuploadfieldids.size(); ii++) {
      out.write(_jsp_string392, 0, _jsp_string392.length);
      out.print((deuploadfieldids.get(ii)+""));
      out.write(_jsp_string393, 0, _jsp_string393.length);
      out.print((deuploadfieldids.get(ii)+""));
      out.write(_jsp_string394, 0, _jsp_string394.length);
      }
  }
  
      out.write(_jsp_string395, 0, _jsp_string395.length);
      out.print((userid));
      out.write(_jsp_string396, 0, _jsp_string396.length);
      out.print((requestid));
      out.write(_jsp_string397, 0, _jsp_string397.length);
      out.print((trrigerdetailfield));
      out.write(_jsp_string398, 0, _jsp_string398.length);
      
			if(trrigerdetailfield!=null && !trrigerdetailfield.trim().equals("")) {
       
      out.write(_jsp_string399, 0, _jsp_string399.length);
      
			}
       
      out.write(_jsp_string400, 0, _jsp_string400.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      if (_jsp_ViewTag_0 != null)
        _jsp_ViewTag_0.release();
      if (_jsp_GroupTag_1 != null)
        _jsp_GroupTag_1.release();
      if (_jsp_ItemTag_2 != null)
        _jsp_ItemTag_2.release();
      if (_jsp_ItemTag_3 != null)
        _jsp_ItemTag_3.release();
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    manager.addTaglibFunctions(_jsp_functionMap, "wea", "/WEB-INF/weaver.tld");
    manager.addTaglibFunctions(_jsp_functionMap, "brow", "/browserTag");
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("workflow/request/WorkflowManageRequestDetailBodyBill.jsp"), 2924281268335665850L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("WEB-INF/weaver.tld"), -8967885045122085173L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, new com.caucho.make.ClassDependency(weaver.template.tag.ItemTag.class, -5438589537409048615L));
    depend = new com.caucho.vfs.Depend(appDir.lookup("WEB-INF/tld/browser.tld"), 840991278995890201L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, new com.caucho.make.ClassDependency(weaver.common.util.taglib.BrowserTag.class, -2685375837665967596L));
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, new com.caucho.make.ClassDependency(weaver.template.tag.GroupTag.class, 8392293574246149627L));
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, new com.caucho.make.ClassDependency(weaver.template.tag.ViewTag.class, 2966152141547495543L));
  }

  static {
    try {
    } catch (Exception e) {
      e.printStackTrace();
      throw new RuntimeException(e);
    }
  }

  private final static char []_jsp_string387;
  private final static char []_jsp_string384;
  private final static char []_jsp_string342;
  private final static char []_jsp_string333;
  private final static char []_jsp_string112;
  private final static char []_jsp_string344;
  private final static char []_jsp_string175;
  private final static char []_jsp_string284;
  private final static char []_jsp_string132;
  private final static char []_jsp_string262;
  private final static char []_jsp_string38;
  private final static char []_jsp_string317;
  private final static char []_jsp_string200;
  private final static char []_jsp_string35;
  private final static char []_jsp_string377;
  private final static char []_jsp_string313;
  private final static char []_jsp_string44;
  private final static char []_jsp_string399;
  private final static char []_jsp_string280;
  private final static char []_jsp_string354;
  private final static char []_jsp_string8;
  private final static char []_jsp_string232;
  private final static char []_jsp_string16;
  private final static char []_jsp_string283;
  private final static char []_jsp_string217;
  private final static char []_jsp_string15;
  private final static char []_jsp_string276;
  private final static char []_jsp_string320;
  private final static char []_jsp_string272;
  private final static char []_jsp_string260;
  private final static char []_jsp_string379;
  private final static char []_jsp_string81;
  private final static char []_jsp_string50;
  private final static char []_jsp_string247;
  private final static char []_jsp_string151;
  private final static char []_jsp_string100;
  private final static char []_jsp_string374;
  private final static char []_jsp_string42;
  private final static char []_jsp_string185;
  private final static char []_jsp_string118;
  private final static char []_jsp_string349;
  private final static char []_jsp_string343;
  private final static char []_jsp_string310;
  private final static char []_jsp_string303;
  private final static char []_jsp_string294;
  private final static char []_jsp_string246;
  private final static char []_jsp_string116;
  private final static char []_jsp_string79;
  private final static char []_jsp_string10;
  private final static char []_jsp_string255;
  private final static char []_jsp_string382;
  private final static char []_jsp_string218;
  private final static char []_jsp_string88;
  private final static char []_jsp_string286;
  private final static char []_jsp_string159;
  private final static char []_jsp_string125;
  private final static char []_jsp_string80;
  private final static char []_jsp_string391;
  private final static char []_jsp_string190;
  private final static char []_jsp_string245;
  private final static char []_jsp_string30;
  private final static char []_jsp_string192;
  private final static char []_jsp_string368;
  private final static char []_jsp_string72;
  private final static char []_jsp_string239;
  private final static char []_jsp_string135;
  private final static char []_jsp_string235;
  private final static char []_jsp_string154;
  private final static char []_jsp_string267;
  private final static char []_jsp_string59;
  private final static char []_jsp_string348;
  private final static char []_jsp_string295;
  private final static char []_jsp_string202;
  private final static char []_jsp_string52;
  private final static char []_jsp_string385;
  private final static char []_jsp_string61;
  private final static char []_jsp_string54;
  private final static char []_jsp_string220;
  private final static char []_jsp_string375;
  private final static char []_jsp_string222;
  private final static char []_jsp_string46;
  private final static char []_jsp_string34;
  private final static char []_jsp_string165;
  private final static char []_jsp_string2;
  private final static char []_jsp_string290;
  private final static char []_jsp_string367;
  private final static char []_jsp_string292;
  private final static char []_jsp_string47;
  private final static char []_jsp_string340;
  private final static char []_jsp_string169;
  private final static char []_jsp_string36;
  private final static char []_jsp_string9;
  private final static char []_jsp_string126;
  private final static char []_jsp_string64;
  private final static char []_jsp_string32;
  private final static char []_jsp_string195;
  private final static char []_jsp_string234;
  private final static char []_jsp_string37;
  private final static char []_jsp_string91;
  private final static char []_jsp_string231;
  private final static char []_jsp_string55;
  private final static char []_jsp_string355;
  private final static char []_jsp_string166;
  private final static char []_jsp_string315;
  private final static char []_jsp_string31;
  private final static char []_jsp_string53;
  private final static char []_jsp_string11;
  private final static char []_jsp_string123;
  private final static char []_jsp_string17;
  private final static char []_jsp_string261;
  private final static char []_jsp_string237;
  private final static char []_jsp_string3;
  private final static char []_jsp_string106;
  private final static char []_jsp_string206;
  private final static char []_jsp_string136;
  private final static char []_jsp_string146;
  private final static char []_jsp_string258;
  private final static char []_jsp_string227;
  private final static char []_jsp_string208;
  private final static char []_jsp_string352;
  private final static char []_jsp_string394;
  private final static char []_jsp_string306;
  private final static char []_jsp_string40;
  private final static char []_jsp_string21;
  private final static char []_jsp_string386;
  private final static char []_jsp_string266;
  private final static char []_jsp_string330;
  private final static char []_jsp_string145;
  private final static char []_jsp_string93;
  private final static char []_jsp_string77;
  private final static char []_jsp_string370;
  private final static char []_jsp_string92;
  private final static char []_jsp_string84;
  private final static char []_jsp_string201;
  private final static char []_jsp_string56;
  private final static char []_jsp_string233;
  private final static char []_jsp_string19;
  private final static char []_jsp_string191;
  private final static char []_jsp_string298;
  private final static char []_jsp_string141;
  private final static char []_jsp_string109;
  private final static char []_jsp_string274;
  private final static char []_jsp_string104;
  private final static char []_jsp_string353;
  private final static char []_jsp_string297;
  private final static char []_jsp_string203;
  private final static char []_jsp_string390;
  private final static char []_jsp_string215;
  private final static char []_jsp_string161;
  private final static char []_jsp_string97;
  private final static char []_jsp_string57;
  private final static char []_jsp_string18;
  private final static char []_jsp_string388;
  private final static char []_jsp_string250;
  private final static char []_jsp_string376;
  private final static char []_jsp_string230;
  private final static char []_jsp_string76;
  private final static char []_jsp_string396;
  private final static char []_jsp_string155;
  private final static char []_jsp_string282;
  private final static char []_jsp_string58;
  private final static char []_jsp_string167;
  private final static char []_jsp_string5;
  private final static char []_jsp_string251;
  private final static char []_jsp_string207;
  private final static char []_jsp_string271;
  private final static char []_jsp_string43;
  private final static char []_jsp_string89;
  private final static char []_jsp_string291;
  private final static char []_jsp_string332;
  private final static char []_jsp_string111;
  private final static char []_jsp_string174;
  private final static char []_jsp_string372;
  private final static char []_jsp_string187;
  private final static char []_jsp_string350;
  private final static char []_jsp_string383;
  private final static char []_jsp_string345;
  private final static char []_jsp_string199;
  private final static char []_jsp_string177;
  private final static char []_jsp_string0;
  private final static char []_jsp_string131;
  private final static char []_jsp_string121;
  private final static char []_jsp_string229;
  private final static char []_jsp_string347;
  private final static char []_jsp_string113;
  private final static char []_jsp_string67;
  private final static char []_jsp_string14;
  private final static char []_jsp_string216;
  private final static char []_jsp_string331;
  private final static char []_jsp_string74;
  private final static char []_jsp_string369;
  private final static char []_jsp_string392;
  private final static char []_jsp_string22;
  private final static char []_jsp_string278;
  private final static char []_jsp_string241;
  private final static char []_jsp_string137;
  private final static char []_jsp_string133;
  private final static char []_jsp_string275;
  private final static char []_jsp_string114;
  private final static char []_jsp_string103;
  private final static char []_jsp_string300;
  private final static char []_jsp_string264;
  private final static char []_jsp_string147;
  private final static char []_jsp_string323;
  private final static char []_jsp_string66;
  private final static char []_jsp_string69;
  private final static char []_jsp_string117;
  private final static char []_jsp_string293;
  private final static char []_jsp_string288;
  private final static char []_jsp_string380;
  private final static char []_jsp_string110;
  private final static char []_jsp_string68;
  private final static char []_jsp_string212;
  private final static char []_jsp_string156;
  private final static char []_jsp_string214;
  private final static char []_jsp_string170;
  private final static char []_jsp_string105;
  private final static char []_jsp_string181;
  private final static char []_jsp_string148;
  private final static char []_jsp_string365;
  private final static char []_jsp_string184;
  private final static char []_jsp_string152;
  private final static char []_jsp_string263;
  private final static char []_jsp_string259;
  private final static char []_jsp_string130;
  private final static char []_jsp_string62;
  private final static char []_jsp_string257;
  private final static char []_jsp_string115;
  private final static char []_jsp_string27;
  private final static char []_jsp_string82;
  private final static char []_jsp_string87;
  private final static char []_jsp_string265;
  private final static char []_jsp_string299;
  private final static char []_jsp_string244;
  private final static char []_jsp_string41;
  private final static char []_jsp_string196;
  private final static char []_jsp_string129;
  private final static char []_jsp_string400;
  private final static char []_jsp_string325;
  private final static char []_jsp_string277;
  private final static char []_jsp_string173;
  private final static char []_jsp_string45;
  private final static char []_jsp_string188;
  private final static char []_jsp_string318;
  private final static char []_jsp_string312;
  private final static char []_jsp_string51;
  private final static char []_jsp_string311;
  private final static char []_jsp_string211;
  private final static char []_jsp_string254;
  private final static char []_jsp_string269;
  private final static char []_jsp_string13;
  private final static char []_jsp_string122;
  private final static char []_jsp_string127;
  private final static char []_jsp_string70;
  private final static char []_jsp_string139;
  private final static char []_jsp_string307;
  private final static char []_jsp_string363;
  private final static char []_jsp_string362;
  private final static char []_jsp_string314;
  private final static char []_jsp_string101;
  private final static char []_jsp_string252;
  private final static char []_jsp_string164;
  private final static char []_jsp_string157;
  private final static char []_jsp_string7;
  private final static char []_jsp_string357;
  private final static char []_jsp_string108;
  private final static char []_jsp_string360;
  private final static char []_jsp_string63;
  private final static char []_jsp_string162;
  private final static char []_jsp_string381;
  private final static char []_jsp_string210;
  private final static char []_jsp_string78;
  private final static char []_jsp_string327;
  private final static char []_jsp_string219;
  private final static char []_jsp_string73;
  private final static char []_jsp_string328;
  private final static char []_jsp_string296;
  private final static char []_jsp_string142;
  private final static char []_jsp_string335;
  private final static char []_jsp_string393;
  private final static char []_jsp_string39;
  private final static char []_jsp_string395;
  private final static char []_jsp_string326;
  private final static char []_jsp_string316;
  private final static char []_jsp_string338;
  private final static char []_jsp_string371;
  private final static char []_jsp_string346;
  private final static char []_jsp_string98;
  private final static char []_jsp_string71;
  private final static char []_jsp_string178;
  private final static char []_jsp_string373;
  private final static char []_jsp_string351;
  private final static char []_jsp_string339;
  private final static char []_jsp_string171;
  private final static char []_jsp_string193;
  private final static char []_jsp_string158;
  private final static char []_jsp_string138;
  private final static char []_jsp_string119;
  private final static char []_jsp_string6;
  private final static char []_jsp_string281;
  private final static char []_jsp_string243;
  private final static char []_jsp_string183;
  private final static char []_jsp_string329;
  private final static char []_jsp_string20;
  private final static char []_jsp_string12;
  private final static char []_jsp_string225;
  private final static char []_jsp_string279;
  private final static char []_jsp_string83;
  private final static char []_jsp_string364;
  private final static char []_jsp_string94;
  private final static char []_jsp_string358;
  private final static char []_jsp_string336;
  private final static char []_jsp_string341;
  private final static char []_jsp_string99;
  private final static char []_jsp_string75;
  private final static char []_jsp_string398;
  private final static char []_jsp_string204;
  private final static char []_jsp_string240;
  private final static char []_jsp_string150;
  private final static char []_jsp_string23;
  private final static char []_jsp_string140;
  private final static char []_jsp_string236;
  private final static char []_jsp_string85;
  private final static char []_jsp_string60;
  private final static char []_jsp_string49;
  private final static char []_jsp_string223;
  private final static char []_jsp_string356;
  private final static char []_jsp_string1;
  private final static char []_jsp_string24;
  private final static char []_jsp_string209;
  private final static char []_jsp_string163;
  private final static char []_jsp_string120;
  private final static char []_jsp_string189;
  private final static char []_jsp_string309;
  private final static char []_jsp_string153;
  private final static char []_jsp_string176;
  private final static char []_jsp_string182;
  private final static char []_jsp_string238;
  private final static char []_jsp_string205;
  private final static char []_jsp_string397;
  private final static char []_jsp_string319;
  private final static char []_jsp_string197;
  private final static char []_jsp_string90;
  private final static char []_jsp_string253;
  private final static char []_jsp_string198;
  private final static char []_jsp_string95;
  private final static char []_jsp_string186;
  private final static char []_jsp_string25;
  private final static char []_jsp_string304;
  private final static char []_jsp_string65;
  private final static char []_jsp_string124;
  private final static char []_jsp_string86;
  private final static char []_jsp_string144;
  private final static char []_jsp_string29;
  private final static char []_jsp_string322;
  private final static char []_jsp_string102;
  private final static char []_jsp_string308;
  private final static char []_jsp_string160;
  private final static char []_jsp_string378;
  private final static char []_jsp_string285;
  private final static char []_jsp_string249;
  private final static char []_jsp_string96;
  private final static char []_jsp_string26;
  private final static char []_jsp_string366;
  private final static char []_jsp_string256;
  private final static char []_jsp_string221;
  private final static char []_jsp_string33;
  private final static char []_jsp_string334;
  private final static char []_jsp_string143;
  private final static char []_jsp_string180;
  private final static char []_jsp_string179;
  private final static char []_jsp_string107;
  private final static char []_jsp_string149;
  private final static char []_jsp_string389;
  private final static char []_jsp_string242;
  private final static char []_jsp_string321;
  private final static char []_jsp_string226;
  private final static char []_jsp_string273;
  private final static char []_jsp_string168;
  private final static char []_jsp_string134;
  private final static char []_jsp_string48;
  private final static char []_jsp_string28;
  private final static char []_jsp_string305;
  private final static char []_jsp_string224;
  private final static char []_jsp_string359;
  private final static char []_jsp_string301;
  private final static char []_jsp_string302;
  private final static char []_jsp_string172;
  private final static char []_jsp_string287;
  private final static char []_jsp_string289;
  private final static char []_jsp_string128;
  private final static char []_jsp_string194;
  private final static char []_jsp_string268;
  private final static char []_jsp_string248;
  private final static char []_jsp_string324;
  private final static char []_jsp_string361;
  private final static char []_jsp_string337;
  private final static char []_jsp_string228;
  private final static char []_jsp_string213;
  private final static char []_jsp_string4;
  private final static char []_jsp_string270;
  static {
    _jsp_string387 = "\r\n      }\r\n    \r\n      iframenameid++;\r\n      StrData = StrData.replace(/\\+/g,\"%2B\");\r\n      //$GetEle(\"datainputformdetail\").src=\"DataInputFromDetail.jsp?\"+StrData;\r\n	  if(existArray.contains(parfield)){ //\u5ef6\u65f6\u6267\u884c\r\n	        if(temptime>defaultrows){\r\n	        	temptime = 1;\r\n	        }else{\r\n	        	//temptime++;\r\n	        }  \r\n	    	window.setTimeout(function(){ \r\n			    datainputdCreateIframe(iframenameid,StrData); \r\n			},100*temptime); \r\n			\r\n	  }else{\r\n	  	existArray.push(parfield);\r\n	  	datainputdCreateIframe(iframenameid,StrData)\r\n	  } \r\n      //xmlhttp.open(\"POST\", \"DataInputFrom.jsp\", false); \r\n      //xmlhttp.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\r\n      //xmlhttp.send(StrData);\r\n  }\r\nfunction changeChildFieldDetail(obj, fieldid, childfieldid, rownum){\r\n    var paraStr = \"fieldid=\"+fieldid+\"&childfieldid=\"+childfieldid+\"&isbill=".toCharArray();
    _jsp_string384 = "=\"+escape($GetEle(\"".toCharArray();
    _jsp_string342 = "span\").innerHTML=\"\";\r\n								            	}\r\n								          	   }\r\n								               document.getElementById(\"field_lable".toCharArray();
    _jsp_string333 = "\").getAttribute(\"datatype\")==\"float\" && $GetEle(\"field".toCharArray();
    _jsp_string112 = "\" />\r\n                                            ".toCharArray();
    _jsp_string344 = ");\r\n								                 	//jQuery(\"#field_lable".toCharArray();
    _jsp_string175 = "onpropertychange=\"datainputd('field".toCharArray();
    _jsp_string284 = "_\"+rowindex);\r\n                        initDetailfields += \"field".toCharArray();
    _jsp_string132 = "\" cols=\"40\" style=\"width:80%\">".toCharArray();
    _jsp_string262 = "\r\n                                	hasAdd = \"true\";\r\n                                	addOnClick = \"onNewDoc('".toCharArray();
    _jsp_string38 = "%; word-wrap:break-word;word-break:break-all;TEXT-VALIGN: center\"".toCharArray();
    _jsp_string317 = "\")){\r\n                	datalength = $GetEle(\"field".toCharArray();
    _jsp_string200 = "onchange=\"".toCharArray();
    _jsp_string35 = " <td ".toCharArray();
    _jsp_string377 = "&node=".toCharArray();
    _jsp_string313 = "').value);\r\n    if(temprow>rows) rows=temprow;\r\n    ".toCharArray();
    _jsp_string44 = "\" size=15 value=\"".toCharArray();
    _jsp_string399 = "	\r\n	   if(window.confirm('\u662f\u5426\u89e6\u53d1\u5b57\u6bb5\u8054\u52a8? ')) {\r\n			jQuery('input[id^=\"'+tempS+'_\"').each(function () {\r\n			   datainputd(this.id);\r\n			});\r\n	   }\r\n		".toCharArray();
    _jsp_string280 = "\r\n								   completeUrl:\"".toCharArray();
    _jsp_string354 = "\r\n\r\n}\r\n\r\n\r\nfunction changeToThousandsVal(sourcevalue){\r\n	sourcevalue = sourcevalue +\"\";\r\n	if(null != sourcevalue && 0 != sourcevalue){\r\n     if(sourcevalue.indexOf(\".\")<0)\r\n        re = /(\\d{1,3})(?=(\\d{3})+($))/g;\r\n    else\r\n        re = /(\\d{1,3})(?=(\\d{3})+(\\.))/g;\r\n		return sourcevalue.replace(re,\"$1,\");\r\n	}else{\r\n		return sourcevalue;\r\n	}\r\n}\r\n\r\nfunction calSum(obj, isload){\r\n	calSumPrice(arguments[2]);\r\n    var rows=0;\r\n    ".toCharArray();
    _jsp_string8 = "\r\n			            &nbsp;\r\n			            ".toCharArray();
    _jsp_string232 = "\r\n            ".toCharArray();
    _jsp_string16 = "\r\n                            ".toCharArray();
    _jsp_string283 = "\r\n                        //datainputd(\"field".toCharArray();
    _jsp_string217 = "\r\n                                    \r\n                                    \r\n                                    \r\n                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n\r\n\r\n".toCharArray();
    _jsp_string15 = "\"></input>\r\n                            ".toCharArray();
    _jsp_string276 = ",\r\n							   hasBrowser:true, \r\n							   ".toCharArray();
    _jsp_string320 = "\").value=toPrecision(sum,0);\r\n                   else{\r\n                     if($GetEle(\"field".toCharArray();
    _jsp_string272 = "_\" + rowindex,\r\n							   viewType:\"1\",\r\n							   browserValue: detaibrowshowid,\r\n							   browserSpanValue: detaibrowshowname,\r\n							   browserOnClick : detailbrowclick,\r\n							   hasInput:".toCharArray();
    _jsp_string260 = "\r\n				                        detailbrowclick = \"onShowBrowser2('".toCharArray();
    _jsp_string379 = "&trg=\"+parfield;\r\n			}catch(e){\r\n			tempParfieldArr = parfield.getAttribute(\"name\").split(\",\")\r\n			StrData=\"id=".toCharArray();
    _jsp_string81 = ")\" ".toCharArray();
    _jsp_string50 = "\">\r\n                                          <span id=\"field".toCharArray();
    _jsp_string247 = "(groupid){\r\n					".toCharArray();
    _jsp_string151 = "'></div>\r\n                                                    <script type=\"text/javascript\">\r\n                                                     areromancedivbyid('_areaselect_".toCharArray();
    _jsp_string100 = "\r\n                                                <input class=inputstyle datetype=\"float\" datatype=\"float\" type=text id=\"field_lable".toCharArray();
    _jsp_string374 = "\r\n\r\n\r\nvar defaultrows = 0;\r\nvar iframenameid = 0;\r\nvar temptime = 1;\r\nvar existArray = new Array();\r\n\r\nfunction datainputdCreateIframe(iframenameid,StrData){\r\n	  var iframe_datainputd = document.createElement(\"iframe\");\r\n      iframe_datainputd.id = \"iframe_\"+iframenameid;\r\n	  iframe_datainputd.src = \"\";\r\n	  iframe_datainputd.frameborder = \"0\";\r\n	  iframe_datainputd.height = \"0\";\r\n	  iframe_datainputd.scrolling = \"no\";\r\n	  iframe_datainputd.style.display = \"none\";\r\n	  document.body.appendChild(iframe_datainputd);\r\n	  $GetEle(\"iframe_\"+iframenameid).src=\"DataInputFromDetail.jsp?\"+StrData;\r\n}\r\n\r\nArray.prototype.contains = function(obj){\r\n  	var i = this.length;\r\n  	while(i--){\r\n  		if(this[i]===obj){\r\n  			return true;\r\n  		}\r\n  	}\r\n  	return false;\r\n}\r\nfunction datainputd(parfield){                <!--\u6570\u636e\u5bfc\u5165-->\r\n     \r\n	 try{\r\n		if(event.propertyName && event.propertyName.toLowerCase() != \"value\"){\r\n			return;\r\n		}\r\n	}catch(e){}  \r\n      //var xmlhttp=XmlHttp.create();\r\n	  \r\n      var tempParfieldArr;\r\n	  var StrData;\r\n	  try{\r\n		  try{\r\n			tempParfieldArr = parfield.split(\",\");\r\n			StrData=\"id=".toCharArray();
    _jsp_string42 = "' type=text class=inputstyle id=\"field".toCharArray();
    _jsp_string185 = "\r\n                                           <input type= hidden id=\"field".toCharArray();
    _jsp_string118 = "+\"_\"+".toCharArray();
    _jsp_string349 = "\").value==''){\r\n					if(filedtype == 4){\r\n						jQuery(\"#field_lable".toCharArray();
    _jsp_string343 = "\").value=toPrecision(sum,datalength);\r\n								               try{\r\n								                   numberToFormat(".toCharArray();
    _jsp_string310 = "\r\n}\r\n    \r\n\r\n    \r\nfunction calMainField(obj){\r\n    var rows=0;\r\n    var datalength = 2;\r\n    ".toCharArray();
    _jsp_string303 = "\r\n<script language=\"javascript\">\r\nrowindex = ".toCharArray();
    _jsp_string294 = ");\r\n					\r\n					".toCharArray();
    _jsp_string246 = "\">\r\n                <script language=javascript>\r\n                \r\n                 //zzl\r\n                function addSapRow".toCharArray();
    _jsp_string116 = "' type=hidden class=Inputstyle id=\"field".toCharArray();
    _jsp_string79 = "\" size=20 value=\"".toCharArray();
    _jsp_string10 = "\r\n                            <input type=button class=\"sapbtn\" accessKey=P onclick=\"addSapRow".toCharArray();
    _jsp_string255 = "\";\r\n				                var hasAdd = \"false\";\r\n                                var addOnClick;\r\n				                ".toCharArray();
    _jsp_string382 = "\r\n          if($GetEle(\"".toCharArray();
    _jsp_string218 = " </td>\r\n                        ".toCharArray();
    _jsp_string88 = " type=hidden class=Inputstyle id=\"field".toCharArray();
    _jsp_string286 = "\r\n                        changeshowattr('".toCharArray();
    _jsp_string159 = "\r\n                                   </span>\r\n                                   <!-- \r\n                                   <BUTTON id=\"field".toCharArray();
    _jsp_string125 = "')\"\r\n                                          rows=\"".toCharArray();
    _jsp_string80 = "\"\r\n                                          onKeyPress=\"ItemDecimal_KeyPress(this.name,15,".toCharArray();
    _jsp_string391 = "&selectvalue=\"+pFieldValue+\"&isdetail=1&&rowindex=\"+rownum+\"&childvalue=\"+childvalue;\r\n				//$GetEle(\"iframe_\"+pFieldid+\"_\"+fieldid).src = \"SelectChange.jsp?\"+paraStr;\r\n			\r\n				var frm = document.createElement(\"iframe\");\r\n				frm.id = \"iframe_\"+pFieldid+\"_\"+fieldid+\"_\"+rownum;\r\n				frm.style.display = \"none\";\r\n				frm.src = \"SelectChange.jsp?\"+paraStr;\r\n			    document.body.appendChild(frm);\r\n			}\r\n		}\r\n	}catch(e){}\r\n}\r\nfunction getNumber(index){\r\n	var elm = $GetEle(\"field_lable\"+index);\r\n	var n = getLocation(elm);\r\n  	//update by liaodong for qc80701 in 20131008 start\r\n	  if($GetEle(\"field\"+index).value != \"\"){ // add by liaodong for qc84090 in 2013-11-20 start\r\n  	     $GetEle(\"field_lable\"+index).value =floatFormat($GetEle(\"field\"+index).value);\r\n	  }\r\n  	//end\r\n	setLocation(elm,n);\r\n  }\r\n  \r\nfunction reAccesoryChanageDetail()\r\n{\r\n  ".toCharArray();
    _jsp_string190 = "')\r\n                                               }\r\n                                               //window.attachEvent(\"onload\", funcField".toCharArray();
    _jsp_string245 = "\">\r\n                <input type='hidden' name=colcalnames value=\"".toCharArray();
    _jsp_string30 = "\" ".toCharArray();
    _jsp_string192 = ", false);\r\n	                                           	}else if (window.attachEvent){\r\n	                                           	    window.attachEvent(\"onload\", funcField".toCharArray();
    _jsp_string368 = "\r\n	if(!isload) calMainField(obj);\r\n}\r\n\r\n/**\r\nreturn a number with a specified precision.\r\n*/\r\nfunction toPrecision(aNumber,precision){\r\n	var temp1 = Math.pow(10,precision);\r\n	var temp2 = new Number(aNumber);\r\n\r\n	\r\n	 //add by liaodong  for qc75759 in 2013\u5e7410\u670830\u65e5 start\r\n	var returnVal = isNaN(Math.round(temp1*temp2) /temp1)?0:Math.round(temp1*temp2) /temp1;\r\n	try{\r\n		if(String(returnVal).indexOf(\"e\")>=0)return returnVal;\r\n	}catch(e){}\r\n	var valInt = (returnVal.toString().split(\".\")[1]+\"\").length;\r\n	if(aNumber == null){\r\n		return  \"\";\r\n	}\r\n	if(valInt != precision){\r\n	    var lengInt = precision-valInt;\r\n		//\u5224\u65ad\u6dfb\u52a0\u5c0f\u6570\u4f4d0\u7684\u4e2a\u6570\r\n\r\n\r\n\r\n\r\n\r\n\r\n		if(lengInt == 1){\r\n			returnVal += \"0\";\r\n		}else if(lengInt == 2){\r\n			returnVal += \"00\";\r\n		}else if(lengInt == 3){\r\n			returnVal += \"000\";\r\n		}else if(lengInt < 0){\r\n			if(precision == 1){\r\n				returnVal += \".0\";\r\n			}else if(precision == 2){\r\n				returnVal += \".00\";\r\n			}else if(precision == 3){\r\n				returnVal += \".000\";\r\n			}else if(precision == 4){\r\n				returnVal += \".0000\";\r\n			}		\r\n		}		\r\n	}\r\n	return  returnVal;\r\n	//end\r\n}\r\n/**\r\n\r\n\u4ece\"field142_0\" \u5f97\u5230\uff0cfield142\r\n*/\r\n\r\nfunction getObjectName(obj,indexChar){\r\n	var tempStr = obj.name.toString();\r\n	return tempStr.substring(0,tempStr.indexOf(indexChar)>=0?tempStr.indexOf(indexChar):tempStr.length);\r\n}\r\n".toCharArray();
    _jsp_string72 = "\r\n                                                <input datalength=\"0\" datetype=\"int\" datatype=\"int\"  viewtype='".toCharArray();
    _jsp_string239 = "' name='rowneed".toCharArray();
    _jsp_string135 = "\r\n                                    \r\n                                   <BUTTON id=\"field".toCharArray();
    _jsp_string235 = "\" name=\"nodesnum".toCharArray();
    _jsp_string154 = "\r\n                                    <span id=\"field".toCharArray();
    _jsp_string267 = "\r\n				       	".toCharArray();
    _jsp_string59 = "\" size=15>\r\n                                                <span id=\"field".toCharArray();
    _jsp_string348 = "\").getAttribute(\"filedtype\");\r\n				if($GetEle(\"field".toCharArray();
    _jsp_string295 = "\r\n					\r\n					defaultrows = ".toCharArray();
    _jsp_string202 = "\" id=\"disfield".toCharArray();
    _jsp_string52 = "<img src=\"/images/BacoError_wev8.gif\" align=absmiddle>".toCharArray();
    _jsp_string385 = "_\"+indexid).value);\r\n	      \r\n      ".toCharArray();
    _jsp_string61 = "\r\n                                            <input type=hidden name=\"oldfieldview".toCharArray();
    _jsp_string54 = "\r\n                                                <input datatype=\"text\" viewtype='".toCharArray();
    _jsp_string220 = "\r\n                              </TBODY>\r\n							  ".toCharArray();
    _jsp_string375 = "&formid=".toCharArray();
    _jsp_string222 = "</TD>\r\n                ".toCharArray();
    _jsp_string46 = "','field".toCharArray();
    _jsp_string34 = "</td>\r\n                        ".toCharArray();
    _jsp_string165 = "\">".toCharArray();
    _jsp_string2 = " <!--xwj for @td2977 20051111-->\r\n".toCharArray();
    _jsp_string290 = "\" != \"\"){\r\n	                        $GetEle(\"needcheck\").value += \",".toCharArray();
    _jsp_string367 = "\").value=toPrecision(sum,decimalNumber);\r\n               }\r\n             }\r\n".toCharArray();
    _jsp_string292 = "\r\n					}\r\n					catch(e)\r\n					{\r\n					}\r\n					\r\n					\r\n                    rowindex = rowindex*1 +1;\r\n                    curindex = curindex*1 +1;\r\n                    $GetEle(\"nodesnum\"+obj).value = curindex ;\r\n                    $GetEle('indexnum'+obj).value = rowindex;\r\n                    calSum(obj);\r\n                    \r\n                    \r\n                    try {\r\n                    	//\u7f8e\u5316checkbox\r\n                    	jQuery(oTable).jNice();\r\n                    	//beautySelect();\r\n                    } catch (e) {}\r\n                }\r\n              \r\n                ".toCharArray();
    _jsp_string47 = "span',this.getAttribute('viewtype'));checkLength('field".toCharArray();
    _jsp_string340 = "span\")) {\r\n								            	if(document.getElementById(\"field".toCharArray();
    _jsp_string169 = "\r\n                                    \r\n                                    <img src=\"/images/BacoError_wev8.gif\" align=absmiddle>\r\n                                   \r\n                                   ".toCharArray();
    _jsp_string36 = " align=\"right\" style=\"TEXT-VALIGN: right\" ".toCharArray();
    _jsp_string9 = "\r\n							".toCharArray();
    _jsp_string126 = "\" cols=\"40\" style=\"width:80%\" >".toCharArray();
    _jsp_string64 = "\r\n                                            <input type=hidden class=Inputstyle id=\"field".toCharArray();
    _jsp_string32 = ">\r\n                        <input type='hidden' name='dtl_id_".toCharArray();
    _jsp_string195 = "' onBlur=\"checkinput2('field".toCharArray();
    _jsp_string234 = "\r\n                       \r\n            \r\n                <input type='hidden' id=\"nodesnum".toCharArray();
    _jsp_string37 = " style=\"LEFT: 0px; WIDTH: ".toCharArray();
    _jsp_string91 = "\" name=\"field_lable".toCharArray();
    _jsp_string231 = "\r\n                            </table>\r\n                            \r\n</div>\r\n\r\n				".toCharArray();
    _jsp_string55 = "' type=text class=inputstyle  onchange=\"checkinput2('field".toCharArray();
    _jsp_string355 = "\r\n    if(rowindex<rows)\r\n        rowindex=rows;\r\n    var sum=0;\r\n    var temStr;\r\n	var datavaluetype = \"\";\r\n".toCharArray();
    _jsp_string166 = "</button>\r\n                                    -->\r\n                                   \r\n                                     \r\n                                   ".toCharArray();
    _jsp_string315 = "\r\n               var sum=0;\r\n               var temStr;\r\n                for(i=0; i<rowindex; i++){\r\n\r\n                    try{\r\n                        temStr=$GetEle(\"field".toCharArray();
    _jsp_string31 = "disabled".toCharArray();
    _jsp_string53 = "</span>\r\n                                          ".toCharArray();
    _jsp_string11 = ")\"  title=\"SAP\"></input>\r\n                            ".toCharArray();
    _jsp_string123 = "\"  onChange=\"checkinput2('field".toCharArray();
    _jsp_string17 = "\r\n                            <input type=button class=\"delbtn\" accessKey=E onclick=\"deleteRow1(".toCharArray();
    _jsp_string261 = "_\"+rowindex+\".getAttribute('viewtype'))\";\r\n				                        ".toCharArray();
    _jsp_string237 = "\" name=\"indexnum".toCharArray();
    _jsp_string3 = "\r\n\r\n\r\n\r\n<script language=javascript src=\"/js/ecology8/request/e8.browser_wev8.js\"></script>\r\n<!-- \u660e\u7ec6\u6837\u5f0f -->\r\n<link href=\"/css/ecology8/workflowdetail_wev8.css\" type=\"text/css\" rel=\"stylesheet\">\r\n\r\n <iframe id=\"datainputformdetail\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\" ></iframe>\r\n<iframe id=\"selectChangeDetail\" frameborder=0 scrolling=no src=\"\"  style=\"display:none\"></iframe>\r\n".toCharArray();
    _jsp_string106 = "span\">\r\n                                                  ".toCharArray();
    _jsp_string206 = "\r\n                                           <option value=\"".toCharArray();
    _jsp_string136 = "browser\" name=\"field".toCharArray();
    _jsp_string146 = "\r\n                                                    <div areaType=\"city\" areaName='".toCharArray();
    _jsp_string258 = "_\"+rowindex+\".getAttribute('viewtype'));datainputd('field".toCharArray();
    _jsp_string227 = "\r\n                                <td align=\"right\" width=\"".toCharArray();
    _jsp_string208 = "</option>\r\n                                           ".toCharArray();
    _jsp_string352 = "\").trigger(\"blur\");\r\n						jQuery(\"#field".toCharArray();
    _jsp_string394 = ");\r\n  ".toCharArray();
    _jsp_string306 = "\r\n    //for( i=0; i<rowindex; i++){\r\n        try{\r\n            //var nowobj=(evt.srcElement ? evt.srcElement : evt.target).name.toString();\r\n            var i;\r\n            try{\r\n	            var nowobj=window.event.srcElement.name.toString();\r\n	            if(nowobj.indexOf('_')>-1){\r\n	                i=nowobj.substring(nowobj.indexOf('_')+1);\r\n	                if(i.indexOf('_')>-1)\r\n	                    i=i.substring(i.indexOf('_')+1);\r\n	            }\r\n            }catch(e){\r\n            	i = tempi ;\r\n            }\r\n			//var i = window.event.srcElement.parentElement.parentElement.parentElement.rowIndex - 1;//\u53ea\u8ba1\u7b97\u5f53\u524d\u884c\u7684\u503c\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        ".toCharArray();
    _jsp_string40 = "\r\n                                          <input datatype=\"text\" viewtype='".toCharArray();
    _jsp_string21 = "\r\n<div style=\"width:100%!important;height:100%;overflow-x:auto;overflow-y:hidden;\">\r\n							<!-- <div id=\"workflowDetailArea\"> -->\r\n                            <table Class=\"ListStyle ViewForm\" id=\"oTable".toCharArray();
    _jsp_string386 = "_\"+indexid).value);\r\n      ".toCharArray();
    _jsp_string266 = "\" ;\r\n                       \r\n                        oDiv.innerHTML = sHtml;\r\n                        oCell.appendChild(oDiv);\r\n                        \r\n                        ".toCharArray();
    _jsp_string330 = "span\").innerHTML=\"\";\r\n						}else{\r\n							if($GetEle(\"field".toCharArray();
    _jsp_string145 = "\"></button>\r\n                                    \r\n                                    ".toCharArray();
    _jsp_string93 = "')\"\r\n                                          onKeyPress=\"ItemDecimal_KeyPress('field_lable".toCharArray();
    _jsp_string77 = " \r\n                                          <input datetype=\"float\" datatype=\"float\" ".toCharArray();
    _jsp_string370 = ", true);\r\n});\r\n".toCharArray();
    _jsp_string92 = "\" size=30  onfocus=\"getNumber('".toCharArray();
    _jsp_string84 = " onChange=\"checkFloat(this);checkinput2('field".toCharArray();
    _jsp_string201 = " name=\"disfield".toCharArray();
    _jsp_string56 = "\" id=\"field".toCharArray();
    _jsp_string233 = "\r\n        ".toCharArray();
    _jsp_string19 = "\r\n                        ".toCharArray();
    _jsp_string191 = ");\r\n                                                if (window.addEventListener){\r\n	                                           	    window.addEventListener(\"load\", funcField".toCharArray();
    _jsp_string298 = "\r\n              </script>\r\n".toCharArray();
    _jsp_string141 = "')\" ".toCharArray();
    _jsp_string109 = "' type=hidden class=Inputstyle temptitle=\"".toCharArray();
    _jsp_string274 = ",\r\n							   linkUrl:'".toCharArray();
    _jsp_string104 = "\" >\r\n                                           ".toCharArray();
    _jsp_string353 = "\").trigger(\"change\");\r\n					}\r\n				}\r\n				}\r\n\r\n	".toCharArray();
    _jsp_string297 = ");\r\n					}\r\n					\r\n				});\r\n				".toCharArray();
    _jsp_string203 = "\" DISABLED ".toCharArray();
    _jsp_string390 = "\r\nfunction doInitDetailchildSelectAdd(fieldid,pFieldid,rownum,childvalue){\r\n	try{\r\n		var pField = $GetEle(\"field\"+pFieldid+\"_\"+rownum);\r\n		if(pField != null){\r\n			var pFieldValue = pField.value;\r\n			if(pFieldValue==null || pFieldValue==\"\"){\r\n				return;\r\n			}\r\n			if(pFieldValue!=null && pFieldValue!=\"\"){\r\n				var field = $GetEle(\"field\"+fieldid+\"_\"+rownum);\r\n			    var paraStr = \"fieldid=\"+pFieldid+\"&childfieldid=\"+fieldid+\"&isbill=".toCharArray();
    _jsp_string215 = "\" value=".toCharArray();
    _jsp_string161 = ".getAttribute('viewtype'))\" title=\"".toCharArray();
    _jsp_string97 = "span',field".toCharArray();
    _jsp_string57 = "\" name=\"field".toCharArray();
    _jsp_string18 = ");\"  title=\"".toCharArray();
    _jsp_string388 = "&selectvalue=\"+obj.value+\"&isdetail=1&&rowindex=\"+rownum;\r\n    $GetEle(\"selectChangeDetail\").src = \"SelectChange.jsp?\"+paraStr;\r\n    //alert($GetEle(\"selectChange\").src);\r\n}\r\nfunction doInitDetailchildSelect(fieldid,pFieldid,rownum,childvalue, cnt){\r\n	try{\r\n		var pField = $GetEle(\"field\"+pFieldid+\"_\"+rownum);\r\n		if(pField != null){\r\n			var pFieldValue = pField.value;\r\n			if(pFieldValue==null || pFieldValue==\"\"){\r\n				if (cnt == null || cnt == \"\") {\r\n					cnt = 0;\r\n				}\r\n				var _callbackfc = function() {\r\n			        doInitDetailchildSelect(fieldid,pFieldid,rownum,childvalue, cnt + 1);\r\n			    };\r\n			    if (cnt < 10) {\r\n					window.setTimeout(_callbackfc , 500);\r\n				}\r\n				return;\r\n			}\r\n			if(pFieldValue!=null && pFieldValue!=\"\"){\r\n				var field = $GetEle(\"field\"+fieldid+\"_\"+rownum);\r\n			    var paraStr = \"fieldid=\"+pFieldid+\"&childfieldid=\"+fieldid+\"&isbill=".toCharArray();
    _jsp_string250 = "|\"+groupid;\r\n		        			\r\n							//var temp=window.showModalDialog(urls,\"\",tempstatus);\r\n							var dialog = new window.top.Dialog();\r\n							dialog.currentWindow = window;\r\n							dialog.URL = urls;\r\n							\r\n							dialog.Title = \"SAP\";\r\n							dialog.Width = 550 ;\r\n							dialog.Height = 600;\r\n							\r\n							dialog.show();\r\n	        			".toCharArray();
    _jsp_string376 = "&bill=".toCharArray();
    _jsp_string230 = "\r\n                              </TR>\r\n                              </TFOOT>\r\n							  ".toCharArray();
    _jsp_string76 = "\r\n                                            <input datalength=\"0\" datetype=\"int\" datatype=\"int\"  type=hidden class=Inputstyle id=\"field".toCharArray();
    _jsp_string396 = "\"+\"_\"+\"".toCharArray();
    _jsp_string155 = "wrapspan\">\r\n                                     ".toCharArray();
    _jsp_string282 = "\",\r\n							   hasAdd: hasAdd,\r\n							   addOnClick: addOnClick\r\n						  });\r\n                       ".toCharArray();
    _jsp_string58 = "\" value=\"".toCharArray();
    _jsp_string167 = "\r\n                                   \r\n                                    <span id=\"field".toCharArray();
    _jsp_string5 = "\r\n		     ".toCharArray();
    _jsp_string251 = "\r\n				}\r\n                function addRow".toCharArray();
    _jsp_string207 = " selected ".toCharArray();
    _jsp_string271 = "_\" + rowindex + \"wrapspan\").e8Browser({\r\n							   name:\"field".toCharArray();
    _jsp_string43 = "\"  name=\"field".toCharArray();
    _jsp_string89 = "\r\n                                          \r\n                                          <input class=inputstyle datetype=\"float\" datatype=\"float\" temptitle=\"".toCharArray();
    _jsp_string291 = "\";\r\n	                    }\r\n	                    datainputd(initDetailfields);\r\n						".toCharArray();
    _jsp_string332 = "span\").innerHTML=toPrecision(sum,0);\r\n							}else if($GetEle(\"field".toCharArray();
    _jsp_string111 = "\r\n                                                <input type=hidden name=\"oldfieldview".toCharArray();
    _jsp_string174 = "\r\n                                    <input type=hidden viewtype='".toCharArray();
    _jsp_string372 = "\" != \"\"){\r\n   $GetEle(\"needcheck\").value += \"".toCharArray();
    _jsp_string187 = "(){\r\n                                                    changeshowattr('".toCharArray();
    _jsp_string350 = "\").trigger(\"blur\");\r\n						jQuery(\"#field_lable".toCharArray();
    _jsp_string383 = "_\"+indexid)) StrData+=\"&".toCharArray();
    _jsp_string345 = "\").trigger(\"blur\");\r\n												   //jQuery(\"#field_lable".toCharArray();
    _jsp_string199 = "datainputd('field".toCharArray();
    _jsp_string177 = ">\r\n                                    ".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string131 = "\" rows=\"".toCharArray();
    _jsp_string121 = "\r\n                                          <textarea class=inputstyle  viewtype='".toCharArray();
    _jsp_string229 = "\" >\r\n                                    ".toCharArray();
    _jsp_string347 = "\")){\r\n                var filedtype=$GetEle(\"field".toCharArray();
    _jsp_string113 = "\r\n                                             <input datatype=\"float\" type=text class=Inputstyle id=\"field_lable".toCharArray();
    _jsp_string67 = "\"\r\n                                          onKeyPress=\"ItemCount_KeyPress()\" onChange=\"checkcount1(this);checkItemScale(this,'".toCharArray();
    _jsp_string14 = ")\"  title=\"".toCharArray();
    _jsp_string216 = ">\r\n                                           ".toCharArray();
    _jsp_string331 = "\").getAttribute(\"datatype\") == \"int\"){\r\n								$GetEle(\"field".toCharArray();
    _jsp_string74 = "\">\r\n                                                <span id=\"field".toCharArray();
    _jsp_string369 = "\r\njQuery(document).ready(function(){\r\n	jQuery(\"TD[name='detailblockTD']\").closest(\"table\").css(\"table-layout\", \"fixed\"); \r\n	calSum(".toCharArray();
    _jsp_string392 = "\r\n     checkfilesize(oUpload".toCharArray();
    _jsp_string22 = "\" >\r\n                              <COLGROUP>\r\n                              <TBODY>\r\n                              <tr class=header>\r\n                                <th width=\"3%\">\u3000</th>\r\n								<th width=\"4%\" style=\"white-space:nowrap;\">".toCharArray();
    _jsp_string278 = "\r\n							   isMustInput:\"".toCharArray();
    _jsp_string241 = "\">\r\n                <input type='hidden' id=\"deldtlid".toCharArray();
    _jsp_string137 = "browser\" type=button  class=Browser ".toCharArray();
    _jsp_string133 = "</textarea>\r\n                                           <span id=\"field".toCharArray();
    _jsp_string275 = "',\r\n							   isSingle:".toCharArray();
    _jsp_string114 = "\"  disabled=\"true\" size=30>\r\n                                            <span id=\"field".toCharArray();
    _jsp_string103 = "')\" onBlur=\"checkFloat(this);numberToChinese('".toCharArray();
    _jsp_string300 = "', function() {\r\n    		var oTable=$G('oTable'+obj);\r\n            curindex=parseInt($G(\"nodesnum\"+obj).value);\r\n            len = document.forms[0].elements.length;\r\n            var i=0;\r\n            var rowsum1 = 0;\r\n            for(i=len-1; i >= 0;i--) {\r\n                if (document.forms[0].elements[i].name=='check_node'+obj)\r\n                    rowsum1 += 1;\r\n            }\r\n            for(i=len-1; i >= 0;i--) {\r\n                if (document.forms[0].elements[i].name=='check_node'+obj){\r\n                    if(document.forms[0].elements[i].checked==true) {\r\n                         //\u8bb0\u5f55\u88ab\u5220\u9664\u7684\u65e7\u8bb0\u5f55 id\u4e32\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        if(jQuery(oTable.rows[rowsum1].cells[0]).children().length > 1){\r\n                            if($G(\"deldtlid\"+obj).value!=''){\r\n                                //\u8001\u660e\u7ec6\r\n\r\n\r\n\r\n\r\n\r\n\r\n                                $G(\"deldtlid\"+obj).value+=\",\" + jQuery(oTable.rows[rowsum1].cells[0]).children()[1].value;\r\n                            }else{\r\n                                //\u65b0\u660e\u7ec6\r\n\r\n\r\n\r\n\r\n\r\n\r\n                                $G(\"deldtlid\"+obj).value = jQuery(oTable.rows[rowsum1].cells[0]).children()[1].value;\r\n                            }\r\n                        }\r\n\r\n                        //\u5220\u9664\u884c\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        oTable.deleteRow(rowsum1);\r\n                        curindex--;\r\n                    }\r\n                    rowsum1 -=1;\r\n\r\n                }\r\n            }\r\n            \r\n            var submitDtlIds = \"\";\r\n            var chkObj = document.getElementsByName('check_node'+obj);\r\n            for(var m = 0; m<chkObj.length; m++){\r\n            	if(chkObj[m] != null && chkObj[m] != undefined){\r\n            		submitDtlIds += \",\" + chkObj[m].value;\r\n            	}\r\n            }\r\n            $GetEle(\"submitdtlid\"+obj).value = submitDtlIds.substring(1);\r\n\r\n            var rows = oTable.rows.length ;\r\n            for(k=1; k < rows;k++){\r\n                if(oTable.rows[k].cells[1].innerText!=\"".toCharArray();
    _jsp_string264 = "_\"+rowindex+\".getAttribute('viewtype'))\";\r\n	                               	".toCharArray();
    _jsp_string147 = "' areaValue=\"".toCharArray();
    _jsp_string323 = "\").value=toPrecision(sum,datalength);\r\n                     }\r\n                   }\r\n                }\r\n                if($GetEle(\"field".toCharArray();
    _jsp_string66 = "\r\n                                          <input datalength=\"0\" datetype=\"int\" datatype=\"int\" viewtype='".toCharArray();
    _jsp_string69 = "span',this.getAttribute('viewtype'));calSum(".toCharArray();
    _jsp_string117 = "\r\n                                              <script language=\"javascript\">\r\n                                              	try{\r\n                                                    window.$GetEle(\"field_lable\"+".toCharArray();
    _jsp_string293 = "\r\n				jQuery(document).ready(function () {\r\n				    \r\n					addRow".toCharArray();
    _jsp_string288 = "');\r\n                        ".toCharArray();
    _jsp_string380 = "&trg=\"+parfield.getAttribute(\"name\");\r\n		}\r\n		}catch(e){	\r\n		  tempParfieldArr = $(parfield).attr(\"id\").toString().split(\",\");\r\n		  StrData=\"id=".toCharArray();
    _jsp_string110 = "\">\r\n                                                ".toCharArray();
    _jsp_string68 = "',-999999999,999999999);checkinput2('field".toCharArray();
    _jsp_string212 = "span\">\r\n                                           ".toCharArray();
    _jsp_string156 = "\r\n                                     </span>\r\n                                   \r\n                                   ".toCharArray();
    _jsp_string214 = "\r\n                                            </span>\r\n                                           ".toCharArray();
    _jsp_string170 = "\r\n                                    </span>\r\n                                    ".toCharArray();
    _jsp_string105 = "\r\n                                                  <span id=\"field".toCharArray();
    _jsp_string181 = " DISABLED ".toCharArray();
    _jsp_string148 = "\" \r\n                                                    areaSpanValue=\"".toCharArray();
    _jsp_string365 = "\")!=null){       \r\n               if(datavaluetype == '5'||datavaluetype == 5){\r\n                  $GetEle(\"sumvalue".toCharArray();
    _jsp_string184 = " >\r\n                                           ".toCharArray();
    _jsp_string152 = "',-1);\r\n                                                    </script>\r\n                                                    ".toCharArray();
    _jsp_string263 = "_\" + rowindex + \"')\";\r\n	                               	 detailbrowclick = \"onShowBrowser2('".toCharArray();
    _jsp_string259 = "_\"+rowindex+\"')\";\r\n					                     ".toCharArray();
    _jsp_string130 = "')\" name=\"field".toCharArray();
    _jsp_string62 = "\" />\r\n                                        ".toCharArray();
    _jsp_string257 = "_\"+rowindex+\"','".toCharArray();
    _jsp_string115 = "\r\n										  <!-- add by liaodong for qc75759 in 2013-11-20 start -->\r\n                                            <input datatype=\"float\" fieldtype='4' datalength='".toCharArray();
    _jsp_string27 = "\r\n                              </tr>\r\n                        ".toCharArray();
    _jsp_string82 = "onfocus=\"changeToNormalFormat(this.name)\" onblur=\"changeToThousands2(this.name,'".toCharArray();
    _jsp_string87 = "\r\n                                            <input  datetype=\"float\" datatype=\"float\" ".toCharArray();
    _jsp_string265 = "\r\n\r\n\r\n                        oCell = oRow.insertCell(-1);\r\n                        oCell.style.height=24;\r\n                        //oCell.style.background= \"#E7E7E7\";\r\n						oCell.style.wordWrap= \"break-word\";\r\n						oCell.style.wordBreak= \"break-all\";\r\n\r\n                        var oDiv = document.createElement(\"div\");\r\n                        var sHtml = \"".toCharArray();
    _jsp_string299 = "\r\n<script language=javascript>\r\nfunction deleteRow1(obj)\r\n{\r\n    var flag = false;\r\n	var ids = document.getElementsByName('check_node'+obj);\r\n	for(i=0; i<ids.length; i++) {\r\n		if(ids[i].checked==true) {\r\n			flag = true;\r\n			break;\r\n		}\r\n	}\r\n    if(flag) {\r\n    	top.Dialog.confirm('".toCharArray();
    _jsp_string244 = "\" name=\"submitdtlid".toCharArray();
    _jsp_string41 = "' temptitle='".toCharArray();
    _jsp_string196 = "span',this.getAttribute('viewtype'));\" ".toCharArray();
    _jsp_string129 = "' onchange=\"checkinput2('field".toCharArray();
    _jsp_string400 = "	\r\n	}\r\n	setCookie(key,\"0\",1);\r\n	\r\nfunction setCookie(cname,cvalue,exdays)\r\n{\r\n  var d = new Date();\r\n  d.setTime(d.getTime()+(exdays*24*60*60*1000));\r\n  var expires = \"expires=\"+d.toGMTString();\r\n  document.cookie = cname + \"=\" + cvalue + \"; \" + expires;\r\n}\r\n \r\nfunction getCookie(cname)\r\n{\r\n  var name = cname + \"=\";\r\n  var ca = document.cookie.split(';');\r\n  for(var i=0; i<ca.length; i++) \r\n  {\r\n    var c = ca[i].trim();\r\n    if (c.indexOf(name)==0) return c.substring(name.length,c.length);\r\n  }\r\n  return \"\";\r\n}\r\n</script>\r\n<SCRIPT language=\"javascript\" defer=\"defer\" src=\"/js/datetime_wev8.js\"></script>\r\n<SCRIPT language=\"javascript\" defer=\"defer\" src=\"/js/JSDateTime/WdatePicker_wev8.js\"></script>\r\n".toCharArray();
    _jsp_string325 = "\")&&$GetEle(\"field".toCharArray();
    _jsp_string277 = "\r\n							   nameSplitFlag:'~~WEAVERSplitFlag~~',\r\n							   ".toCharArray();
    _jsp_string173 = "\r\n                                    ".toCharArray();
    _jsp_string45 = "\" onChange=\"checkinput2('field".toCharArray();
    _jsp_string188 = "_1',$G('field".toCharArray();
    _jsp_string318 = "\").getAttribute(\"datalength\");\r\n                	if(datalength == null) datalength =2;\r\n                  if($GetEle(\"field".toCharArray();
    _jsp_string312 = "')) temprow=parseInt($GetEle('indexnum".toCharArray();
    _jsp_string51 = "span\">".toCharArray();
    _jsp_string311 = "\r\n    var temprow=0;\r\n    if($GetEle('indexnum".toCharArray();
    _jsp_string211 = "\r\n                                           </select>\r\n                                           <span id=\"field".toCharArray();
    _jsp_string254 = "\";\r\n				                var detaibrowshowname = \"".toCharArray();
    _jsp_string269 = "_\"+ rowindex,-1);\r\n								".toCharArray();
    _jsp_string13 = "\r\n                            <input type=button class=\"addbtn\" accessKey=A onclick=\"addRow".toCharArray();
    _jsp_string122 = "' name=\"field".toCharArray();
    _jsp_string127 = "</textarea>\r\n                                          <span id=\"field".toCharArray();
    _jsp_string70 = ");".toCharArray();
    _jsp_string139 = "',field".toCharArray();
    _jsp_string307 = "\r\n                try {\r\n                ".toCharArray();
    _jsp_string363 = "\").innerHTML=changeToThousandsVal(toPrecision(sum,qfwsdetilsumNumber))+\"&nbsp;\";\r\n                }else{\r\n            	  $GetEle(\"sum".toCharArray();
    _jsp_string362 = "\")!=null){\r\n                if(datavaluetype == '5'||datavaluetype == 5){\r\n                   $GetEle(\"sum".toCharArray();
    _jsp_string314 = "\r\n    if(rowindex<rows)\r\n        rowindex=rows;\r\n	".toCharArray();
    _jsp_string101 = "\" size=30  onKeyPress=\"ItemDecimal_KeyPress('field_lable".toCharArray();
    _jsp_string252 = "(obj)\r\n                {\r\n                        var oTable=$GetEle('oTable'+obj);\r\n                        var initDetailfields=\"\";\r\n                        curindex=parseInt($GetEle('nodesnum'+obj).value);\r\n                        rowindex=parseInt($GetEle('indexnum'+obj).value);\r\n                        if($GetEle('submitdtlid'+obj).value==''){\r\n                            $GetEle('submitdtlid'+obj).value=rowindex;\r\n                        }else{\r\n                            $GetEle('submitdtlid'+obj).value+=\",\"+rowindex;\r\n                        }\r\n                        //alert(curindex+\"|\"+rowindex);\r\n                        oRow = oTable.insertRow(curindex+1);\r\n                        \r\n                        oRow.className = \"wfdetailrowblock\";\r\n                        jQuery(oRow).hover(function () {\r\n                        	jQuery(this).addClass(\"Selected\");\r\n                        }, function () {\r\n                        	jQuery(this).removeClass(\"Selected\");\r\n                        });\r\n                        \r\n                        \r\n                        oCell = oRow.insertCell(-1);\r\n                        oCell.style.height=24;\r\n                        //oCell.style.background= \"#E7E7E7\";\r\n                        //oCell.style.word-wrap= \"normal\";\r\n						oCell.style.wordWrap= \"break-word\";\r\n						oCell.style.wordBreak= \"break-all\";\r\n\r\n                        var oDiv = document.createElement(\"div\");\r\n                        var sHtml = \"<input type='checkbox' name='check_node\"+obj+\"' value='\"+rowindex+\"'>\";\r\n                        sHtml += \"<input type='hidden' name='dtl_id_\"+obj+\"_\" + rowindex + \"' value=''>\";\r\n                        oDiv.innerHTML = sHtml;\r\n                        \r\n                        oCell.appendChild(oDiv);\r\n\r\n						oCell = oRow.insertCell(-1);\r\n						oCell.style.height=24;\r\n						//oCell.style.background= \"#E7E7E7\";\r\n										//oCell.style.word-wrap= \"normal\";\r\n						oCell.style.wordWrap= \"break-word\";\r\n						oCell.style.wordBreak= \"break-all\";\r\n\r\n						var oDivxh = document.createElement(\"div\");\r\n									 \r\n										//var sHtmlxh = curindex+1;\r\n									   \r\n\r\n						oDivxh.innerHTML = curindex+1;\r\n						oCell.appendChild(oDivxh);\r\n                        \r\n\r\n                ".toCharArray();
    _jsp_string164 = "')\" title=\"".toCharArray();
    _jsp_string157 = "\r\n                                   <span id=\"field".toCharArray();
    _jsp_string7 = "\r\n						".toCharArray();
    _jsp_string357 = "_\"+i).value;\r\n                    temStr = temStr.replace(/,/g,\"\");\r\n                    if(temStr+\"\"!=\"\"){\r\n                        sum+=temStr*1;\r\n                    }\r\n					if($GetEle(\"field".toCharArray();
    _jsp_string108 = "' fieldtype='4' datalength='".toCharArray();
    _jsp_string360 = ";\r\n  var qfwsdetilsumNumber = ".toCharArray();
    _jsp_string63 = "\r\n                                            <span id=\"field".toCharArray();
    _jsp_string162 = "\"> ".toCharArray();
    _jsp_string381 = "&trg=\"+$(parfield).attr(\"id\");\r\n		}\r\n	  \r\n      for(var i=0;i<tempParfieldArr.length;i++){\r\n      	var tempParfield = tempParfieldArr[i];\r\n      	var indexid=tempParfield.substr(tempParfield.indexOf(\"_\")+1);\r\n	  \r\n      ".toCharArray();
    _jsp_string210 = "</option>-->".toCharArray();
    _jsp_string78 = " viewtype='".toCharArray();
    _jsp_string327 = "\").value != \"\") {\r\n							$GetEle(\"field".toCharArray();
    _jsp_string219 = "\r\n                        </tr>\r\n                        ".toCharArray();
    _jsp_string73 = "\" onKeyPress=\"ItemCount_KeyPress()\" onblur=\"checkcount1(this);checkItemScale(this,'".toCharArray();
    _jsp_string328 = "span\").innerHTML=\"\";\r\n						}\r\n					}else{\r\n						if($GetEle(\"field".toCharArray();
    _jsp_string296 = ";\r\n			\r\n					for(var k = 0; k < parseInt(defaultrows)-1; k++) {\r\n						addRow".toCharArray();
    _jsp_string142 = " onclick=\"onShowBrowser2('".toCharArray();
    _jsp_string335 = "span\").innerHTML=changeToThousandsVal(toPrecision(sum,datalength));\r\n							}else{\r\n								$GetEle(\"field".toCharArray();
    _jsp_string393 = ",uploadImageMaxSize,uploaddocCategory);\r\n     showmustinput(oUpload".toCharArray();
    _jsp_string39 = ">\r\n                        ".toCharArray();
    _jsp_string395 = "\r\n}\r\nvar key =  \"".toCharArray();
    _jsp_string326 = "\").type==\"text\"){\r\n						if($GetEle(\"field".toCharArray();
    _jsp_string316 = "_\"+i).value;\r\n                        temStr = temStr.replace(/,/g,\"\");\r\n                        if(temStr+\"\"!=\"\"){\r\n                            sum+=temStr*1;\r\n                        }\r\n                    }catch(e){;}\r\n                }\r\n                if($GetEle(\"field".toCharArray();
    _jsp_string338 = "\").getAttribute(\"filedtype\");\r\n								          if(filedtype == 4){\r\n								               document.getElementById(\"field".toCharArray();
    _jsp_string371 = "\r\nif (\"".toCharArray();
    _jsp_string346 = "\").trigger(\"change\");\r\n								                }catch(e){\r\n								                }\r\n								          }\r\n								    }\r\n								 }catch(e){}\r\n				               //end\r\n							}\r\n						}\r\n					}\r\n                }\r\n				if($GetEle(\"field".toCharArray();
    _jsp_string98 = ".getAttribute('viewtype'));calSum('".toCharArray();
    _jsp_string71 = "</span>\r\n                                           ".toCharArray();
    _jsp_string178 = "\r\n                                   ".toCharArray();
    _jsp_string373 = "\";\r\n}\r\n".toCharArray();
    _jsp_string351 = "\").trigger(\"change\");\r\n					}else{\r\n						jQuery(\"#field".toCharArray();
    _jsp_string339 = "span\").innerHTML=\"\";\r\n								               if(document.getElementById(\"field_lable".toCharArray();
    _jsp_string171 = "\r\n                                    <A href=\"/meeting/report/MeetingRoomPlan.jsp\" target=\"blank\">".toCharArray();
    _jsp_string193 = ");\r\n	                                           	}else{\r\n	                                           	    window.onload=funcField".toCharArray();
    _jsp_string158 = "wrapspan\">\r\n                                   ".toCharArray();
    _jsp_string138 = "onclick=\"onShowBrowser2('".toCharArray();
    _jsp_string119 = ").value  = numberChangeToChinese(floatFormat(".toCharArray();
    _jsp_string6 = "\r\n			     ".toCharArray();
    _jsp_string281 = "\r\n							   width:\"100%\",\r\n							   needHidden:false,\r\n							   onPropertyChange:\"".toCharArray();
    _jsp_string243 = "\" value=\"\">\r\n                <input type='hidden' id=\"submitdtlid".toCharArray();
    _jsp_string183 = " checked ".toCharArray();
    _jsp_string329 = "\").type==\"text\"){\r\n							$GetEle(\"field".toCharArray();
    _jsp_string20 = "\r\n						\r\n						".toCharArray();
    _jsp_string12 = "\r\n                            \r\n                            ".toCharArray();
    _jsp_string225 = "\" style=\"display:none\"></td>\r\n                                <input type=\"hidden\" name=\"sumvalue".toCharArray();
    _jsp_string279 = "\",\r\n							   ".toCharArray();
    _jsp_string83 = "')\"".toCharArray();
    _jsp_string364 = "\").innerHTML=toPrecision(sum,decimalNumber)+\"&nbsp;\";\r\n            	}\r\n            }\r\n            if($GetEle(\"sumvalue".toCharArray();
    _jsp_string94 = "',15,".toCharArray();
    _jsp_string358 = "_\"+i).getAttribute(\"datavaluetype\")){\r\n                         datavaluetype = $GetEle(\"field".toCharArray();
    _jsp_string336 = "span\").innerHTML=toPrecision(sum,datalength);\r\n								try{\r\n								    if(document.getElementById(\"field".toCharArray();
    _jsp_string341 = "\").value != \"\") {\r\n								            	   document.getElementById(\"field_lable".toCharArray();
    _jsp_string99 = "\">\r\n                                           ".toCharArray();
    _jsp_string75 = "span\"></span>\r\n                                           ".toCharArray();
    _jsp_string398 = "\";\r\n	if(requestimport==\"1\") {\r\n		".toCharArray();
    _jsp_string204 = " name=\"field".toCharArray();
    _jsp_string240 = "\">\r\n                <input type=hidden name =\"detailsum\" value=\"".toCharArray();
    _jsp_string150 = "\"  areaCallback=\"\"  class=\"_areaselect\" id='_areaselect_".toCharArray();
    _jsp_string23 = "</th>\r\n								\r\n                   ".toCharArray();
    _jsp_string140 = ".getAttribute('viewtype'));datainputd('field".toCharArray();
    _jsp_string236 = "\">\r\n                <input type='hidden' id=\"indexnum".toCharArray();
    _jsp_string85 = "\r\n                                                 <input  datetype=\"float\" datatype=\"float\" ".toCharArray();
    _jsp_string60 = "span\"></span>\r\n                                          ".toCharArray();
    _jsp_string49 = "');".toCharArray();
    _jsp_string223 = "\r\n                                <td width=\"".toCharArray();
    _jsp_string356 = "\r\n            sum=0;\r\n            datavaluetype = \"\";\r\n            for(i=0; i<rowindex; i++){\r\n\r\n                try{\r\n                    temStr=$GetEle(\"field".toCharArray();
    _jsp_string1 = "\r\n".toCharArray();
    _jsp_string24 = "\r\n                                <th width=\"".toCharArray();
    _jsp_string209 = "\r\n                                           <!--<option value=\"".toCharArray();
    _jsp_string163 = "</button>\r\n                                   &nbsp;&nbsp;<BUTTON type=button  class=AddDocFlow onclick=\"onNewDoc('".toCharArray();
    _jsp_string120 = "));\r\n                                                  }catch(e){}\r\n                                              </script>\r\n                                              \r\n                                              \r\n                                              \r\n                                            ".toCharArray();
    _jsp_string189 = "').value,'".toCharArray();
    _jsp_string309 = "\r\n\r\n       }catch(e){}\r\n   //}\r\n".toCharArray();
    _jsp_string153 = "\r\n                                                    <div areaType=\"citytwo\" areaName='".toCharArray();
    _jsp_string176 = "');\"".toCharArray();
    _jsp_string182 = "  name=\"field".toCharArray();
    _jsp_string238 = "\">\r\n                <input type='hidden' id='rowneed".toCharArray();
    _jsp_string205 = ">\r\n                                           <option value=\"\"></option>\r\n                                           ".toCharArray();
    _jsp_string397 = "\"+\"requestimport\"\r\n	var requestimport = getCookie(key);\r\n	var tempS = \"".toCharArray();
    _jsp_string319 = "\").getAttribute(\"datatype\")==\"int\")\r\n                     $GetEle(\"field".toCharArray();
    _jsp_string197 = "onchange=\"changeshowattr('".toCharArray();
    _jsp_string90 = "\" type=text id=\"field_lable".toCharArray();
    _jsp_string253 = "\r\n				                var detaibrowshowid = \"".toCharArray();
    _jsp_string198 = "_1',this.value,".toCharArray();
    _jsp_string95 = ")\" onBlur=\"checkFloat(this);numberToChinese('".toCharArray();
    _jsp_string186 = "\r\n                                           <script>\r\n                                               function funcField".toCharArray();
    _jsp_string25 = "%\" style=\"white-space:nowrap;\" align=\"center\">".toCharArray();
    _jsp_string304 = ";\r\ncurindex = ".toCharArray();
    _jsp_string65 = "\">\r\n                                          ".toCharArray();
    _jsp_string124 = "span',this.getAttribute('viewtype'));checkLengthfortext('field".toCharArray();
    _jsp_string86 = "\" onKeyPress=\"ItemDecimal_KeyPress(this.name,15,".toCharArray();
    _jsp_string144 = " title=\"".toCharArray();
    _jsp_string29 = "' value=\"".toCharArray();
    _jsp_string322 = "\").value=changeToThousandsVal(toPrecision(sum,datalength));   \r\n                     }else{\r\n                        $GetEle(\"field".toCharArray();
    _jsp_string102 = ")\" onfocus=\"getNumber('".toCharArray();
    _jsp_string308 = "\r\n	            }catch(e){}\r\n	            ".toCharArray();
    _jsp_string160 = "browser\" type=button  class=AddDoc  onclick=\"onShowBrowser2('".toCharArray();
    _jsp_string378 = "&detailsum=".toCharArray();
    _jsp_string285 = "_\"+rowindex+\",\";\r\n                        ".toCharArray();
    _jsp_string249 = "\"\r\n		        			\r\n		        			var urls=\"/systeminfo/BrowserMain.jsp?url=/integration/sapSingleBrowser.jsp?type=".toCharArray();
    _jsp_string96 = "');checkinput2('field_lable".toCharArray();
    _jsp_string26 = "</th>\r\n                           ".toCharArray();
    _jsp_string366 = "\").value=changeToThousandsVal(toPrecision(sum,qfwsdetilsumNumber));\r\n               }else{\r\n                  $GetEle(\"sumvalue".toCharArray();
    _jsp_string256 = "\r\n					                     detailbrowclick = \"onShowBrowser2('".toCharArray();
    _jsp_string221 = "\r\n                              <TFOOT>\r\n                              <TR class=header>\r\n                                <td></td>\r\n								<TD >".toCharArray();
    _jsp_string33 = "\">\r\n                        </td>\r\n                        <td>".toCharArray();
    _jsp_string334 = "\").getAttribute(\"datavaluetype\")== \"5\"){\r\n								$GetEle(\"field".toCharArray();
    _jsp_string143 = ".getAttribute('viewtype'))\" ".toCharArray();
    _jsp_string180 = "' value=1 ".toCharArray();
    _jsp_string179 = "\r\n                                           <input type=checkbox class=inputstyle viewtype='".toCharArray();
    _jsp_string107 = "\r\n                                                  </span>\r\n												  <!-- add by liaodong for qc75759 in 2013-11-20 start -->\r\n                                                  <input datetype=\"float\" datatype=\"float\" viewtype='".toCharArray();
    _jsp_string149 = "\"  areaMustInput=\"".toCharArray();
    _jsp_string389 = "&selectvalue=\"+pFieldValue+\"&isdetail=1&&rowindex=\"+rownum+\"&childvalue=\"+childvalue;\r\n				$GetEle(\"iframe_\"+pFieldid+\"_\"+fieldid+\"_\"+rownum).src = \"SelectChange.jsp?\"+paraStr;\r\n			}\r\n		}\r\n	}catch(e){}\r\n}\r\n".toCharArray();
    _jsp_string242 = "\" name=\"deldtlid".toCharArray();
    _jsp_string321 = "\").getAttribute(\"datavaluetype\") == '5'){\r\n                        $GetEle(\"field".toCharArray();
    _jsp_string226 = "\" >\r\n                            ".toCharArray();
    _jsp_string273 = ",\r\n							   type:".toCharArray();
    _jsp_string168 = "\r\n                                   \r\n                                   ".toCharArray();
    _jsp_string134 = "</span>\r\n                                         ".toCharArray();
    _jsp_string48 = "','".toCharArray();
    _jsp_string28 = "\r\n                        <TR class=\"wfdetailrowblock\">\r\n                        <td width=\"4%\">\r\n                        <input type='checkbox' name='check_node".toCharArray();
    _jsp_string305 = " ;\r\n\r\n\r\nfunction parse_Float(i){\r\n	try{\r\n	    i =parseFloat(i);\r\n		if(i+\"\"==\"NaN\")\r\n			return 0;\r\n		else\r\n			return i;\r\n	}catch(e){\r\n		return 0;\r\n	}\r\n}\r\nfunction calSumPrice(){\r\n    var temv1;\r\n    var datalength = 2;\r\n    var evt = getEvent();\r\n    var tempi = arguments[0] ;\r\n".toCharArray();
    _jsp_string224 = "%\" id=\"sum".toCharArray();
    _jsp_string359 = "_\"+i).getAttribute(\"datavaluetype\");\r\n                    }\r\n                }catch(e){;}\r\n            }\r\n\r\n          var decimalNumber = ".toCharArray();
    _jsp_string301 = "\"){\r\n                    oTable.rows[k].cells[1].innerText=k;\r\n                }\r\n            }\r\n            $GetEle(\"nodesnum\"+obj).value=curindex;\r\n            calSum(obj);\r\n    	});\r\n    }else{\r\n        top.Dialog.alert('".toCharArray();
    _jsp_string302 = "');\r\n		return;\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n".toCharArray();
    _jsp_string172 = "</A>\r\n                                    ".toCharArray();
    _jsp_string287 = "_'+rowindex).value,rowindex,'".toCharArray();
    _jsp_string289 = "\r\n                	try\r\n                	{\r\n	                    if (\"".toCharArray();
    _jsp_string128 = "\r\n                                           <textarea class=inputstyle viewtype='".toCharArray();
    _jsp_string194 = ";\r\n	                                           	}	\r\n                                           </script>\r\n                                           <select  notBeauty=true class=inputstyle viewtype='".toCharArray();
    _jsp_string268 = "\r\n								   areromancedivbyid(\"_areaselect_field".toCharArray();
    _jsp_string248 = "\r\n		        			var browsermark =\"".toCharArray();
    _jsp_string324 = "span\")){\r\n					if($GetEle(\"field".toCharArray();
    _jsp_string361 = ";\r\n          if($GetEle(\"sum".toCharArray();
    _jsp_string337 = "\").getAttribute(\"filedtype\")){\r\n								         var filedtype=document.getElementById(\"field".toCharArray();
    _jsp_string228 = "\"  style=\"color:red\"></td>\r\n                                <input type=\"hidden\" name=\"sumvalue".toCharArray();
    _jsp_string213 = "\r\n                                            <img src=\"/images/BacoError_wev8.gif\" align=absmiddle>\r\n                                           ".toCharArray();
    _jsp_string4 = "\r\n\r\n".toCharArray();
    _jsp_string270 = "\r\n					        jQuery(\"#field".toCharArray();
  }
}
