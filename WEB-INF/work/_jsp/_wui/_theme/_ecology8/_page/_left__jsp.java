/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._wui._theme._ecology8._page;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.general.Util;
import java.sql.Timestamp;
import java.util.*;
import weaver.systeminfo.menuconfig.LeftMenuConfigHandler;
import weaver.systeminfo.menuconfig.LeftMenuInfo;
import weaver.systeminfo.menuconfig.LeftMenuConfig;
import weaver.systeminfo.menuconfig.MenuMaint;
import weaver.hrm.HrmUserVarify;
import weaver.hrm.User;
import weaver.conn.RecordSet;
import java.util.ArrayList;
import java.lang.reflect.Method;
import weaver.hrm.*;
import weaver.general.*;
import weaver.systeminfo.menuconfig.*;
import weaver.systeminfo.*;
import weaver.systeminfo.setting.*;
import weaver.homepage.HomepageUtil;

public class _left__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;

  
  
  	public String grtlftMenu(List elements, User user) {
  
  		if (elements == null) {
  			return "<ul></ul>";
  		}
  
  		//\u5de6\u4fa7\u83dc\u5355HTML
  		StringBuffer sfcm = new StringBuffer();
  		//---------------------------
  		// \u83dc\u5355\u9879\u80cc\u666f\u56fe\u7247\u968f\u673a\u663e\u793a
  		// bgcnt   : \u5de6\u4fa7\u83dc\u5355\u80cc\u666f\u56fe\u7247\u4e2a\u6570
  		// bgindex : \u5de6\u4fa7\u83dc\u5355\u80cc\u666f\u56fe\u7247\u968f\u673a\u7528\u4e0b\u6807
  		// abgs    : \u5de6\u4fa7\u83dc\u5355\u80cc\u666f\u56fe\u7247\u6570\u7ec4
  		//---------------------------
  		int bgcnt = 4;
  		int bgindex = 4;
  
  		String[] sbgPostions = new String[] { "0 -28", "0 -84", "0 0", "0 -56" };
  
  		sfcm.append("<ul>");
  		for (int licnter = 0; licnter < elements.size(); licnter++) {
  			Map map = (Map) elements.get(licnter);
  
  			bgindex++;
  
  			sfcm.append(getChildMenu(map, sbgPostions[bgindex % 4]));
  
  			String extra = Util.null2String((String) map.get("extra"));
  
  			if (extra != null && !"".equals(extra)) {
  
  			} else {
  				List chilList = (List) map.get("child");
  
  				if (chilList != null && !chilList.isEmpty()) {
  					String shtm = grtlftMenu(chilList, user);
  					sfcm.append(shtm);
  				}
  			}
  
  			sfcm.append("</li>");
  		}
  		sfcm.append("</ul>");
  
  		return sfcm.toString();
  
  	}
  
  	public String getChildMenu(Object obj, String sbgPosition) {
  		StringBuffer sfcm = new StringBuffer();
  		
  		if (!(obj instanceof Map)) {
  			return sfcm.toString();	
  		}
  		
  		Map map = (Map) obj;
  
  		//sfcm.append("<li><div style='width:100%;'> ");
  		sfcm.append("<li><div> ");
  		sfcm.append("<a id="+map.get("id")+" class='lfMenuItem' href='");
  		if (map.get("url") == null || map.get("url").toString().equals("")
  				|| map.get("url").toString().equals("#")) {
  			sfcm.append("javascript:void(0);");
  		} else {
  			sfcm.append(((String) map.get("url")).replaceAll("&#38;", "&"));
  		}
          String menuname=map.get("name").toString();
  		//sfcm.append("' style='background:url(").append(abg).append(") no-repeat;' ");
  		sfcm.append("' _bgPosition='" + sbgPosition + "'");
  		sfcm.append(" target='" + map.get("target") + "' title='" + menuname + "'>");
  		sfcm.append("<div class='leftMenuItemLeft' style='background-position:" + sbgPosition + ";'></div>");
  		sfcm.append("<div class='leftMenuItemCenter' style=''><span class='e8text'>");
  		sfcm.append(menuname);
  		sfcm.append("</span><span style='display:none;' class='iconImage'>")
  				 	.append(map.get("icon")).append("</span>");
  		sfcm.append("<span class='e8_number' id='num_"+map.get("levelid").toString()+"'></span>");
  		sfcm.append("</div>");
  		sfcm.append("<div class='leftMenuItemRight' style=''></div><div style='width:4px;display:none;'></div></a></div>");
  
  
  		return sfcm.toString();
  	}
  
  	public List getPortalMenus(User user) throws Exception {
  		int parenthpid = 0;
  		boolean queryChild =  true;
  		List<Map> result = new ArrayList<Map>();
  		HomepageUtil homepageUtil = new HomepageUtil();
  		RecordSet rs = new RecordSet();
  		String sharehpids = homepageUtil.getShareHomapage(user);
  		if("".equals(sharehpids)&&user.getUID()!=1){
  			return result;
  		}
  		String sql = "select id,infoname,subcompanyid,pid from hpinfo h where infoname is not null and subcompanyid>0   and isuse=1  and id in (" + sharehpids+ ") order by ordernum1";
  		if (user.getUID() == 1) {
  			sql = "select id,infoname,subcompanyid,pid from hpinfo h where infoname is not null  and subcompanyid>0  and isuse=1 order by  ordernum1";
  		}
  		//System.out.print("Sql"+sql);
  		rs.executeSql(sql);
  		result = convertRsToList(rs, "pid", "id", null, 0);
  		if(parenthpid > 0){
  			result = getSpecificList(result, "id", "" + parenthpid);
  		}
  		addIsParentToList(result,!queryChild);
  		
  		addPortalItemToList(result,0);
  		return result;
  	}
  	
  	private List<Map> convertRsToList(RecordSet rs,String parentIdKey,String idKey,String checkParentKey,int checkParentValue){
  		List<Map> list = new ArrayList<Map>();
  		Map<String,String> keyMap = new HashMap<String,String>();
  		while (rs.next()){
  			String pId = rs.getString(parentIdKey);
  			String id = rs.getString(idKey);
  			if(pId!= null &&  !"0".equals(pId) && keyMap.get(pId)==null){
  				continue; //\u5982\u679c\u7236\u7ea7\u4e0d\u663e\u793a\uff0c\u5219\u4e0d\u663e\u793a\uff1b\u9632\u6b62\u51fa\u73b0\u7236\u7ea7\u83dc\u5355\u6ca1\u6709\u6743\u9650\uff0c\u4f46\u662f\u5b50\u83dc\u5355\u6709\u6743\u9650\u7684\u60c5\u51b5
  			}
  			Map tmp =new HashMap();
  			String[] cols = rs.getColumnName();
  			String colValue = null;
  			for(String col : cols){
  				colValue = rs.getString(col);
  				if(col.toLowerCase().indexOf("name") != -1){
  					formatMultiString(colValue);
  				}
  				tmp.put(col.toLowerCase(),colValue);
  			}
  			if(checkParentKey !=null){
  				tmp.put("isParent",rs.getInt(checkParentKey)> checkParentValue);	//\u5927\u4e8e\u5bf9\u5e94\u503c\u5c31\u662f\u6709\u5b50\u83dc\u5355
  			}
  			 
  			if(pId!= null &&  !"0".equals(pId)){
  				String path = keyMap.get(pId);
  				String[] arr = path.split("-");
  				List<Map> chileList = list;
  				for(String ts : arr){
  					int i = Integer.valueOf(ts);
  					if(chileList.get(i).get("child") != null){
  						chileList = (List)chileList.get(i).get("child");
  					}else{
  						chileList.get(i).put("child",new ArrayList());
  						chileList = (List)chileList.get(i).get("child");
  						break;
  					}
  				}
  				keyMap.put(id, path+"-"+chileList.size());
  				chileList.add(tmp);
  			}else{
  				keyMap.put(id, ""+list.size());
  				list.add(tmp);
  			}
  		}
  		return list;
  	}
  	private List<Map> getSpecificList(List<Map> menuArray, String searchKey, String parentId) {
  		List<Map> retList = null;
  		for (Map item : menuArray) {
  			if (item.get(searchKey) == null) {
  				continue;
  			}
  			String infoId = item.get(searchKey).toString();
  			if (parentId.equals(infoId)) {
  				if (item.get("child") != null) {
  					retList = (List<Map>) item.get("child");
  				} else {
  					retList = new ArrayList<Map>();
  				}
  				break;
  			} else if (item.get("child") != null) {
  				retList = getSpecificList((List<Map>) item.get("child"), searchKey, parentId);
  				if (retList != null) {
  					break;
  				}
  			}
  		}
  		return retList;
  	}
  	private void addIsParentToList(List<Map> list,boolean noChild){
  		for(Map item : list){
  			if(item.get("child") != null ){
  				List<Map> child = (List)item.get("child");
  				item.put("isParent", child.size()>0);
  				if(noChild){
  					item.remove("child");
  				}else{
  					addIsParentToList(child,noChild);
  				}
  			}else{
  				item.put("isParent", false);
  			}
  		}
  	}
  	private int addPortalItemToList(List<Map> result,int index){
  		for(Map map : result){
  			int tempHpid = Util.getIntValue(map.get("id").toString(),0);
  			int tempPid = Util.getIntValue(Util.null2String(map.get("pid")),0);
  			if("".equals(Util.null2String(map.get("infoname")))){continue;}
  			String tempHpSubcompanyid = Util.null2String(map.get("subcompanyid"));
  			map.put("hpid", tempHpid);
  			map.put("url", "/homepage/Homepage.jsp?hpid=" + tempHpid + "&subCompanyId=" + tempHpSubcompanyid + "&isfromportal=1&isfromhp=0");
  			map.put("target", "mainFrame");
  			if(0==tempPid){
  				map.put("levelid", index + "_portal");
  			}else{
  				map.put("levelid", tempHpid);
  			}
  			map.put("icon", "");
  			map.put("id", "portal" + tempHpid);
  			map.put("name", Util.null2String(map.get("infoname")));
  			
  			index++;
  			if(map.get("child") != null){
  				index = addPortalItemToList((List)map.get("child"),index);
  			}
  		}
  		return index;
  	}
  	public static String formatMultiString(String value){
  		if("".equals(Util.null2String(value))){
  			return "";
  		}
  		String retValue = value;
  		try{
  			retValue = Util.formatMultiLang(value);
  		}catch(NoSuchMethodError e){
  			retValue = value;
  		}
  		return retValue;
  	}
  	
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      weaver.system.SystemComInfo SystemComInfo;
      SystemComInfo = (weaver.system.SystemComInfo) pageContext.getAttribute("SystemComInfo");
      if (SystemComInfo == null) {
        SystemComInfo = new weaver.system.SystemComInfo();
        pageContext.setAttribute("SystemComInfo", SystemComInfo);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      
	User user = HrmUserVarify.getUser(request, response);
	
	String showlasthp = SystemComInfo.getShowlasthp();

	HomepageUtil homepageUtil = new HomepageUtil();
	int defaultHpid = homepageUtil.getUserNewHpid(user);
	//\u76ae\u80a4\u53d6\u5f97
	String lskin = (String)request.getAttribute("REQUEST_SKIN_FOLDER");

	List homeMenus = new ArrayList();

	//\u6a2a\u83dc\u5355
	homeMenus = getPortalMenus(user);

	out.write("<script type=\"text/javascript\">");
	out.write("var menuMap = new Map();");

	out.write("menuMap.put('-9999', \""
			+ grtlftMenu(homeMenus, user)
					.replaceAll("\"", "####") + "\");");
	out.write("</script>");


      out.write(_jsp_string2, 0, _jsp_string2.length);
      out.print((grtlftMenu(homeMenus, user)));
      out.write(_jsp_string3, 0, _jsp_string3.length);
      out.print((defaultHpid));
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((SystemEnv.getHtmlLabelName(582,user.getLanguage())));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((showlasthp));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((showlasthp));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      out.print((SystemEnv.getHtmlLabelName(68,user.getLanguage())));
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((SystemEnv.getHtmlLabelName(15101,user.getLanguage())));
      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((SystemEnv.getHtmlLabelName(316,user.getLanguage())));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      out.print((SystemEnv.getHtmlLabelName(582,user.getLanguage())));
      out.write(_jsp_string11, 0, _jsp_string11.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("wui/theme/ecology8/page/left.jsp"), 135453772279441648L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string6;
  private final static char []_jsp_string10;
  private final static char []_jsp_string7;
  private final static char []_jsp_string3;
  private final static char []_jsp_string9;
  private final static char []_jsp_string0;
  private final static char []_jsp_string1;
  private final static char []_jsp_string5;
  private final static char []_jsp_string4;
  private final static char []_jsp_string2;
  private final static char []_jsp_string11;
  private final static char []_jsp_string8;
  static {
    _jsp_string6 = "\"!=\"1\"){\r\n        	isOpenFirstMenu=true;\r\n        }\r\n        updateScroll(\"#leftMenu\",\"#drillmenu\");\r\n    	lMnavToFirstNav(isOpenFirstMenu);\r\n		jQuery(\"#drillcrumb\").html(jQuery(\"div#head\").find(\"div.slideItemText\").eq(0).text());\r\n		jQuery(\"div#head\").find(\"div.slideItemText\").eq(0).addClass(\"topItemSelect\");\r\n		\r\n    }else{\r\n		updateScroll(\"#leftMenu\",\"#drillmenu\");\r\n    	\r\n		jQuery(\"#drillcrumb\").html(jQuery(\"div#head\").find(\"div.slideItemText\").eq(0).text());\r\n		jQuery(\"div#head\").find(\"div.slideItemText\").eq(0).addClass(\"topItemSelect\");\r\n	}\r\n    //\r\n});\r\n\r\n//---------------------------------------------------------------\r\n// \u4ee5\u4e0b\u53d8\u91cf\u4e3a\u83dc\u5355\u7684\u76f8\u5173\u8bbe\u7f6e\r\n// currSubMParent      :  \u5f53\u524d\u5b50\u83dc\u5355\u6240\u5c5e\u7236\u83dc\u5355\r\n// selFlg              :  \u76ee\u524d\u7684\u4f4d\u7f6e\uff1a\u662f\u5426\u5728\u7236\u83dc\u5355\u662f\u5426\u5728\u7236\u4eb2\u90a3\u91cc\r\n// parentMCntLinked    :  \u4fdd\u5b58\u5c42\u7ea7\u83dc\u5355\u5b50\u83dc\u5355\u7684\u4e2a\u6570\uff0c\u7528\u4e8e\u8ba1\u7b97\u83dc\u5355\u9ad8\u5ea6.\r\n// parentMObjLinked    :  \u4fdd\u5b58\u5c42\u7ea7\u83dc\u5355,\u786e\u4fdd\u70b9\u51fburl\u8fd4\u56de\u65f6,\u6709\u6b63\u786e\u7684\u52a8\u4f5c\r\n// parentMLinkedIndex  :  \u4fdd\u5b58\u5c42\u7ea7\u83dc\u5355\u5f53\u524d\u4f4d\u7f6e\r\n// currMObj            :  \u5f53\u524d\u70b9\u51fb\u83dc\u5355\u9879\r\nvar currSubMParent;\r\nvar selFlg = true;\r\nvar parentMCntLinked = new Array();\r\nvar parentMObjLinked = new Array();\r\nvar parentMLinkedIndex = 0;\r\nvar currMObj = null;\r\n// END\r\n//---------------------------------------------------------------\r\n\r\n//---------------------------------------------------------------\r\n// \u83dc\u5355\u9690\u85cf\u65f6\uff0c\u4fdd\u6301\u6700\u540e\u70b9\u51fb\u7684\u83dc\u5355\r\n//---------------------------------------------------------------\r\nvar recentlyClickTopMenuObj = null;\r\nvar lyClickTopmenuStatictics = 0;\r\n/**\r\n * \u52a8\u6001\u6539\u53d8\u5de6\u4fa7\u83dc\u5355\u9879\r\n * \u70b9\u51fb\u9876\u90e8\u83dc\u5355\u65f6\uff0c\u8c03\u7528\u6b64\u51fd\u6570\r\n * @param ele \u5f53\u524d\u70b9\u51fb\u7684\u4e00\u7ea7(\u9876\u7ea7)\u83dc\u5355\r\n */\r\nfunction dymlftenu(ele, isOpenFirstMenu) {\r\n	jQuery(\"#leftBlockTd\").show();\r\n	jQuery(\"#e8rightContentDiv\").css(\"margin-left\",\"225px\");\r\n	jQuery(\".e8_leftToggle\").removeClass(\"e8_leftToggleShow\");\r\n	recentlyClickTopMenuObj = ele;\r\n	lyClickTopmenuStatictics++;\r\n    var paramValue = \"\";\r\n    var levelid = jQuery(ele).attr(\"levelid\");\r\n    jQuery(\"#drillcrumb\").text(jQuery(ele).text());\r\n	jQuery(\"#head\").find(\"div.topItemSelect\").removeClass(\"topItemSelect\");\r\n	jQuery(ele).children(\"div\").addClass(\"topItemSelect\");\r\n    if(levelid != undefined && levelid != null && levelid != \"\") {\r\n        paramValue = levelid;\r\n    } else {\r\n        paramValue = \"-9999\";\r\n    }\r\n    \r\n    var reg=new RegExp(\"####\",\"g\"); \r\n    \r\n    $(\".leftMenuTopNavDiv\").css(\"border-bottom-width\",\"1px\");\r\n    if(paramValue==536){\r\n    	$(\".leftMenuTopNavDiv\").css(\"border-bottom-width\",\"0px\");\r\n	   	jQuery(\"#navTd\").html(\"\");\r\n	   	jQuery(\"#drillcrumb\").html($(ele).find(\".slideItemText\").text());\r\n	   	jQuery(\"#drillmenu\").html(\"\");\r\n	   	//syncLMHeightForMail();\r\n	    //syncLMHeight();\r\n	   	jQuery(\"#drillmenu\").load(\"/email/new/leftmenu8.jsp?\"+new Date().getTime(),function(){\r\n	   		//jQuery(\".leftMenuItemRight\").css(\"left\", leftMenuItemWidth -  5); \r\n	   		//jQuery(\".leftMenuItemCenter\").css(\"width\", leftMenuItemWidth - 11 - 5);\r\n            jQuery(\"#leftMenu\").scrollTo( {top:'0px',left:+'0px'}, 0 ); \r\n            $(\"#drillmenu\").height($(\"#emailCenter\").height());\r\n            //$(\"#autoHight\").height($(\"#leftMenu\").height()-30);\r\n            \r\n             //\u540c\u6b65\u83dc\u5355\u9ad8\u5ea6\r\n        	syncLMHeight();\r\n        	updateHandleRequest();\r\n            //syncLMHeight();\r\n            //updateScroll(\"#leftMenu\",\"#drillmenu\");\r\n           \r\n   	});\r\n   }else if (menuMap.get(paramValue) != undefined && menuMap.get(paramValue) != null && menuMap.get(paramValue) != \"\" && paramValue != \"111\") {\r\n        //\u6e05\u7a7a\u6eda\u52a8\u5bfc\u822a\u9879\r\n        jQuery(\"#navTd\").html(\"\");\r\n        currMObj = null;\r\n    \r\n        var leftMenuHtml = menuMap.get(paramValue).replace(reg, \"\\\"\");\r\n        jQuery(leftMenuHtml).hide();\r\n        jQuery(\"#drillmenu\").html(leftMenuHtml);\r\n		//$('#drillmenu').perfectScrollbar(\"update\");\r\n        //-------------------------------------\r\n        // 20110526 \u81ea\u9002\u5e94\u5bbd\u5ea6 start\r\n        //-------------------------------------\r\n        jQuery(\".leftMenuItemRight\").css(\"left\", leftMenuItemWidth -  5); \r\n		//jQuery(\".leftMenuItemCenter\").css(\"width\", leftMenuItemWidth - 11 - 5);\r\n		if (leftMenuItemWidth < 150) {\r\n			setLeftMenuItemFontLt();\r\n		}\r\n        //-------------------------------------\r\n        // 20110526 \u81ea\u9002\u5e94\u5bbd\u5ea6 end\r\n        //-------------------------------------\r\n        \r\n        jQuery(\"#leftMenu\").scrollTo( {top:'0px',left:+'0px'}, 0 );\r\n         updateScroll(\"#leftMenu\",\"#drillmenu\",paramValue);\r\n        //\u7b2c\u4e00\u4e2a\u83dc\u5355\u9879\r\n        var lfirst = jQuery(\"#drillmenu ul li a\").get(0);\r\n        \r\n        var isPortal = false;\r\n        if (paramValue == \"-9999\") {\r\n            isPortal = true;\r\n        }\r\n        //\u91cd\u65b0\u7ed1\u5b9a\u83dc\u5355\u9879onclick\u4e8b\u4ef6\r\n        lMNavEventRebind(jQuery(ele).children(\".slideItemText\").html(), isPortal);\r\n        //\u5bf9\u901a\u4fe1\u83dc\u5355\u8fdb\u884c\u7279\u6b8a\u5904\u7406\r\n        if(paramValue==107){\r\n        	var firstLevels = jQuery(\"#drillmenu\").children(\"ul\").children(\"li.liCss\");\r\n        	firstLevels.each(function(index,obj){\r\n        		if(index==0){\r\n        			jQuery(\"#drillcrumb\").text(jQuery(obj).children(\"div\").find(\"span.e8text\").text());\r\n        			jQuery(obj).children(\"div\").hide();\r\n        		}\r\n        		jQuery(obj).css(\"background-color\",\"transparent\");\r\n        		jQuery(obj).children(\"div\").css(\"padding-left\",\"0px\").css(\"margin-left\",\"10px\");\r\n        		//jQuery(obj).children(\"div\").css(\"border-bottom\",\"1px solid #565656\");\r\n        		jQuery(obj).children(\"div\").find(\"span.bzCls\").hide();\r\n        		jQuery(obj).children(\"div\").children(\"a\").click();\r\n        		//jQuery(obj).children(\"div\").find(\".leftMenuItemCenter\").css(\"color\",\"#A19E9E\");\r\n        		jQuery(obj).children(\"div\").children(\"a\").removeAttr(\"oldclick\");\r\n        		jQuery(obj).children(\"ul\").children(\"li.liCss2\").children(\"div.divCss\").addClass(\"e8comLevel1\");\r\n        	});\r\n        }\r\n        //\u540c\u6b65\u83dc\u5355\u9ad8\u5ea6\r\n        syncLMHeight();\r\n        //\u5de6\u4fa7\u83dc\u5355onclick\u4e8b\u4ef6\r\n        lMNavBindClick();\r\n        jQuery(leftMenuHtml).show();\r\n        //\u9009\u4e2d\u7b2c\u4e00\u4e2a\u83dc\u5355\u9879\r\n        \r\n        if(isPortal&&defaultHpid!=0){\r\n        	isOpenFirstMenu = false;\r\n        }else{\r\n        	isOpenFirstMenu=true;\r\n        }\r\n        if(\"".toCharArray();
    _jsp_string10 = "\"));\r\n        jQuery.ajax({\r\n            url: \"/wui/theme/ecology8/page/ajaxGetMenu.jsp?typeid=\" + paramValue + \"&parentid=\" + (paramValue == \"114\" ? \"\" : \"10\") + \"&lftmn\" + new Date().getTime() + \"=\",\r\n            dataType: \"text\", \r\n            contentType : \"charset=UTF-8\", \r\n            error:function(ajaxrequest){}, \r\n            success:function(content){ \r\n                jQuery(content).hide();\r\n                jQuery(\"#drillmenu\").html(content);\r\n				updateScroll(\"#leftMenu\",\"#drillmenu\");\r\n                //-------------------------------------\r\n		        // 20110526 \u81ea\u9002\u5e94\u5bbd\u5ea6 start\r\n		        //-------------------------------------\r\n		        jQuery(\".leftMenuItemRight\").css(\"left\", leftMenuItemWidth -  5); \r\n				//jQuery(\".leftMenuItemCenter\").css(\"width\", leftMenuItemWidth - 11 - 5);\r\n				if (leftMenuItemWidth < 150) {\r\n					setLeftMenuItemFontLt();\r\n				}\r\n		        //-------------------------------------\r\n		        // 20110526 \u81ea\u9002\u5e94\u5bbd\u5ea6 end\r\n		        //-------------------------------------\r\n				if (paramValue != \"111\") {\r\n                	menuMap.put(paramValue, content);\r\n                }\r\n                jQuery(\"#leftMenu\").scrollTo( {top:'0px',left:+'0px'}, 0 );\r\n                //\u91cd\u65b0\u7ed1\u5b9a\u83dc\u5355\u9879onclick\u4e8b\u4ef6\r\n                lMNavEventRebind(jQuery(ele).children(\".slideItemText\").html());\r\n                //\u540c\u6b65\u83dc\u5355\u9ad8\u5ea6\r\n                syncLMHeight();\r\n                lMNavBindClick();\r\n                jQuery(content).show();\r\n                //\u9009\u4e2d\u7b2c\u4e00\u4e2a\u83dc\u5355\u9879\r\n                lMnavToFirstNav(isOpenFirstMenu);\r\n				updateHandleRequest();				\r\n            }  \r\n        });\r\n    }\r\n} \r\n\r\n\r\n\r\nfunction dymLMNav() {\r\n    var navCnt = 0;\r\n    var flag = (jQuery(\"#leftMenu\")[0].scrollHeight/leftMenuScrollHeight + \"\").indexOf(\".\"); \r\n    if (flag != -1 ) {\r\n        navCnt = parseInt(jQuery(\"#leftMenu\")[0].scrollHeight/leftMenuScrollHeight);\r\n    } else {\r\n        navCnt = parseInt(jQuery(\"#leftMenu\")[0].scrollHeight/leftMenuScrollHeight) - 1;\r\n    }\r\n    \r\n    var navSpan = \"\";\r\n    if (navCnt > 0) {\r\n        navSpan = \"<span navIndex=\\\"0\\\" style=\\\"display:inline-block;margin-left:3px;margin-right:3px;margin-top:1px;height:25px;width:25px;cursor:pointer;background:url(/wui/theme/ecology8/page/images/leftmenu/1_wev8.png);background-repeat: no-repeat;background-position: center center;\\\">&nbsp;</span>\";\r\n    }\r\n    \r\n    for (var i=1; i<=navCnt; i++) {\r\n        navSpan += \"<span navIndex=\\\"\" + i + \"\\\" style=\\\"display:inline-block;margin-left:3px;margin-right:3px;margin-top:1px;height:25px;width:25px;cursor:pointer;background:url(/wui/theme/ecology8/page/images/leftmenu/lm_nav_wev8.png);background-repeat: no-repeat;background-position: center center;\\\">&nbsp;</span>\";                \r\n    }\r\n    \r\n    jQuery(\"#navTd\").html(navSpan)\r\n}\r\n\r\n\r\nvar currentNav = 0;\r\nfunction lMNavBindClick() {\r\n    dymLMNav();\r\n    jQuery(\"#navTd span\").bind(\"click\", function() {lMNavClick(jQuery(this));});\r\n    \r\n    jQuery(\"#navTd span\").hover(function(){\r\n        $this = jQuery(this);\r\n        var navIndex = $this.attr(\"navIndex\");\r\n        if (currentNav != navIndex) {\r\n            $this.css(\"background\", \"url(/wui/theme/ecology8/page/images/leftmenu/\" + (parseInt(navIndex) + 1) + \".png) no-repeat \");\r\n			$this.css(\"background-position\",\"center center\")\r\n        }\r\n        \r\n    }, function() {\r\n        $this = jQuery(this);\r\n        var navIndex = $this.attr(\"navIndex\");\r\n        if (currentNav != navIndex) {\r\n            $this.css(\"background\", \"url(/wui/theme/ecology8/page/images/leftmenu/lm_nav_wev8.png) no-repeat\");\r\n			$this.css(\"background-position\",\"center center\")\r\n        }\r\n        \r\n    });\r\n}\r\n\r\nfunction lMNavClick($this) {\r\n    var navIndex = $this.attr(\"navIndex\");\r\n    currentNav = navIndex;\r\n    $this.parent().children('span').css(\"background\", \"url(/wui/theme/ecology8/page/images/leftmenu/lm_nav_wev8.png) no-repeat\");\r\n	$this.parent().children('span').css(\"background-position\",\"center center\")\r\n    \r\n    $this.css(\"background\", \"url(/wui/theme/ecology8/page/images/leftmenu/\" + (parseInt(navIndex) + 1) + \".png) no-repeat\");\r\n    $this.css(\"background-position\",\"center center\")\r\n    jQuery(\"#leftMenu\").scrollTo( {top: navIndex * leftMenuScrollHeight + 'px',left:+'0px'}, leftMenuScrollSpeed );\r\n}\r\n\r\n/**\r\n * \u79fb\u52a8\u7b2c\u4e00\u4e2a\u83dc\u5355\u7684\u5bfc\u822a\u4f4d\u7f6e\r\n */\r\nfunction navMoveFstIfrmClk(_this) {\r\n        \r\n        var abg = jQuery(_this).attr(\"_bgPosition\");        \r\n		var htmText = jQuery(_this).find(\".leftMenuItemCenter\").text();\r\n		//\u53d6\u5f97\u83dc\u5355\u9879\u7684\u591a\u7ea7\u6807\u5fd7\uff08\u7bad\u5934\u56fe\u7247\uff09\r\n        var htmImg = jQuery(jQuery(_this)[0]).html().substring(0, jQuery(jQuery(_this)[0]).html().toUpperCase().indexOf(\"<DIV\"));\r\n		jQuery(\".leftMenuItemNavLeft\").css(\"background-position\", abg);\r\n		jQuery(\".leftMenuItemNavRight\").css(\"background-position\", abg);\r\n		jQuery(\".leftMenuItemNavCenter\").css(\"background-position\", abg).html(\"<span title='\" + htmText + \"' >\" + htmText + \"</span>\");\r\n		\r\n}\r\n\r\nfunction lMnavToFirstNav(isOpenFirstMenu) {\r\n	var first ;\r\n	  \r\n	if(isOpenFirstMenu!=false){\r\n		first = jQuery(\"#drillmenu ul li a\").get(0);\r\n	}else{\r\n		//alert(jQuery(\"#portal\"+defaultHpid).attr(\"href\"))\r\n		first = jQuery(\"#portal\"+defaultHpid).get(0);\r\n		//alert($(first).attr(\"isfirstlevel\"))\r\n		if($(first).attr(\"isfirstlevel\")==undefined||$(first).attr(\"isfirstlevel\")==\"false\"){\r\n			\r\n			var parent = $(first).parents(\"li\").find(\"a[isfirstlevel='true']\");\r\n			//alert('do'+parent.length)\r\n			toggleMenu(parent);\r\n		}\r\n	}\r\n    var parentid = jQuery(first).find(\"span.e8_number\").attr(\"id\");\r\n    if(parentid && (parentid==\"num_11\"||parentid==\"num_583\")){//\u901a\u4fe1\u83dc\u5355\u7279\u6b8a\u5904\u7406\r\n    	jQuery(\".aSelected\").removeClass(\"aSelected\");\r\n    	first = jQuery(first).closest(\"li\").children(\"ul\").children(\"li\").find(\"a\").get(0);\r\n    }\r\n    var openFlag = jQuery(jQuery(\"#drillmenu ul li\")[0]).children(\".drillmenu\").length;\r\n   //alert(openFlag);\r\n    var hphf = jQuery(first).attr(\"href\");\r\n\r\n    if((hphf != undefined && hphf != null && hphf != \"\" && hphf.indexOf(\"Homepage.jsp\") != -1) || openFlag == 0 ) {\r\n\r\n       if (first != undefined && first != null && first != \"\") {\r\n            navMoveFstIfrmClk(first);\r\n            if (checkHref(hphf)) {\r\n\r\n            	lMOpenUrl(jQuery(first));\r\n            	//jQuery(\"#mainFrame\").attr(\"src\", jQuery(first).attr(\"href\"));\r\n            }\r\n			//jQuery(\"#drillmenu\").css(\"width\",jQuery(\"#leftmenucontainer\").css(\"width\"));\r\n		  jQuery(first).closest(\"li\").addClass(\"liSelected\");\r\n		  jQuery(first).children(\"div\").addClass(\"aSelected\");\r\n		  /*window.setTimeout(function(){\r\n			  var dest = jQuery(first).find(\"span.bzCls\");\r\n			  var destImage = dest.css(\"background-image\");\r\n			  try{\r\n			  	  if(destImage.indexOf(\"_sel\")==-1){\r\n				  	destImage = destImage.replace(\".png\",\"_sel_wev8.png\");\r\n				  }\r\n				  dest.css(\"background-image\",destImage);\r\n				}catch(e){}\r\n			},100);*/\r\n		  try{\r\n				//eval(jQuery(first).attr(\"oldClick\"));\r\n		  }catch(e){}\r\n			//lMOpenUrl(jQuery(first));\r\n        } \r\n    }\r\n}\r\n\r\nfunction checkHref(mhref){\r\n	if(mhref != undefined && mhref != null && mhref != \"\" && mhref.indexOf(\"void(0)\") != -1)\r\n		return false;\r\n	return true;\r\n}\r\n\r\nfunction lMNavEventRebind(fnavUrlName, isPortal) {\r\n    //\u53d6\u6d88\u4e8b\u4ef6\u7ed1\u5b9a\r\n    jQuery(\".drillmenu ul li a\").unbind(\"click\");\r\n    //\u91cd\u65b0\u7ed1\u5b9a\u4e8b\u4ef6\r\n    jQuery(\".drillmenu ul li a\").bind(\"click\", function() {\r\n        currMObj = this;\r\n        \r\n        if ((jQuery(this) != undefined \r\n                && jQuery(this).attr(\"href\") != undefined\r\n                && jQuery(this).attr(\"href\") != \"\"\r\n                && jQuery(this).attr(\"href\") != \"#\"\r\n                )\r\n                || isPortal == true) {\r\n			jQuery(\"#drillmenu\").find(\"li.liSelected\").removeClass(\"liSelected\");\r\n			 if(jQuery(this).attr(\"isfirstlevel\")==\"true\"){\r\n				/*var src = jQuery(\"#drillmenu\").find(\"div.aSelected\").find(\"span.bzCls\");\r\n				 var srcImage  = src.css(\"background-image\");\r\n				 try{\r\n					 srcImage = srcImage.replace(/_sel/g,\"\");\r\n				     src.css(\"background-image\",srcImage);\r\n				  }catch(e){}*/\r\n			}\r\n			//jQuery(\"#drillmenu\").css(\"width\",jQuery(\"#leftmenucontainer\").css(\"width\"));\r\n		   jQuery(\"#drillmenu\").find(\"div\").removeClass(\"aSelected\");\r\n		   jQuery(\"#freqUseBlk\").find(\".aSelected\").removeClass(\"aSelected\");\r\n		  jQuery(this).closest(\"li\").addClass(\"liSelected\");\r\n		  jQuery(this).children(\"div\").addClass(\"aSelected\");\r\n		  if(jQuery(this).attr(\"isfirstlevel\")==\"true\"){\r\n			  /*var dest = jQuery(this).find(\"span.bzCls\");\r\n			  var destImage = dest.css(\"background-image\");\r\n			  try{\r\n			  	if(destImage.indexOf(\"_sel\")==-1){\r\n				  destImage = destImage.replace(\".png\",\"_sel_wev8.png\");\r\n				}\r\n				  dest.css(\"background-image\",destImage);\r\n				}catch(e){}*/\r\n			}\r\n		eval(jQuery(this).attr(\"oldclick\"));\r\n			lMOpenUrl(jQuery(this));\r\n			navMoveIfrmClk(this);\r\n			if(!isJSOpen(jQuery(this)))\r\n               return false;\r\n        }\r\n    });\r\n    \r\n    jQuery(\"#drillmenu\").unbind();\r\n    jQuery(\"#drillcrumb\").unbind();\r\n\r\n	try{\r\n		if(fnavUrlName == undefined || fnavUrlName == null || fnavUrlName== \"\"){\r\n			fnavUrlName=\"".toCharArray();
    _jsp_string7 = "\"!=\"1\"){\r\n        	isOpenFirstMenu=true;\r\n        }\r\n        \r\n        lMnavToFirstNav(isOpenFirstMenu);\r\n       updateHandleRequest();\r\n        \r\n    } else if (paramValue == \"110\" || paramValue == \"114\" || paramValue == \"111\") {\r\n        //\u6e05\u7a7a\u6eda\u52a8\u5bfc\u822a\u9879\r\n        jQuery(\"#navTd\").html(\"\");\r\n        currMObj = null;\r\n        //\u9690\u85cf\u5bfc\u822a\r\n        //loadding...\r\n        jQuery(\"#drillmenu\").html(\"<span style=\\\"align:center;padding-top:50px;padding-left:50px;\\\"><img src=\\\"/wui/theme/ecology8/page/images/leftmenu/loader_wev8.gif\\\"></span>\");\r\n        \r\n        jQuery(\"#drillcrumb\").html(paramValue == \"114\" ? \"".toCharArray();
    _jsp_string3 = "\r\n	</div>\r\n</div>\r\n\r\n\r\n<!--<div class=\"navclass leftMenuBottomNavDiv\">\r\n	<table align=\"center\" height=\"27px\" cellpadding=\"0px\" cellspacing=\"0px\" width=\"100%\" class=\"leftMenuBottomNavTbl\">\r\n		<tr>\r\n			<td align=\"center\" id=\"navTd\">\r\n			<td>\r\n		</tr>\r\n	</table>\r\n</div>-->\r\n\r\n\r\n<script type=\"text/javascript\">\r\n\r\n/**\r\n * \u5de6\u4fa7\u83dc\u5355\u6700\u591a\u663e\u793a\u83dc\u5355\u9879\u6570\u76ee\r\n */\r\nvar leftMenuMaxItem = 7;\r\n/**\r\n * \u83dc\u5355\u6eda\u52a8\u901f\u5ea6\r\n */\r\nvar leftMenuScrollSpeed = 200;\r\n\r\n/**\r\n * \u83dc\u5355\u6bcf\u9875\u663e\u793a\u7684\u9ad8\u5ea6\r\n */\r\nvar leftMenuScrollHeight = leftMenuMaxItem * 28;\r\n//---------------------------------------------------------------\r\n//\u5de6\u4fa7\u83dc\u5355\u6700\u591a\u663e\u793a\u83dc\u5355\u9ad8\u5ea6,\u7531\u7cfb\u7edf\u81ea\u52a8\u7b97\u51fa\r\nvar LEFT_MENU_MAX_HEIGHT = leftMenuMaxItem * 28;\r\n//\u5de6\u4fa7\u83dc\u5355\u663e\u793a\u7684\u83dc\u5355\u9879\u9ed1\u5ea6\r\nvar LEFT_MENU_ITEM_HEIGHT = 28;\r\n//\u83dc\u5355\u5bbd\u5ea6\r\nvar leftMenuItemWidth = 175;\r\n//---------------------------------------------------------------\r\n\r\nvar defaultHpid=\"".toCharArray();
    _jsp_string9 = "\" : \"".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string1 = "\r\n\r\n<script type=\"text/javascript\">\r\n\r\nfunction Map() {    \r\n    var struct = function(key, value) {    \r\n        this.key = key;    \r\n        this.value = value;    \r\n    }    \r\n     \r\n    var put = function(key, value){    \r\n        for (var i = 0; i < this.arr.length; i++) {    \r\n            if ( this.arr[i].key === key ) {    \r\n                this.arr[i].value = value;    \r\n                return;    \r\n            }    \r\n        }    \r\n        this.arr[this.arr.length] = new struct(key, value);    \r\n    }    \r\n         \r\n    var get = function(key) {    \r\n        for (var i = 0; i < this.arr.length; i++) {    \r\n            if ( this.arr[i].key === key ) {    \r\n                return this.arr[i].value;    \r\n            }    \r\n        }    \r\n        return null;    \r\n    }    \r\n         \r\n    var remove = function(key) {    \r\n        var v;    \r\n        for (var i = 0; i < this.arr.length; i++) {    \r\n            v = this.arr.pop();    \r\n            if ( v.key === key ) {    \r\n                continue;    \r\n            }    \r\n            this.arr.unshift(v);    \r\n        }    \r\n    }    \r\n         \r\n    var size = function() {    \r\n        return this.arr.length;    \r\n    }    \r\n         \r\n    var isEmpty = function() {    \r\n        return this.arr.length <= 0;    \r\n    }    \r\n       \r\n    this.arr = new Array();    \r\n    this.get = get;    \r\n    this.put = put;    \r\n    this.remove = remove;    \r\n    this.size = size;    \r\n    this.isEmpty = isEmpty;    \r\n}\r\n\r\n</script>\r\n\r\n".toCharArray();
    _jsp_string5 = "'}\r\n    );*/\r\n	 jQuery(\".arrowclass\").css(\"position\",\"\").css(\"position\",\"absolute\"); \r\n    //--------------------------------------------------------\r\n    // \u7ed1\u5b9a\u4e8b\u4ef6\r\n    //--------------------------------------------------------\r\n    jQuery(\".drillmenu ul li a\").bind(\"click\", function() {\r\n		\r\n		//alert(jQuery(this).get(0));\r\n		//jQuery(this).get(0).onclick();\r\n		\r\n        currMObj = this;\r\n        if(!selFlg) {\r\n            selFlg = true;\r\n            jQuery(\"#leftMenu\").scrollTo( {top:'0px',left:+'0px'}, 0 );\r\n        } else {\r\n		   jQuery(\"#drillmenu\").find(\"li.liSelected\").removeClass(\"liSelected\");\r\n		 \r\n		    jQuery(\"#drillmenu\").find(\"div\").removeClass(\"aSelected\");\r\n		    jQuery(\"#freqUseBlk\").find(\".aSelected\").removeClass(\"aSelected\");\r\n		   jQuery(\"#drillmenu\").css(\"width\",jQuery(\"#leftmenucontainer\").css(\"width\"));\r\n		  jQuery(this).closest(\"li\").addClass(\"liSelected\");\r\n		  jQuery(this).children(\"div\").addClass(\"aSelected\");\r\n		\r\n		  \r\n        }\r\n        lMOpenUrl(jQuery(this));\r\n        if(!isJSOpen(jQuery(this)))\r\n           return false;\r\n    });\r\n    //-------------------------------------------------------\r\n    lMNavBindClick();\r\n	\r\n    syncLMHeight();\r\n    if(jQuery(\"#mainFrame\").attr(\"src\")==\"\"){\r\n    	\r\n    	if(defaultHpid!=0){\r\n        	isOpenFirstMenu = false;\r\n        }else{\r\n        	isOpenFirstMenu=true;\r\n        }\r\n        if(\"".toCharArray();
    _jsp_string4 = "\";\r\nfunction setLeftMenuItemFontLt() {\r\n	jQuery(\".drillmenu li a\").css(\"padding\", \"5px 5px 4px 20px\");\r\n	\r\n}\r\n\r\nfunction setLeftMenuHeight(size) {\r\n	//jQuery(\".drillmenu\").css(\"width\", size + \"px\");//    175\r\n	\r\n	if (size < 150) {\r\n		setLeftMenuItemFontLt();\r\n	}\r\n}\r\n\r\n//-------------------------------------\r\n// 20110526 \u81ea\u9002\u5e94\u5bbd\u5ea6 start\r\n//-------------------------------------\r\nfunction setLeftMenuItemANavHeight(size) {\r\n	jQuery(\".leftMenuItemRight\").css(\"left\", size -  5 + \"px\");\r\n	//jQuery(\".leftMenuItemCenter\").css(\"width\", size - 16 + \"px\");\r\n	\r\n	jQuery(\".leftMenuItemNavRight\").css(\"left\", size + 1 + \"px\");\r\n	jQuery(\".leftMenuItemNavCenter\").css(\"width\", size - 10 + \"px\");\r\n}\r\n\r\nfunction leftMenuInit() {\r\n	\r\n	var clientScreenHeight = window.screen.height;\r\n	var clientScreenWidth = window.screen.width;\r\n	if (clientScreenWidth < 1280) {\r\n		clientScreenWidth = 1280;\r\n	}\r\n    var tpLeftMenuMaxHeight = Math.round(clientScreenHeight / 2.8);\r\n    var tpLeftMenuMaxWidth = Math.round(clientScreenWidth / 8); //8\r\n    \r\n    \r\n    leftMenuMaxItem = Math.round(tpLeftMenuMaxHeight/28);\r\n    //alert(tpLeftMenuMaxWidth);\r\n    leftMenuItemWidth = tpLeftMenuMaxWidth;\r\n	\r\n	setLeftMenuHeight(leftMenuItemWidth);\r\n	setLeftMenuItemANavHeight(leftMenuItemWidth);\r\n	\r\n    \r\n    leftMenuScrollSpeed = 200;\r\n    leftMenuScrollHeight = leftMenuMaxItem * 28;\r\n    LEFT_MENU_MAX_HEIGHT = leftMenuMaxItem * 28;\r\n}\r\n\r\nleftMenuInit();\r\n\r\nvar shiftKeyFlag = false;\r\nvar leftcontainmenuWidth = 0;\r\njQuery(document).ready(function(event) {\r\n 	//\u8bbe\u7f6e\u5de6\u4fa7\u83dc\u5355\u9ad8\u5ea6\r\n    //jQuery(\"#leftMenu\").height(LEFT_MENU_MAX_HEIGHT);\r\n    //\u5de6\u4fa7\u83dc\u5355\u5bfc\u822a\r\n   /* var myLftMenu = new drilldownmenu(\r\n        {menuid: 'drillmenu',menuheight: 'auto',breadcrumbid: 'drillcrumb',persist: {enable: false, overrideselectedul: false},speed:0,homeDir:'".toCharArray();
    _jsp_string2 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/plugin/jquery.scrollTo_wev8.js\"></script>\r\n\r\n\r\n\r\n<div class=\"leftMenuTopNavDiv\">\r\n	<div id=\"drillcrumb\">\r\n	</div>\r\n</div>\r\n<div id=\"leftMenu\" style=\"z-index:20px;position:relative;\">\r\n	<div id=\"drillmenu\" class=\"drillmenu content\">\r\n		".toCharArray();
    _jsp_string11 = "\";\r\n		}\r\n	}catch(e){\r\n	}\r\n       \r\n}\r\n\r\nfunction navMoveIfrmClk(_this) {\r\n        \r\n        var abg = jQuery(_this).attr(\"_bgPosition\");        \r\n		var htmText = jQuery(_this).find(\".leftMenuItemCenter\").text();;\r\n		var htmImg = jQuery(jQuery(_this)[0]).html().substring(0, jQuery(jQuery(_this)[0]).html().toUpperCase().indexOf(\"<DIV\"));\r\n		jQuery(\".leftMenuItemNavLeft\").css(\"background-position\", abg);\r\n		jQuery(\".leftMenuItemNavRight\").css(\"background-position\", abg);\r\n		jQuery(\".leftMenuItemNavCenter\").css(\"background-position\", abg).html(\"<span title='\" + htmText + \"' >\" + htmText + \"</span>\");\r\n}\r\n\r\n\r\n\r\nfunction syncLMHeight() {\r\n     //\u540c\u6b65\u83dc\u5355\u9ad8\u5ea6\r\n       //jQuery(\"#drillmenu\").height(jQuery(\"#drillmenu ul\").height());\r\n	   //jQuery(\"#drillmenu\").height(jQuery(\"#leftmenucontainer\").height()-jQuery(\"#lftop\").height()-jQuery(\"#drillcrumb\").closest(\"div\").height()-jQuery(\"#leftBlock_HrmDiv\").closest(\"table\").height()+21);\r\n       /* if (jQuery(\"#drillmenu ul\").height() < LEFT_MENU_MAX_HEIGHT) {\r\n            //jQuery(\"#leftMenu\").height(jQuery(\"#drillmenu\").height());\r\n			jQuery(\"#leftMenu\").height(jQuery(\"#leftmenucontainer\").height()-jQuery(\"#lftop\").height()-jQuery(\"#drillcrumb\").closest(\"div\").height()-jQuery(\"#leftBlock_HrmDiv\").closest(\"table\").height()-jQuery(\"#lftop\").height()+68);\r\n            setMainElementHeight(jQuery(\"#drillmenu\").height());\r\n        } else {\r\n            //jQuery(\"#leftMenu\").height(LEFT_MENU_MAX_HEIGHT);\r\n			jQuery(\"#leftMenu\").height(jQuery(\"#leftmenucontainer\").height()-jQuery(\"#lftop\").height()-jQuery(\"#drillcrumb\").closest(\"div\").height()-jQuery(\"#leftBlock_HrmDiv\").closest(\"table\").height()+68);\r\n            setMainElementHeight(LEFT_MENU_MAX_HEIGHT);\r\n        }*/\r\n		jQuery(\"#leftmenucontainer\").height(jQuery(window).height()-jQuery(\"#lftop\").height());\r\n		if(isIE()){\r\n			setBodyScroll();\r\n			jQuery(\"#leftMenu\").height(jQuery(\"#leftmenucontainer\").height()-jQuery(\"#lftop\").height()-jQuery(\"#drillcrumb\").closest(\"div\").height()-jQuery(\"#leftBlock_HrmDiv\").closest(\"div\").height()-jQuery(\"#freqUseBlk\").height()-jQuery(\"#lftop\").height()+39);\r\n		}else {\r\n			setBodyScroll();\r\n			jQuery(\"#leftMenu\").height(jQuery(\"#leftmenucontainer\").height()-jQuery(\"#lftop\").height()-jQuery(\"#drillcrumb\").closest(\"div\").height()-jQuery(\"#leftBlock_HrmDiv\").closest(\"div\").height()-jQuery(\"#freqUseBlk\").height()-jQuery(\"#lftop\").height()+42);\r\n		}\r\n            setMainElementHeight(jQuery(\"#drillmenu\").height());\r\n}\r\n\r\nfunction syncLMHeightForMail() {\r\n    //\u540c\u6b65\u83dc\u5355\u9ad8\u5ea6\r\n    var clientScreenHeight = document.body.clientHeight;\r\n    tpLeftMenuMaxHeight = clientScreenHeight-290\r\n    jQuery(\"#leftMenu\").height(tpLeftMenuMaxHeight);\r\n    jQuery(\"#drillmenu\").height(tpLeftMenuMaxHeight);\r\n    \r\n    setMainElementHeight(tpLeftMenuMaxHeight);\r\n     \r\n}\r\n\r\n\r\nfunction lMOpenUrl($this) {\r\n	var _target = $this.attr(\"target\");\r\n	\r\n	try{		\r\n		if (getEvent().shiftKey || shiftKeyFlag) {\r\n			_target = \"_blank\";\r\n			shiftKeyFlag = false;\r\n		}\r\n	}catch(e){}\r\n	\r\n	var linksrc = $this.attr(\"href\");\r\n	var host = document.location.host;\r\n	var flag = false;\r\n	if(linksrc.indexOf(\"javascript\")==-1){\r\n		if(linksrc.substring(linksrc.lastIndexOf(\"/\"))!=\"/\"){\r\n			if(linksrc.indexOf(\".html\")==-1){\r\n				if(linksrc.indexOf(host)>-1){\r\n					flag = true;\r\n				}else if(linksrc.charAt(0)=='/'){\r\n					flag = true;\r\n				}\r\n			}\r\n		}\r\n		if(flag){\r\n			if (linksrc.indexOf(\"?\") != -1) {\r\n				linksrc += \"&\";\r\n			} else {\r\n				linksrc += \"?\";\r\n			}			\r\n			linksrc += \"e7\" + new Date().getTime() + \"=\";\r\n		}\r\n		try{\r\n		if(linksrc.toLowerCase().indexOf(\"ftp\")!=-1){\r\n			linksrc = $this.attr(\"href\");\r\n		}\r\n		window.open(linksrc, _target);\r\n		}catch(e){}\r\n	}\r\n} \r\n\r\nfunction isJSOpen($this){\r\n   var linksrc = $this.attr(\"href\");\r\n   if(linksrc.indexOf(\"javascript\")==-1)\r\n      return false;\r\n   else \r\n      return true;   \r\n}\r\n\r\nfunction randomChar(l) {\r\n    var x=\"123456789poiuytrewqasdfghjklmnbvcxzQWERTYUIPLKJHGFDSAZXCVBNM\";\r\n    var tmp=\"\";\r\n    for(var i=0; i< l; i++) {\r\n        tmp += x.charAt(Math.ceil(Math.random()*100000000)%x.length);\r\n    }\r\n  return tmp;\r\n}\r\n\r\n\r\n\r\nfunction getEvent() {\r\n	if (window.ActiveXObject) {\r\n		return window.event;// \u5982\u679c\u662fie\r\n	}\r\n	func = getEvent.caller;\r\n	while (func != null) {\r\n		var arg0 = func.arguments[0];\r\n		if (arg0) {\r\n			if ((arg0.constructor == Event || arg0.constructor == MouseEvent)\r\n					|| (typeof (arg0) == \"object\" && arg0.preventDefault && arg0.stopPropagation)) {\r\n				return arg0;\r\n			}\r\n		}\r\n		func = func.caller;\r\n	}\r\n	return null;\r\n}\r\n</script>\r\n\r\n<script type=\"text/javascript\" src=\"/wui/theme/ecology8/page/js/treeMenu_wev8.js\"></script>".toCharArray();
    _jsp_string8 = "\" : (paramValue == \"110\" ? \"".toCharArray();
  }
}
