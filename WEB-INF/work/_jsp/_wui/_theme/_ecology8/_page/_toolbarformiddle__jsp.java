/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._wui._theme._ecology8._page;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.systeminfo.SystemEnv;
import weaver.hrm.HrmUserVarify;
import weaver.hrm.User;
import weaver.hrm.report.schedulediff.HrmScheduleDiffUtil;
import weaver.general.Util;
import weaver.rtx.RTXConfig;
import java.util.*;
import java.text.*;
import java.sql.Timestamp;
import weaver.general.GCONST;
import weaver.file.Prop;
import weaver.general.TimeUtil;

public class _toolbarformiddle__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;

  
  private String formatDate(String format, Date date) {
  	SimpleDateFormat sdf = new SimpleDateFormat(format);
  	Calendar calendar = Calendar.getInstance();
  	if (date == null) {
  		date = new Date();
  	}
  	calendar.setTime(date);
      return sdf.format(calendar.getTime());
  }

  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      

String nowtime=TimeUtil.getCurrentTimeString();

String time8=TimeUtil.getCurrentDateString()+" 00:00:00";
//out.print(nowtime);
//out.print(time8);
//out.print("<br>");
long ll=TimeUtil.timeInterval(nowtime,time8);



      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet signRs;
      signRs = (weaver.conn.RecordSet) pageContext.getAttribute("signRs");
      if (signRs == null) {
        signRs = new weaver.conn.RecordSet();
        pageContext.setAttribute("signRs", signRs);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.rtx.RTXClientCom rtxClient;
      rtxClient = (weaver.rtx.RTXClientCom) pageContext.getAttribute("rtxClient");
      if (rtxClient == null) {
        rtxClient = new weaver.rtx.RTXClientCom();
        pageContext.setAttribute("rtxClient", rtxClient);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.hrm.report.schedulediff.HrmScheduleDiffUtil hrmScheduleDiffUtil;
      hrmScheduleDiffUtil = (weaver.hrm.report.schedulediff.HrmScheduleDiffUtil) pageContext.getAttribute("hrmScheduleDiffUtil");
      if (hrmScheduleDiffUtil == null) {
        hrmScheduleDiffUtil = new weaver.hrm.report.schedulediff.HrmScheduleDiffUtil();
        pageContext.setAttribute("hrmScheduleDiffUtil", hrmScheduleDiffUtil);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.license.PluginUserCheck PluginUserCheck;
      PluginUserCheck = (weaver.license.PluginUserCheck) pageContext.getAttribute("PluginUserCheck");
      if (PluginUserCheck == null) {
        PluginUserCheck = new weaver.license.PluginUserCheck();
        pageContext.setAttribute("PluginUserCheck", PluginUserCheck);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      
    /*\u7528\u6237\u9a8c\u8bc1*/
    User user = HrmUserVarify.getUser(request, response);
    if (user == null) {
        response.sendRedirect("/login/Login.jsp");
        return;
    }

	 String skin = (String)request.getAttribute("REQUEST_SKIN_FOLDER");
	//------------------------------------
	//\u7b7e\u5230\u90e8\u5206 Start
	//------------------------------------
	String[] signInfo = HrmScheduleDiffUtil.getSignInfo(user);
	boolean isNeedSign = Boolean.parseBoolean(signInfo[0]);
	String sign_flag = signInfo[1];
	String signType = signInfo[2];
	//------------------------------------
	//\u7b7e\u5230\u90e8\u5206 End
	//------------------------------------
    
int userId=user.getUID();
boolean canMessager=false;
boolean isHaveEMessager=Prop.getPropValue("Messager2","IsUseEMessager").equalsIgnoreCase("1");
boolean isHaveMessager=Prop.getPropValue("Messager","IsUseWeaverMessager").equalsIgnoreCase("1");
int isHaveMessagerRight = PluginUserCheck.checkPluginUserRight("messager",userId+"");
if((isHaveMessager&&userId!=1&&isHaveMessagerRight==1)||isHaveEMessager){
	canMessager=true;
}


      out.write(_jsp_string3, 0, _jsp_string3.length);
      out.print((SystemEnv.getHtmlLabelName(26273, user.getLanguage())));
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((SystemEnv.getHtmlLabelName(20033,user.getLanguage())));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((SystemEnv.getHtmlLabelName(26987,user.getLanguage())));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((SystemEnv.getHtmlLabelName(26983,user.getLanguage())));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      out.print((String.valueOf(isNeedSign && "1".equals(signType))));
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((SystemEnv.getHtmlLabelName(21415,user.getLanguage())));
      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((signType));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      out.print((SystemEnv.getHtmlLabelName(490,user.getLanguage())));
      out.write(_jsp_string11, 0, _jsp_string11.length);
      out.print((SystemEnv.getHtmlLabelName(16900,user.getLanguage()) ));
      out.write(_jsp_string12, 0, _jsp_string12.length);
      out.print((SystemEnv.getHtmlLabelName(84128,user.getLanguage()) ));
      out.write(_jsp_string13, 0, _jsp_string13.length);
      out.print((SystemEnv.getHtmlLabelName(84128,user.getLanguage()) ));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((skin ));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((SystemEnv.getHtmlLabelName(227,user.getLanguage())));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      //=skin 
      out.write(_jsp_string17, 0, _jsp_string17.length);
      //=skin 
      out.write(_jsp_string18, 0, _jsp_string18.length);
      out.print((SystemEnv.getHtmlLabelName(1207,user.getLanguage())));
      out.write(_jsp_string19, 0, _jsp_string19.length);
      if(false && canMessager){
      out.write(_jsp_string20, 0, _jsp_string20.length);
      }
      out.write(_jsp_string21, 0, _jsp_string21.length);
      
						if (isNeedSign) {
							int tdWidth=60;
							if(user.getLanguage()==8){
								tdWidth = 75;
							}
						
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((tdWidth ));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((sign_flag ));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print(("1".equals(sign_flag) ? SystemEnv.getHtmlLabelName(20032,user.getLanguage()) : SystemEnv.getHtmlLabelName(20033,user.getLanguage()) ));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      
						}
						
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((SystemEnv.getHtmlLabelName(17499,user.getLanguage())));
      out.write(_jsp_string27, 0, _jsp_string27.length);
      out.print((skin ));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      out.print((SystemEnv.getHtmlLabelName(83516,user.getLanguage()) ));
      out.write(_jsp_string29, 0, _jsp_string29.length);
      out.print((SystemEnv.getHtmlLabelName(7171,user.getLanguage()) ));
      out.write(_jsp_string30, 0, _jsp_string30.length);
      out.print((SystemEnv.getHtmlLabelName(7171,user.getLanguage()) ));
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print((SystemEnv.getHtmlLabelName(28422,user.getLanguage()) ));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      out.print((SystemEnv.getHtmlLabelName(18014,user.getLanguage()) ));
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((SystemEnv.getHtmlLabelName(18014,user.getLanguage()) ));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      out.print((SystemEnv.getHtmlLabelName(774,user.getLanguage()) ));
      out.write(_jsp_string34, 0, _jsp_string34.length);
      out.print((SystemEnv.getHtmlLabelName(774,user.getLanguage()) ));
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((SystemEnv.getHtmlLabelName(567,user.getLanguage()) ));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((SystemEnv.getHtmlLabelName(1205,user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      out.print((isNeedSign?"":"quit"));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((SystemEnv.getHtmlLabelName(16628,user.getLanguage())));
      out.write(_jsp_string39, 0, _jsp_string39.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("wui/theme/ecology8/page/toolbarForMiddle.jsp"), -1252118723148459674L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("times.jsp"), 735047848302946529L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string37;
  private final static char []_jsp_string13;
  private final static char []_jsp_string7;
  private final static char []_jsp_string27;
  private final static char []_jsp_string5;
  private final static char []_jsp_string6;
  private final static char []_jsp_string14;
  private final static char []_jsp_string15;
  private final static char []_jsp_string29;
  private final static char []_jsp_string35;
  private final static char []_jsp_string8;
  private final static char []_jsp_string11;
  private final static char []_jsp_string26;
  private final static char []_jsp_string36;
  private final static char []_jsp_string25;
  private final static char []_jsp_string0;
  private final static char []_jsp_string31;
  private final static char []_jsp_string3;
  private final static char []_jsp_string16;
  private final static char []_jsp_string30;
  private final static char []_jsp_string10;
  private final static char []_jsp_string18;
  private final static char []_jsp_string12;
  private final static char []_jsp_string32;
  private final static char []_jsp_string28;
  private final static char []_jsp_string24;
  private final static char []_jsp_string17;
  private final static char []_jsp_string34;
  private final static char []_jsp_string1;
  private final static char []_jsp_string21;
  private final static char []_jsp_string4;
  private final static char []_jsp_string39;
  private final static char []_jsp_string19;
  private final static char []_jsp_string22;
  private final static char []_jsp_string23;
  private final static char []_jsp_string38;
  private final static char []_jsp_string33;
  private final static char []_jsp_string9;
  private final static char []_jsp_string20;
  private final static char []_jsp_string2;
  static {
    _jsp_string37 = "\" >\r\n			        	<div style=\"display:block;background:url(/wui/theme/ecology8/page/images/quitmiddle_wev8.png) no-repeat scroll center center;\"class=\"tbItm f12 ".toCharArray();
    _jsp_string13 = "';\r\n	if(obj.value== temp){\r\n		obj.value=\"\";\r\n	}\r\n	jQuery(obj).css(\"color\",\"#fff\");\r\n}\r\n\r\nfunction recoverVal(obj){\r\n	if(obj.value==''||obj.value==null){\r\n		obj.value=\"".toCharArray();
    _jsp_string7 = "</span>\";\r\n				targetSrc = \"/blog/blogView.jsp?menuItem=myBlog\";\r\n			}\r\n			\r\n			confirmContent += \"</div>\";\r\n			if (targetSrc != undefined && targetSrc != null && targetSrc != \"\") {\r\n				Dialog.confirm(\r\n					confirmContent, function (){\r\n						window.open(targetSrc);\r\n					}, function () {}, 520, 90,false\r\n			    );\r\n			} else {\r\n				Dialog.alert(confirmContent, function() {}, 520, 60,false);\r\n			}\r\n			\r\n		    return ;\r\n		}\r\n		confirmContent += \"</div>\";\r\n		Dialog.alert(confirmContent, function() {}, 520, 60,false);\r\n    });\r\n}\r\n\r\n\r\nfunction onCloseDivShowSignInfo(){\r\n    var showTableDiv  = document.getElementById('divShowSignInfo');\r\n    var oIframe = document.createElement('iframe');\r\n    \r\n    divShowSignInfo.style.display='none';\r\n    message_Div.style.display='none';\r\n    if (document.all.HelpFrame && document.all.HelpFrame.style) {\r\n        document.all.HelpFrame.style.display='none'\r\n    }\r\n}\r\n\r\nfunction ajaxInit(){\r\n    var ajax=false;\r\n    try {\r\n        ajax = new ActiveXObject(\"Msxml2.XMLHTTP\");\r\n    } catch (e) {\r\n        try {\r\n            ajax = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n        } catch (E) {\r\n            ajax = false;\r\n        }\r\n    }\r\n    if (!ajax && typeof XMLHttpRequest!='undefined') {\r\n    ajax = new XMLHttpRequest();\r\n    }\r\n    return ajax;\r\n}\r\nfunction getNowTime(){\r\n        //\u53d6\u5f97\u5f53\u524d\u65f6\u95f4\r\n        var now= new Date();\r\n        var hour=now.getHours();\r\n        \r\n        if (hour < 18) {\r\n            return false;\r\n        }\r\n        return true;\r\n}\r\n</script>\r\n\r\n\r\n<script type=\"text/javascript\">\r\n<!--\r\n    jQuery(document).ready(function() {\r\n    	//Added by wcd 2014-10-16\r\n    	/*if(\"".toCharArray();
    _jsp_string27 = "\" style=\"width:40px;background:url(/wui/theme/ecology8/page/images/moremiddle_wev8.png) no-repeat scroll center center;position:relative;\"> \r\n			        	<span style=\"display:block;\" class=\"tbItm\"></span>\r\n				   </td>\r\n					<td style=\"position:absolute;right:20px!important;top:40px;\">\r\n					<!--background-image:url(/wui/theme/ecology8/skins/".toCharArray();
    _jsp_string5 = "\");\r\n                \r\n                jQuery(\"#sign_dispan\").prev().attr(\"src\",\"/wui/theme/ecology8/page/images/signOut_wev8.png\")\r\n             \r\n                showPromptForShowSignInfo(ajax.responseText, signType);\r\n                jQuery(\"#sign_dispan\").attr(\"_signFlag\", 2);\r\n                if(navigator.userAgent.indexOf(\"MSIE\")>0 && navigator.userAgent.indexOf(\"MSIE 6.0\") > 0){  \r\n					DD_belatedPNG.fix('.tbItm,#toolbarMoreBlockTop,.searchBlockBgDiv,#sign_dispan,.topBlockDateBlock,.toolbarTopRight,background');\r\n				}\r\n            }catch(e){\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n//type  1:\u663e\u793a\u63d0\u793a\u4fe1\u606f\r\n//      2:\u663e\u793a\u8fd4\u56de\u7684\u5386\u53f2\u52a8\u6001\u60c5\u51b5\u4fe1\u606f\r\nfunction showPromptForShowSignInfo(content, signType){\r\n    var targetSrc = \"\";\r\n	content = jQuery.trim(content).replace(/&nbsp;/g, \"\");\r\n	var confirmContent = \"<div style=\\\"margin-left:5px;margin-right:5px;\\\">\" + content.substring(content.toUpperCase().indexOf('<TD VALIGN=\"TOP\">') + 17, content.toUpperCase().indexOf(\"<BUTTON\"));\r\n	\r\n    var checkday=\"\";\r\n	if(signType==1) checkday=\"prevWorkDay\";\r\n	if(signType==2) checkday=\"today\";\r\n	jQuery.post(\"/blog/blogOperation.jsp?operation=signCheck&checkday=\"+checkday,\"\",function(data){\r\n		var dataJson=eval(\"(\"+data+\")\");\r\n		if (dataJson.isSignRemind==1){\r\n		    if(!dataJson.prevWorkDayHasBlog&&signType==1){\r\n				confirmContent += \"<br><br><span style=\\\"color:red;\\\">".toCharArray();
    _jsp_string6 = "</span>\";\r\n				targetSrc = \"/blog/blogView.jsp?menuItem=myBlog\";\r\n			}else if(!dataJson.todayHasBlog&&signType==2){\r\n				confirmContent += \"<br><br><span style=\\\"color:red;\\\">".toCharArray();
    _jsp_string14 = "\";\r\n	 	jQuery(obj).css(\"color\",\"#429ce1\");\r\n	}\r\n}\r\n\r\n\r\n\r\n\r\n//-->\r\n</script>\r\n\r\n\r\n<STYLE TYPE=\"text/css\">\r\n    .tbItm{\r\n        cursor:pointer;\r\n        background-position: left center;\r\n        height:20px;\r\n        width:30px;\r\n		color:#fff;\r\n		font-size:14px;\r\n		color:rgb(205,205,205);\r\n       /* background:url(/wui/theme/ecology8/skins/".toCharArray();
    _jsp_string15 = "/page/ecologyShellImg_wev8.png);*/\r\n    }\r\n    \r\n    .tbItmNav{\r\n    	 cursor:pointer;\r\n    	 width:106px;\r\n    	 color:#fff;\r\n    }\r\n    \r\n    .toolbarItemSelected{\r\n        filter:alpha(opacity=99);-moz-opacity:0.99;\r\n    }\r\n\r\n	.searchkeywork {width: 112px;font-size: 12px;height:32px !important;margin-top:1;background:none;border:none !important;color:#333 ;line-height:30px;}\r\n	.dropdown {\r\n		padding-left:5px; \r\n		font-size:11px; \r\n		color:#000;\r\n		height:35px;\r\n		border-left:1px solid transparent;\r\n		border-top:1px solid transparent;\r\n		border-right:1px solid transparent;\r\n	}\r\n	.selectContent, .selectTile, .dropdown ul { margin:0px; padding:0px;}\r\n	.selectContent { position:relative;z-index:6; }\r\n	.dropdown a, .dropdown a:visited { color:#666666; text-decoration:none; outline:none;}\r\n	.dropdown a:hover { color:#5d4617;}\r\n	.selectTile a:hover { color:#5d4617;}\r\n	.selectTile a {background:none; display:block;width:40px;margin-left:4px;margin-top:1px;}\r\n	.selectTile a span {cursor:pointer; display:block; padding:6 0 0 0;background:none;height:25px;font-size:14px; }\r\n	.selectContent ul { \r\n		background:#fff none repeat scroll 0 0; \r\n		border-left:1px solid rgb(170,210,242); \r\n		border-right:1px solid rgb(170,210,242); \r\n		border-bottom:1px solid rgb(170,210,242); \r\n		color:#C5C0B0; \r\n		display:none;\r\n		left:-6px; \r\n		position:absolute; \r\n		top:8px; \r\n		width:66px; \r\n		min-width:50px; \r\n		list-style:none;}\r\n	.dropdown span.value { display:none;}\r\n	.selectContent ul li{list-style:none;!important;height:25px;}\r\n	.selectContent ul li a { padding:2px 0 2px 0px; display:block;margin:0;width:66px;height:21px;font-size:14pt; }\r\n	.selectContent ul li a:hover { background-color:#218bde;color:#fff!important;}\r\n	.selectContent ul li a img {border:none;vertical-align:middle;}\r\n	.selectContent ul li a span {margin-left:5px;}\r\n	.flagvisibility { display:none;}\r\n	.sampleSelected{\r\n		background-color:#fff;\r\n		border-left:1px solid rgb(170,210,242);\r\n		border-top:1px solid rgb(170,210,242);\r\n		border-right:1px solid rgb(170,210,242);\r\n	}\r\n	.sampleSelected .selectTile a span{\r\n		color:#228cdf!important;\r\n	}\r\n	.sampleSelected .selectTile a div{\r\n		color:#fff!important;\r\n	}\r\n	.sampleSelected .e8_dropdown{\r\n		background-image:url(/wui/theme/ecology8/page/images/toolbar/up_wev8.png)!important;\r\n	}\r\n	.dropdown .e8_dropdown{\r\n		background-image:url(/wui/theme/ecology8/page/images/toolbar/down_wev8.png);\r\n		width:12px;\r\n		height:12px;\r\n		float:left;\r\n		margin-top:10px;\r\n		background-position:50% 50%;\r\n	}\r\n\r\n</STYLE>\r\n<iframe id=\"downLoadReg\" style=\"display: none;\"></iframe>\r\n<div class=\"absolute\" style=\"top:0px;right:0px;\">\r\n<table align=\"right\" style=\"height:50px;\"  cellpadding=\"0px\" cellspacing=\"0px\" >\r\n	<tr width=\"100%\">\r\n       \r\n		<td width=\"100%\">\r\n    	    <TABLE style=\"height:100%;\" cellpadding=\"0px\" cellspacing=\"0px\"  width=\"100%\" align=\"right\">\r\n    	    	<tr align=\"left\">\r\n    	    		<!-- \u4e3b\u9875 -->\r\n			       <!-- <td onClick=\"javascript:dymlftenu(this);\" title=\"".toCharArray();
    _jsp_string29 = "</span>\r\n							</div>\r\n							\r\n							<div class=\"moreBtn_option\" style=\"\"  onclick=\"javascript:goopenWindow('".toCharArray();
    _jsp_string35 = "</span></div>\r\n							<div class=\"moreBtn_option\" onclick=\"javascript:showVersion()\">\r\n							<span  class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/version_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string8 = "\" == \"true\"){\r\n			Dialog.confirm(\"".toCharArray();
    _jsp_string11 = "\";\r\n	diag_xx.Modal = false;\r\n\r\n	diag_xx.URL = \"/calendar/wnl2.jsp\";\r\n	diag_xx.show();\r\n}\r\n\r\nfunction setSafeSite(){\r\n  jQuery(\"#downLoadReg\").attr(\"src\",\"/weaverplugin/EcologyPlugin.zip\");\r\n}\r\n//-->\r\n</script>\r\n\r\n<script type=\"text/javascript\">\r\n<!--\r\nfunction toolbarSearchIframeOnload(_this) {\r\n}\r\n//function showVersion(){\r\n//	 about=window.showModalDialog(\"/systeminfo/version.jsp\",\"\",\"dialogHeight:460px;dialogwidth:660px;help:no\");\r\n//}\r\n\r\nfunction showVersion(){	\r\n	var dlg=new window.top.Dialog();//\u5b9a\u4e49Dialog\u5bf9\u8c61\r\n	var url = \"/systeminfo/version.jsp\";\r\n	var title = \"".toCharArray();
    _jsp_string26 = "\r\n			        \r\n			        <td id=\"toolbarMoreBtn\" onclick=\"javascript:toolbarMore();\" title=\"".toCharArray();
    _jsp_string36 = "</span></div>\r\n						</div>\r\n					</td>\r\n					 \r\n			        <td style=\"\" onclick=\"logout()\" title=\"".toCharArray();
    _jsp_string25 = "\r\n							</div>\r\n						</div>\r\n						</td>\r\n						<td >\r\n							<div style=\"width: 1px;background: #ffffff;opacity:0.2;margin-top:10px;margin-bottom: 10px;height: 20px\">\r\n							</div>\r\n						</td>\r\n						\r\n						".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string31 = "</span>\r\n							</div>\r\n							<div class=\"moreBtn_option\" onclick=\"javascript:setSafeSite()\">\r\n							<span  class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/plugin_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string3 = "\r\n\r\n\r\n<script language=javascript>\r\nfunction signInOrSignOut(signType){\r\n    if(signType != 1){\r\n	    var ajaxUrl = \"/wui/theme/ecology8/page/getSystemTime.jsp\";\r\n		ajaxUrl += \"?field=\";\r\n		ajaxUrl += \"HH\";\r\n		ajaxUrl += \"&token=\";\r\n		ajaxUrl += new Date().getTime();\r\n		\r\n		jQuery.ajax({\r\n		    url: ajaxUrl,\r\n		    dataType: \"text\", \r\n		    contentType : \"charset=UTF-8\", \r\n		    error:function(ajaxrequest){}, \r\n		    success:function(content){\r\n		    	var isWorkTime = jQuery.trim(content);\r\n		    	if (isWorkTime == \"true\") {\r\n		       window.top.Dialog.confirm('".toCharArray();
    _jsp_string16 = "\">\r\n						<span style=\"background-position:0 0;display:block;\" class=\"tbItm\"></span>\r\n			        </td>-->\r\n			         <!--<td style=\"width:10px;height:20px;\" align=\"center\">\r\n			        	<table cellpadding=\"0px\" cellspacing=\"0px\"><tr><td width=\"2px\">-->\r\n						<!--background:url(/wui/theme/ecology8/skins/".toCharArray();
    _jsp_string30 = "','/weaverplugin/PluginMaintenance.jsp')\">\r\n							<span class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/download_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string10 = ");\r\n			});\r\n		}*/\r\n        /*jQuery(\".tbItm\").hover(function() {\r\n			/** by zfh 2011-09-20\r\n			*\u7531\u4e8eIE\u7528jQuery\u65e0\u6cd5\u83b7\u53d6background-position\u7684\u503c\uff0c\u652f\u6301background-position-y\uff0cbackground-position-x\uff0c\r\n			*\u800cSafri\uff0cfirefox\uff0cchrome\u6b63\u597d\u76f8\u53cd\uff0c\u5148\u4f7f\u7528\u4e0b\u9762\u65b9\u6cd5\u83b7\u53d6background-position\u7684\u503c\r\n			*//*\r\n        	var bp=jQuery(jQuery(this)[0]).css(\"background-position\");\r\n			if(bp===undefined  ){\r\n				jQuery(jQuery(this)[0]).css(\"background-position-y\",\"-25px\");\r\n			}else{\r\n				bp=bp.split(\" \",\"1\")[0];\r\n				jQuery(jQuery(this)[0]).css(\"background-position\",bp+\"  -25px\");\r\n			}\r\n        }, function() {\r\n            var bp=jQuery(jQuery(this)[0]).css(\"background-position\");\r\n			if(bp===undefined  ){\r\n				jQuery(jQuery(this)[0]).css(\"background-position-y\",\"0px\");\r\n			}else{\r\n				bp=bp.split(\" \",\"1\")[0];\r\n				jQuery(jQuery(this)[0]).css(\"background-position\",bp+\" 0px\");\r\n			}\r\n        });*/\r\n        \r\n        jQuery(\".dropdown img.flag\").addClass(\"flagvisibility\");\r\n\r\n        jQuery(\".selectTile a\").click(function() {\r\n            jQuery(\".selectContent ul\").toggle();\r\n            if(jQuery(\".selectContent ul\").css(\"display\")==\"none\"){\r\n            	jQuery(this).closest(\"div#sample\").removeClass(\"sampleSelected\");\r\n            }else{\r\n            	jQuery(this).closest(\"div#sample\").addClass(\"sampleSelected\");\r\n            }\r\n        });\r\n                    \r\n        jQuery(\".selectContent ul li a\").click(function() {\r\n            var text = jQuery(this).children(\"span\").html();\r\n            jQuery(\".selectTile a\").children(\"span\").html(text);\r\n            jQuery(\"input[name='searchtype']\").val(jQuery(this).children(\"span\").attr(\"searchType\"));\r\n            jQuery(\".selectContent ul\").hide();\r\n            jQuery(this).closest(\"div#sample\").removeClass(\"sampleSelected\");\r\n        });\r\n                    \r\n        function getSelectedValue(id) {\r\n            return jQuery(\"#\" + id).find(\"selectContent a span.value\").html();\r\n        }\r\n\r\n        jQuery(document).bind('click', function(e) {\r\n            var $clicked = jQuery(e.target);\r\n            if (! $clicked.parents().hasClass(\"dropdown\")){\r\n                jQuery(\".selectContent ul\").hide();\r\n				jQuery(\".selectContent ul\").closest(\"div#sample\").removeClass(\"sampleSelected\");\r\n			}\r\n        });\r\n\r\n\r\n        jQuery(\"#flagSwitcher\").click(function() {\r\n            jQuery(\".dropdown img.flag\").toggleClass(\"flagvisibility\");\r\n        });\r\n        \r\n        jQuery(\"#searchbt\").hover(function() {\r\n			var bp=jQuery(jQuery(this)[0]).css(\"background-position\");\r\n			if(bp===undefined  ){\r\n				//jQuery(jQuery(this)[0]).css(\"background-position-x\",\"-27px\");\r\n			}else{\r\n				bp=bp.split(\" \",\"2\")[1];\r\n				//jQuery(jQuery(this)[0]).css(\"background-position\",\"-27px \"+bp);\r\n			}\r\n        }, function() {\r\n            var bp=jQuery(jQuery(this)[0]).css(\"background-position\");\r\n			if(bp===undefined  ){\r\n				jQuery(jQuery(this)[0]).css(\"background-position-x\",\"-0px\");\r\n			}else{\r\n				bp=bp.split(\" \",\"2\")[1];\r\n				jQuery(jQuery(this)[0]).css(\"background-position\",\"-0px \"+bp);\r\n			}\r\n        });\r\n        \r\n        //\u66f4\u591a\u6309\u94ae\r\n        jQuery(\".toolbarMore\").bind(\"click\", function() {\r\n        	jQuery(\"#toolbarMore\").hide();\r\n        });\r\n        \r\n        jQuery(\"#toolbarMoreBtn\").hover(function(){\r\n        },function(){\r\n        	window.setTimeout(function(){\r\n        		if(jQuery(\"#toolbarMoreBtn\").data(\"isOpen\")){\r\n        			jQuery(\"#toolbarMore\").hide();\r\n        			jQuery(\"#toolbarMoreBtn\").removeClass(\"moreBtnSel\");\r\n        			jQuery(\"#toolbarMoreBtn\").data(\"isOpen\",false);\r\n        		}\r\n        	},600);\r\n        });\r\n        \r\n        jQuery(\"#toolbarMore\").hover(function() {\r\n        	jQuery(\"#toolbarMoreBtn\").data(\"isOpen\",false);\r\n        }, function() {\r\n        	jQuery(\"#toolbarMore\").hide();\r\n        	jQuery(\"#toolbarMoreBtn\").removeClass(\"moreBtnSel\");\r\n        	jQuery(\"#toolbarMoreBtn\").data(\"isOpen\",false);\r\n        });\r\n        \r\n        jQuery(\".moreBtn_option\").hover(function(){\r\n		 	jQuery(this).addClass(\"moreBtn_optionSelect\");\r\n		 },function(){\r\n		 	jQuery(this).removeClass(\"moreBtn_optionSelect\");\r\n		 });\r\n        \r\n        //\u4e3a\u4e86\u517c\u5bb9ie6\uff0c\u6536\u85cf\u5939iframe\u52a8\u6001\u8f7d\u5165\r\n        jQuery(\"#navFav\").css(\"position\", \"relative\");\r\n		 jQuery(\"#navFav\").load(\"/wui/theme/ecology8/page/FavouriteShortCut.jsp\")\r\n		//ie6\u4e0b\u4e0b\u62c9\u83dc\u5355\u88abselect\u906e\u76d6\r\n		jQuery(\"#searchBlockUl iframe\").css(\"height\", jQuery(\"#searchBlockUl\").height());\r\n		\r\n		jQuery(\"#searchBlockUl\").hover(function () {\r\n		}, function () {\r\n			jQuery(\"#searchBlockUl\").hide();\r\n			jQuery(\"#searchBlockUl\").closest(\"div#sample\").removeClass(\"sampleSelected\");\r\n		});\r\n		\r\n		jQuery(\"#searchBlockUl li a\").hover(function(){\r\n			var src = jQuery(this).find(\"img\").attr(\"src\");\r\n			src = src.replace(/\\.png$/,\"_sel_wev8.png\");\r\n			jQuery(this).find(\"img\").attr(\"src\",src);\r\n		},function(){\r\n			var src = jQuery(this).find(\"img\").attr(\"src\");\r\n			src = src.replace(/_sel\\.png$/,\".png\");\r\n			jQuery(this).find(\"img\").attr(\"src\",src);\r\n		});\r\n		\r\n		jQuery(\".selectTile\").hover(function () {\r\n		}, function () {\r\n			var clientx = event.clientX;\r\n			var clienty = event.clientY;\r\n			\r\n			var elex = jQuery(this).offset().left;\r\n			var eley = jQuery(this).offset().top;\r\n		\r\n			if (clientx < elex || elex > jQuery(this).offset().right || clienty < eley) {\r\n				jQuery(\"#searchBlockUl\").hide();\r\n				jQuery(\"#searchBlockUl\").closest(\"div#sample\").removeClass(\"sampleSelected\");\r\n			} else {\r\n				return;\r\n			}\r\n		});\r\n		\r\n    });\r\n    \r\nfunction toolbarMore() {\r\n	jQuery(\"#toolbarMore\").toggle();\r\n	if(jQuery(\"#toolbarMore\").css(\"display\")==\"none\"){\r\n		jQuery(\"#toolbarMoreBtn\").removeClass(\"moreBtnSel\");\r\n		jQuery(\"#toolbarMoreBtn\").data(\"isOpen\",false);\r\n	}else{\r\n		jQuery(\"#toolbarMoreBtn\").addClass(\"moreBtnSel\");\r\n		jQuery(\"#toolbarMoreBtn\").data(\"isOpen\",true);\r\n	}\r\n}\r\n\r\n//function goopenWindow(url){\r\n//    var chasm = screen.availWidth;\r\n//    var mount = screen.availHeight;\r\n//    if(chasm<650) chasm=650;\r\n//    if(mount<700) mount=700;\r\n//    window.open(url,\"PluginCheck\",\"scrollbars=yes,resizable=no,width=690,Height=650,top=\"+(mount-700)/2+\",left=\"+(chasm-650)/2);\r\n//}\r\n\r\nfunction goopenWindow(title,url){\r\n	var dlg=new window.top.Dialog();//\u5b9a\u4e49Dialog\u5bf9\u8c61\r\n	var title = title;\r\n	dlg.currentWindow = window;\r\n	dlg.Model=true;\r\n	dlg.Width=730;//\u5b9a\u4e49\u957f\u5ea6\r\n	dlg.Height=600;\r\n	dlg.URL=url;\r\n	dlg.Title=title;\r\n	dlg.show();\r\n	}\r\n\r\nfunction goUrl(url){\r\n	document.getElementById(\"mainFrame\").src = url;\r\n}\r\n\r\nfunction showCalendarDialog(){\r\n	var diag_xx = new Dialog();\r\n	diag_xx.Width = 600;\r\n	diag_xx.Height = 387;\r\n	\r\n	diag_xx.ShowCloseButton=true;\r\n	diag_xx.Title = \"".toCharArray();
    _jsp_string18 = "/page/ecologyShellImg_wev8.png);margin-right:7px;display:block;width:2px;height:20px;background-position:0 -50;\" class=\"toolbarSplitLine\"></span>\r\n			        	</td></tr></table>\r\n			        </td>-->\r\n					 <!-- \u5f85\u529e \r\n			        <td style=\"background:url(/wui/theme/ecology8/page/images/unhandlerequest_wev8.png) no-repeat scroll center top;\"  class=\"backgroundPosition\"  title=\"".toCharArray();
    _jsp_string12 = "e-cology\";\r\n	dlg.currentWindow = window;\r\n	dlg.Model=true;\r\n	dlg.Width=630;//\u5b9a\u4e49\u957f\u5ea6\r\n	dlg.Height=400;\r\n	dlg.URL=url;\r\n	dlg.Title=title;\r\n	dlg.show();\r\n}\r\n\r\nfunction clearVal(obj){\r\n	var temp = '".toCharArray();
    _jsp_string32 = "</span></div>\r\n							<div class=\"moreBtn_option\" onclick=\"javascript:goopenWindow('".toCharArray();
    _jsp_string28 = "/page/top/toolbarMoreTop_wev8.png);-->\r\n						<div id=\"toolbarMore\" class=\"moreBtn\" style=\"z-index: 999px\">\r\n			        		<div id=\"toolbarMoreBlockTop\" style=\"background-repeat:no-repeat;height:11px;overflow:hidden;width:184px;\"></div>\r\n							<div class=\"moreBtn_option\" style=\"margin-top:-11px;background-color: #d7d7d7;color:#6e7171;\"  onclick=\"javascript:window.open('/wui/main.jsp')\">\r\n								<span class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/frontend_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n								<span>".toCharArray();
    _jsp_string24 = "\" id=\"sign_dispan\">\r\n							".toCharArray();
    _jsp_string17 = "/page/ecologyShellImg_wev8.png);-->\r\n			        	<!--	<span style=\"margin-right:7px;display:block;width:2px;height:20px;background-position:0 -50;\" class=\"toolbarSplitLine\"></span>\r\n			        	</td></tr></table>\r\n			        </td>-->\r\n					\r\n			        <!-- Line -->\r\n			        <!--<td style=\"width:10px;height:20px;\" align=\"center\">\r\n			        	<table cellpadding=\"0px\" cellspacing=\"0px\"><tr><td width=\"2px\">\r\n			        		<span style=\"background:url(/wui/theme/ecology8/skins/".toCharArray();
    _jsp_string34 = "','/docs/tabs/DocCommonTab.jsp?_fromURL=52')\">\r\n							<span  class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/syssetting_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string1 = "\r\n".toCharArray();
    _jsp_string21 = "\r\n					\r\n					   ".toCharArray();
    _jsp_string4 = "',function(){\r\n		       	writeSignStatus(signType);\r\n		       },function(){\r\n		       	return;\r\n		       })     \r\n		      }else{\r\n		      	writeSignStatus(signType);\r\n		      }\r\n		    }  \r\n	    });\r\n    } else {\r\n    	writeSignStatus(signType);\r\n    }\r\n}\r\n\r\nfunction writeSignStatus(signType) {\r\n	var ajax=ajaxInit();\r\n    ajax.open(\"POST\", \"/hrm/schedule/HrmScheduleSignXMLHTTP.jsp?t=\"+Math.random(), true); \r\n    ajax.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\r\n    ajax.send(\"signType=\"+signType);\r\n    //\u83b7\u53d6\u6267\u884c\u72b6\u6001\r\n    ajax.onreadystatechange = function() {\r\n        //\u5982\u679c\u6267\u884c\u72b6\u6001\u6210\u529f\uff0c\u90a3\u4e48\u5c31\u628a\u8fd4\u56de\u4fe1\u606f\u5199\u5230\u6307\u5b9a\u7684\u5c42\u91cc\r\n        if (ajax.readyState == 4 && ajax.status == 200) {\r\n            try{\r\n            	jQuery(\"#sign_dispan\").text(\"".toCharArray();
    _jsp_string39 = "\",function(){\r\n		window.location='/login/Logout.jsp';\r\n	})\r\n}\r\n\r\n</script>\r\n\r\n".toCharArray();
    _jsp_string19 = "\">\r\n			        	<a style=\"display:block;\" class=\"tbItm\" href=\"/workflow/request/RequestView.jsp\" target=\"mainFrame\" ></a>\r\n			        </td>-->\r\n					".toCharArray();
    _jsp_string22 = "	\r\n						<td >\r\n						<div style=\"position: relative;width:".toCharArray();
    _jsp_string23 = "px;height: 40px;cursor: pointer;\">\r\n							<img onclick=\"jQuery(this).next().trigger('click')\" src=\"/wui/theme/ecology8/page/images/signIn_wev8.png\" style=\"position:absolute;left:0px;top:13px;cursor:pointer;\">\r\n							<div class=\"leftColor\" onclick=\"signInOrSignOut(jQuery(this).attr('_signFlag'))\" style=\"position:absolute;left:15px!important;top:13px;color:#C8C8C8;overflow:hidden;text-overflow:ellipsis;cursor:pointer;\" _signFlag=\"".toCharArray();
    _jsp_string38 = "\" >\r\n			        	</div>\r\n					</td>\r\n    	    	</tr>\r\n    		</TABLE> \r\n    	</td>\r\n    </tr>\r\n    \r\n	<!--<tr>\r\n		<td height=\"2px;\"></td>\r\n	</tr>-->\r\n	\r\n</table>\r\n</div>\r\n<script type=\"text/javascript\">\r\n\r\nfunction logout(){\r\n	top.Dialog.confirm(\"".toCharArray();
    _jsp_string33 = "','/hrm/HrmTab.jsp?_fromURL=licenseInfo')\">\r\n							<span  class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/license_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string9 = "\",function(){\r\n				signInOrSignOut(".toCharArray();
    _jsp_string20 = "	\r\n			        <!-- \u4fe1\u606f\u4e2d\u5fc3 -->\r\n			        <td onClick=\"mainFrame.history.go(1)\"  style=\"background:url(/wui/theme/ecology8/page/images/info_wev8.png) no-repeat scroll center center;\"  class=\"backgroundPosition\"  >\r\n			        	<span style=\"display:block;\" class=\"tbItm\"></span>\r\n			        </td>\r\n					".toCharArray();
    _jsp_string2 = "\r\n\r\n".toCharArray();
  }
}
