/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._wui._theme._ecology8._page;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.systeminfo.SystemEnv;
import weaver.hrm.HrmUserVarify;
import weaver.hrm.User;
import weaver.hrm.report.schedulediff.HrmScheduleDiffUtil;
import weaver.general.Util;
import weaver.rtx.RTXConfig;
import java.util.*;
import java.text.*;
import java.sql.Timestamp;
import weaver.general.GCONST;
import weaver.file.Prop;
import weaver.hrm.common.Tools;
import weaver.general.TimeUtil;
import weaver.systeminfo.setting.HrmUserSettingComInfo;
import weaver.rdeploy.portal.PortalUtil;
import weaver.hrm.schedule.HrmScheduleKqUtil;
import weaver.hrm.schedule.HrmKqSystemComInfo;
import weaver.common.StringUtil;

public class _toolbar__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;

  
  private String formatDate(String format, Date date) {
  	SimpleDateFormat sdf = new SimpleDateFormat(format);
  	Calendar calendar = Calendar.getInstance();
  	if (date == null) {
  		date = new Date();
  	}
  	calendar.setTime(date);
      return sdf.format(calendar.getTime());
  }

  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      

String nowtime=TimeUtil.getCurrentTimeString();

String time8=TimeUtil.getCurrentDateString()+" 00:00:00";
//out.print(nowtime);
//out.print(time8);
//out.print("<br>");
long ll=TimeUtil.timeInterval(nowtime,time8);



      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.conn.RecordSet signRs;
      signRs = (weaver.conn.RecordSet) pageContext.getAttribute("signRs");
      if (signRs == null) {
        signRs = new weaver.conn.RecordSet();
        pageContext.setAttribute("signRs", signRs);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.rtx.RTXClientCom rtxClient;
      rtxClient = (weaver.rtx.RTXClientCom) pageContext.getAttribute("rtxClient");
      if (rtxClient == null) {
        rtxClient = new weaver.rtx.RTXClientCom();
        pageContext.setAttribute("rtxClient", rtxClient);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.license.PluginUserCheck PluginUserCheck;
      PluginUserCheck = (weaver.license.PluginUserCheck) pageContext.getAttribute("PluginUserCheck");
      if (PluginUserCheck == null) {
        PluginUserCheck = new weaver.license.PluginUserCheck();
        pageContext.setAttribute("PluginUserCheck", PluginUserCheck);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.conn.RecordSet RecordSet;
      RecordSet = (weaver.conn.RecordSet) pageContext.getAttribute("RecordSet");
      if (RecordSet == null) {
        RecordSet = new weaver.conn.RecordSet();
        pageContext.setAttribute("RecordSet", RecordSet);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.voting.VotingManager VotingManager;
      VotingManager = (weaver.voting.VotingManager) pageContext.getAttribute("VotingManager");
      if (VotingManager == null) {
        VotingManager = new weaver.voting.VotingManager();
        pageContext.setAttribute("VotingManager", VotingManager);
      }
      out.write(_jsp_string3, 0, _jsp_string3.length);
      
    /*\u7528\u6237\u9a8c\u8bc1*/
    User user = HrmUserVarify.getUser(request, response);
    if (user == null) {
        response.sendRedirect("/login/Login.jsp");
        return;
    }

	 String skin = (String)request.getAttribute("REQUEST_SKIN_FOLDER");
	//------------------------------------
	//\u7b7e\u5230\u90e8\u5206 Start
	//------------------------------------
	String[] signInfo = HrmScheduleDiffUtil.getSignInfo(user);
	boolean isNeedSign = Boolean.parseBoolean(signInfo[0]);
	String sign_flag = signInfo[1];
	String signType = signInfo[2];
	String _signType = signInfo.length >= 4 ? signInfo[3] : "1";
	String _signStartTime = signInfo.length >= 5 ? signInfo[4] : "";
	//------------------------------------
	//\u7b7e\u5230\u90e8\u5206 End
	//------------------------------------
    
int userId=user.getUID();
boolean canMessager=false;
boolean isHaveEMessager=Prop.getPropValue("Messager2","IsUseEMessager").equalsIgnoreCase("1");
boolean isHaveMessager=Prop.getPropValue("Messager","IsUseWeaverMessager").equalsIgnoreCase("1");
int isHaveMessagerRight = PluginUserCheck.checkPluginUserRight("messager",userId+"");
if((isHaveMessager&&userId!=1&&isHaveMessagerRight==1)||isHaveEMessager){
	canMessager=true;
}


      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((SystemEnv.getHtmlLabelName(26273, user.getLanguage())));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((SystemEnv.getHtmlLabelName(20033,user.getLanguage())));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((SystemEnv.getHtmlLabelName(26987,user.getLanguage())));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      out.print((SystemEnv.getHtmlLabelName(26983,user.getLanguage())));
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((SystemEnv.getHtmlLabelName(18030,user.getLanguage())));
      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((SystemEnv.getHtmlLabelName(490,user.getLanguage())));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      out.print((SystemEnv.getHtmlLabelName(16900,user.getLanguage()) ));
      out.write(_jsp_string11, 0, _jsp_string11.length);
      out.print((SystemEnv.getHtmlLabelName(84128,user.getLanguage()) ));
      out.write(_jsp_string12, 0, _jsp_string12.length);
      out.print((SystemEnv.getHtmlLabelName(84128,user.getLanguage()) ));
      out.write(_jsp_string13, 0, _jsp_string13.length);
      out.print((SystemEnv.getHtmlLabelName(227,user.getLanguage())));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      //=skin 
      out.write(_jsp_string15, 0, _jsp_string15.length);
      //=skin 
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((SystemEnv.getHtmlLabelName(1207,user.getLanguage())));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      
			        boolean havaMobile = false;
			        if(Prop.getPropValue("EMobile4","serverUrl")!=null&&!Prop.getPropValue("EMobile4","serverUrl").equals("")){
			        	havaMobile = true;
			        }
			        boolean showDownload = Prop.getPropValue("EMobileDownload","showDownload").equalsIgnoreCase("1");
			        String version = Prop.getPropValue("EMobileVersion","version");

			        
      out.write(_jsp_string18, 0, _jsp_string18.length);
      
				int tdWidth=60;
				if(user.getLanguage()==8){
					tdWidth = 75;
				}
				
      out.write(_jsp_string19, 0, _jsp_string19.length);
      out.print((isNeedSign?"":"style='display: none'" ));
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((tdWidth ));
      out.write(_jsp_string21, 0, _jsp_string21.length);
      out.print((sign_flag ));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print(("1".equals(sign_flag) ? SystemEnv.getHtmlLabelName(20032,user.getLanguage()) : SystemEnv.getHtmlLabelName(20033,user.getLanguage()) ));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((isNeedSign?"":"style='display: none'" ));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      if(PortalUtil.isShowToMsgPage()) {
      out.write(_jsp_string25, 0, _jsp_string25.length);
      out.print((SystemEnv.getHtmlLabelName(127956,user.getLanguage()) ));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      }
      out.write(_jsp_string27, 0, _jsp_string27.length);
      if(showDownload && havaMobile){
      out.write(_jsp_string28, 0, _jsp_string28.length);
      out.print((version ));
      out.write(_jsp_string29, 0, _jsp_string29.length);
      }
      out.write(_jsp_string30, 0, _jsp_string30.length);
      if(canMessager){
      out.write(_jsp_string31, 0, _jsp_string31.length);
      }
      out.write(_jsp_string32, 0, _jsp_string32.length);
      out.print((SystemEnv.getHtmlLabelName(2081,user.getLanguage())));
      out.write(_jsp_string33, 0, _jsp_string33.length);
      if(rtxClient.isValidOfRTX()){
						 RTXConfig rtxConfig = new RTXConfig();
						 String RtxOrElinkType = (Util.null2String(rtxConfig.getPorp(RTXConfig.RtxOrElinkType))).toUpperCase();
						
      out.write(_jsp_string34, 0, _jsp_string34.length);
      
						 if("ELINK".equals(RtxOrElinkType) && !RTXConfig.isSystemUser(user.getLoginid())){ 
					 
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((SystemEnv.getHtmlLabelName(27463,user.getLanguage())));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      } else if(!RTXConfig.isSystemUser(user.getLoginid())){
      out.write(_jsp_string37, 0, _jsp_string37.length);
      out.print((SystemEnv.getHtmlLabelName(83530,user.getLanguage())));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      }
					
      out.write(_jsp_string39, 0, _jsp_string39.length);
      
                     }
      out.write(_jsp_string40, 0, _jsp_string40.length);
      out.print((SystemEnv.getHtmlLabelName(17499,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      out.print((skin ));
      out.write(_jsp_string42, 0, _jsp_string42.length);
      
    					if (PortalUtil.isuserdeploy()) {
    					
      out.write(_jsp_string43, 0, _jsp_string43.length);
      out.print((SystemEnv.getHtmlLabelName(633,user.getLanguage())));
      out.write(_jsp_string44, 0, _jsp_string44.length);
      } else { 
      out.write(_jsp_string45, 0, _jsp_string45.length);
      out.print((SystemEnv.getHtmlLabelName(83541,user.getLanguage())));
      out.write(_jsp_string46, 0, _jsp_string46.length);
      } 
      out.write(_jsp_string47, 0, _jsp_string47.length);
      out.print((SystemEnv.getHtmlLabelName(562,user.getLanguage()) ));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((SystemEnv.getHtmlLabelName(83543,user.getLanguage()) ));
      out.write(_jsp_string49, 0, _jsp_string49.length);
      out.print((SystemEnv.getHtmlLabelName(83543,user.getLanguage()) ));
      out.write(_jsp_string50, 0, _jsp_string50.length);
      out.print((SystemEnv.getHtmlLabelName(28422,user.getLanguage()) ));
      out.write(_jsp_string51, 0, _jsp_string51.length);
      out.print((SystemEnv.getHtmlLabelName(18014,user.getLanguage()) ));
      out.write(_jsp_string52, 0, _jsp_string52.length);
      out.print((SystemEnv.getHtmlLabelName(18014,user.getLanguage()) ));
      out.write(_jsp_string53, 0, _jsp_string53.length);
      out.print((SystemEnv.getHtmlLabelName(567,user.getLanguage()) ));
      out.write(_jsp_string54, 0, _jsp_string54.length);
      out.print((SystemEnv.getHtmlLabelName(1205,user.getLanguage())));
      out.write(_jsp_string55, 0, _jsp_string55.length);
      

    HrmUserSettingComInfo userSetting=new HrmUserSettingComInfo();
    String belongtoshow = userSetting.getBelongtoshowByUserId(user.getUID()+""); 
	String belongtoids = user.getBelongtoids();
	String account_type = user.getAccount_type();

boolean isSys=true;
RecordSet.executeSql("select 1 from hrmresource where id="+user.getUID());
if(RecordSet.next()){
	isSys=false;
}	

Date votingnewdate = new Date() ;
long votingdatetime = votingnewdate.getTime() ;
Timestamp votingtimestamp = new Timestamp(votingdatetime) ;
String votingCurrentDate = (votingtimestamp.toString()).substring(0,4) + "-" + (votingtimestamp.toString()).substring(5,7) + "-" +(votingtimestamp.toString()).substring(8,10);
String votingCurrentTime = (votingtimestamp.toString()).substring(11,13) + ":" + (votingtimestamp.toString()).substring(14,16);
String votingsql=""; 
if(belongtoshow.equals("1")&&account_type.equals("0")&&!belongtoids.equals("")){
belongtoids +=","+user.getUID();

votingsql="select distinct t1.id,t1.autoshowvote,t1.forcevote from voting t1 where t1.status=1 "+ 
        " and (t1.beginDate<'"+votingCurrentDate+"' or (t1.beginDate='"+votingCurrentDate+"' and (t1.beginTime is null or t1.beginTime='' or t1.beginTime<='"+votingCurrentTime+"'))) "; 
	votingsql +=" and (";
	
  String[] votingshareids=Util.TokenizerString2(belongtoids,",");
	for(int i=0;i<votingshareids.length;i++){
		User tmptUser=VotingManager.getUser(Util.getIntValue(votingshareids[i]));
		String seclevel=tmptUser.getSeclevel();
		int subcompany1=tmptUser.getUserSubCompany1();
		int department=tmptUser.getUserDepartment();
		String  jobtitles=tmptUser.getJobtitle();
	     	
		String tmptsubcompanyid=subcompany1+"";
		String tmptdepartment=department+"";
		RecordSet.executeSql("select subcompanyid,departmentid from HrmResourceVirtual where resourceid="+tmptUser.getUID());
		while(RecordSet.next()){
			tmptsubcompanyid +=","+Util.null2String(RecordSet.getString("subcompanyid"));
			tmptdepartment +=","+Util.null2String(RecordSet.getString("departmentid"));
		}
		
		if(i==0){
			votingsql += " ( id not in (select votingid from VotingRemark where resourceid="+tmptUser.getUID()+")" +
			" and id in(select votingid from VotingShare t"+i+" where ((sharetype=1 and resourceid="+tmptUser.getUID()+") or (sharetype=2 and subcompanyid in("+tmptsubcompanyid+") and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+")) or (sharetype=3 and departmentid in("+tmptdepartment+") and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+")) or (sharetype=5 and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+")) or (sharetype=6 and ( (joblevel=0 and jobtitles='"+jobtitles+"' ) or (joblevel=1 and jobtitles='"+jobtitles+"' and jobsubcompany in("+tmptsubcompanyid+")) or (joblevel=2 and jobtitles='"+jobtitles+"' and jobdepartment in("+tmptdepartment+") )) ) or (sharetype=4 and exists(select 1 from HrmRoleMembers where roleid=t"+i+".roleid and rolelevel>=t"+i+".rolelevel and resourceid="+tmptUser.getUID()+") and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+")) )) )";	
		} else {
			votingsql += " or ( id not in (select votingid from VotingRemark where resourceid="+tmptUser.getUID()+")" +
			" and id in(select votingid from VotingShare t"+i+" where ((sharetype=1 and resourceid="+tmptUser.getUID()+") or (sharetype=2 and subcompanyid in("+tmptsubcompanyid+") and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+")) or (sharetype=3 and departmentid in("+tmptdepartment+") and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+")) or (sharetype=5 and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+"))  or (sharetype=6 and ( (joblevel=0 and jobtitles='"+jobtitles+"' ) or (joblevel=1 and jobtitles='"+jobtitles+"' and jobsubcompany in("+tmptsubcompanyid+")) or (joblevel=2 and jobtitles='"+jobtitles+"' and jobdepartment in("+tmptdepartment+") )) ) or (sharetype=4 and exists(select 1 from HrmRoleMembers where roleid=t"+i+".roleid and rolelevel>=t"+i+".rolelevel and resourceid="+tmptUser.getUID()+") and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+")) )) )";	
		}
		
		  		
	}
	votingsql +=")";

}else{
	String seclevel=user.getSeclevel();
	int subcompany1=user.getUserSubCompany1();
	int department=user.getUserDepartment();
	String  jobtitles=user.getJobtitle();
	  		
	String tmptsubcompanyid=subcompany1+"";
	String tmptdepartment=department+"";
	RecordSet.executeSql("select subcompanyid,departmentid from HrmResourceVirtual where resourceid="+user.getUID());
	while(RecordSet.next()){
		tmptsubcompanyid +=","+Util.null2String(RecordSet.getString("subcompanyid"));
		tmptdepartment +=","+Util.null2String(RecordSet.getString("departmentid"));
	}
	
	votingsql="select distinct t1.id,t1.autoshowvote,t1.forcevote from voting t1 where t1.status=1 "+
	" and t1.id not in (select distinct votingid from VotingRemark where resourceid ="+user.getUID()+")"+
	" and (t1.beginDate<'"+votingCurrentDate+"' or (t1.beginDate='"+votingCurrentDate+"' and (t1.beginTime is null or t1.beginTime='' or t1.beginTime<='"+votingCurrentTime+"')))"+
	" and t1.id in(select votingid from VotingShare t where ((sharetype=1 and resourceid="+user.getUID()+") or (sharetype=2 and subcompanyid in("+tmptsubcompanyid+") and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+")) or (sharetype=3 and departmentid in("+tmptdepartment+") and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+")) or (sharetype=5 and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+"))  or (sharetype=6 and ( (joblevel=0 and jobtitles='"+jobtitles+"' ) or (joblevel=1 and jobtitles='"+jobtitles+"' and jobsubcompany in("+tmptsubcompanyid+")) or (joblevel=2 and jobtitles='"+jobtitles+"' and jobdepartment in("+tmptdepartment+") )) )  or (sharetype=4 and exists(select 1 from HrmRoleMembers where roleid=t.roleid and rolelevel>=t.rolelevel and resourceid="+user.getUID()+") and seclevel<="+seclevel+" and (seclevelmax is null or seclevelmax>="+seclevel+")) ))"; 
}
if(isSys){
	votingsql +=" and 1=2";
}
//signRs.writeLog("###abc:"+votingsql);
signRs.executeSql(votingsql);
while(signRs.next()){ 
String votingid = signRs.getString("id");
String voteshow = signRs.getString("autoshowvote"); 
String forcevote = signRs.getString("forcevote"); 


      out.write(_jsp_string56, 0, _jsp_string56.length);
      out.print((votingid));
      out.write(_jsp_string57, 0, _jsp_string57.length);
      out.print((voteshow));
      out.write(_jsp_string58, 0, _jsp_string58.length);
      out.print((forcevote));
      out.write(_jsp_string59, 0, _jsp_string59.length);
      out.print((votingid));
      out.write(_jsp_string60, 0, _jsp_string60.length);
      out.print((voteshow));
      out.write(_jsp_string61, 0, _jsp_string61.length);
      out.print((forcevote));
      out.write(_jsp_string62, 0, _jsp_string62.length);
      
}
//------------------------------------
//\u7f51\u4e0a\u8c03\u67e5\u90e8\u5206 End
//------------------------------------

      out.write(_jsp_string63, 0, _jsp_string63.length);
      out.print((SystemEnv.getHtmlLabelName(17599,user.getLanguage())));
      out.write(_jsp_string64, 0, _jsp_string64.length);
      out.print((_signType));
      out.write(_jsp_string65, 0, _jsp_string65.length);
      out.print((_signStartTime));
      out.write(_jsp_string66, 0, _jsp_string66.length);
      
	String isTimeOutLogin = Prop.getPropValue("Others","isTimeOutLogin");
	//\u589e\u52a0\u662f\u5426\u5f00\u542f\u5728\u7ebf\u7b7e\u5230\u5224\u65ad
	boolean hasSchedule = HrmScheduleKqUtil.hasHrmSchedule(user);
	HrmKqSystemComInfo kqSystem = null;
	if(hasSchedule){
		kqSystem = new HrmKqSystemComInfo(user);
	}else{
		kqSystem = new HrmKqSystemComInfo();
	}
	boolean isSignInOrSignOut = StringUtil.vString(kqSystem.getNeedsign(), "0").equals("1");// \u662f\u5426\u542f\u7528\u7b7e\u5230\u7b7e\u9000\u529f\u80fd
	if("2".equals(isTimeOutLogin)||!isSignInOrSignOut){
	
      out.write(_jsp_string67, 0, _jsp_string67.length);
      }
      out.write(_jsp_string68, 0, _jsp_string68.length);
      out.print((SystemEnv.getHtmlLabelName(20032,user.getLanguage())));
      out.write(_jsp_string69, 0, _jsp_string69.length);
      out.print((SystemEnv.getHtmlLabelName(20033,user.getLanguage())));
      out.write(_jsp_string70, 0, _jsp_string70.length);
      out.print((SystemEnv.getHtmlLabelName(21415,user.getLanguage())));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      out.print((SystemEnv.getHtmlLabelName(20032,user.getLanguage())));
      out.write(_jsp_string72, 0, _jsp_string72.length);
      out.print((isNeedSign));
      out.write(_jsp_string73, 0, _jsp_string73.length);
      out.print((signType));
      out.write(_jsp_string74, 0, _jsp_string74.length);
      out.print((SystemEnv.getHtmlLabelName(21415,user.getLanguage())));
      out.write(_jsp_string75, 0, _jsp_string75.length);
      out.print((signType));
      out.write(_jsp_string76, 0, _jsp_string76.length);
      out.print((SystemEnv.getHtmlLabelName(16628,user.getLanguage())));
      out.write(_jsp_string77, 0, _jsp_string77.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("wui/theme/ecology8/page/toolbar.jsp"), 6937718016492152984L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("times.jsp"), 735047848302946529L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string9;
  private final static char []_jsp_string57;
  private final static char []_jsp_string62;
  private final static char []_jsp_string43;
  private final static char []_jsp_string32;
  private final static char []_jsp_string47;
  private final static char []_jsp_string8;
  private final static char []_jsp_string69;
  private final static char []_jsp_string24;
  private final static char []_jsp_string66;
  private final static char []_jsp_string64;
  private final static char []_jsp_string39;
  private final static char []_jsp_string7;
  private final static char []_jsp_string30;
  private final static char []_jsp_string20;
  private final static char []_jsp_string48;
  private final static char []_jsp_string56;
  private final static char []_jsp_string67;
  private final static char []_jsp_string53;
  private final static char []_jsp_string3;
  private final static char []_jsp_string60;
  private final static char []_jsp_string19;
  private final static char []_jsp_string70;
  private final static char []_jsp_string25;
  private final static char []_jsp_string38;
  private final static char []_jsp_string65;
  private final static char []_jsp_string13;
  private final static char []_jsp_string21;
  private final static char []_jsp_string50;
  private final static char []_jsp_string33;
  private final static char []_jsp_string35;
  private final static char []_jsp_string74;
  private final static char []_jsp_string26;
  private final static char []_jsp_string77;
  private final static char []_jsp_string4;
  private final static char []_jsp_string6;
  private final static char []_jsp_string14;
  private final static char []_jsp_string45;
  private final static char []_jsp_string49;
  private final static char []_jsp_string68;
  private final static char []_jsp_string76;
  private final static char []_jsp_string42;
  private final static char []_jsp_string16;
  private final static char []_jsp_string75;
  private final static char []_jsp_string23;
  private final static char []_jsp_string46;
  private final static char []_jsp_string11;
  private final static char []_jsp_string73;
  private final static char []_jsp_string41;
  private final static char []_jsp_string10;
  private final static char []_jsp_string51;
  private final static char []_jsp_string12;
  private final static char []_jsp_string37;
  private final static char []_jsp_string28;
  private final static char []_jsp_string59;
  private final static char []_jsp_string18;
  private final static char []_jsp_string15;
  private final static char []_jsp_string27;
  private final static char []_jsp_string44;
  private final static char []_jsp_string55;
  private final static char []_jsp_string17;
  private final static char []_jsp_string22;
  private final static char []_jsp_string2;
  private final static char []_jsp_string5;
  private final static char []_jsp_string63;
  private final static char []_jsp_string0;
  private final static char []_jsp_string58;
  private final static char []_jsp_string36;
  private final static char []_jsp_string29;
  private final static char []_jsp_string40;
  private final static char []_jsp_string52;
  private final static char []_jsp_string61;
  private final static char []_jsp_string72;
  private final static char []_jsp_string34;
  private final static char []_jsp_string54;
  private final static char []_jsp_string1;
  private final static char []_jsp_string71;
  private final static char []_jsp_string31;
  static {
    _jsp_string9 = "\";\r\n			dialog.Width = 657;\r\n			dialog.Height = 565;\r\n			dialog.Drag = true;\r\n			dialog.URL = url;\r\n			dialog.show();\r\n		});\r\n		//ie6\u4e0b\u4e0b\u62c9\u83dc\u5355\u88abselect\u906e\u76d6\r\n		//jQuery(\"#searchBlockUl iframe\").css(\"height\", jQuery(\"#searchBlockUl\").height());\r\n		//console.log(jQuery(\"#searchBlockUl\").height());\r\n		jQuery(\"#searchBlockUl\").hover(function () {\r\n		}, function () {\r\n			jQuery(\"#searchBlockUl\").hide();\r\n			jQuery(\"#searchBlockUl\").closest(\"div#sample\").removeClass(\"sampleSelected\");\r\n		});\r\n		\r\n		jQuery(\"#searchBlockUl li a\").hover(function(){\r\n			var src = jQuery(this).find(\"img\").attr(\"src\");\r\n			src = src.replace(/\\_wev8.png$/,\"_sel_wev8.png\");\r\n			jQuery(this).find(\"img\").attr(\"src\",src);\r\n		},function(){\r\n			var src = jQuery(this).find(\"img\").attr(\"src\");\r\n			src = src.replace(/_sel_wev8\\.png$/,\"_wev8.png\");\r\n			jQuery(this).find(\"img\").attr(\"src\",src);\r\n		});\r\n		\r\n		jQuery(\".selectTile\").hover(function () {\r\n		}, function () {\r\n			var clientx = event.clientX;\r\n			var clienty = event.clientY;\r\n			\r\n			var elex = jQuery(this).offset().left;\r\n			var eley = jQuery(this).offset().top;\r\n		\r\n			if (clientx < elex || elex > jQuery(this).offset().right || clienty < eley) {\r\n				jQuery(\"#searchBlockUl\").hide();\r\n				jQuery(\"#searchBlockUl\").closest(\"div#sample\").removeClass(\"sampleSelected\");\r\n			} else {\r\n				return;\r\n			}\r\n		});\r\n		\r\n    });\r\n    \r\nfunction toolbarMore() {\r\n	hideOtherHoverDiv('toolbar');\r\n	\r\n	jQuery(\"#toolbarMore\").toggle();\r\n	if(jQuery(\"#toolbarMore\").css(\"display\")==\"none\"){\r\n		jQuery(\"#toolbarMoreBtn\").removeClass(\"moreBtnSel\");\r\n		jQuery(\"#toolbarMoreBtn\").data(\"isOpen\",false);\r\n	}else{\r\n		jQuery(\"#toolbarMoreBtn\").addClass(\"moreBtnSel\");\r\n		jQuery(\"#toolbarMoreBtn\").data(\"isOpen\",true);\r\n		jQuery(\"#toolbarMoreTD\").css({\"right\":\"19px\",\"top\":\"40px\"})\r\n	}\r\n}\r\n\r\n//function goopenWindow(url){\r\n//    var chasm = screen.availWidth;\r\n//    var mount = screen.availHeight;\r\n//    if(chasm<650) chasm=650;\r\n//    if(mount<700) mount=700;\r\n//    window.open(url,\"PluginCheck\",\"scrollbars=yes,resizable=no,width=690,Height=650,top=\"+(mount-700)/2+\",left=\"+(chasm-650)/2);\r\n//}\r\n\r\nfunction goopenWindow(title,url){	\r\n	var dlg=new window.top.Dialog();//\u5b9a\u4e49Dialog\u5bf9\u8c61\r\n	var title = title;\r\n	dlg.currentWindow = window;\r\n	//var chasm = screen.availWidth;\r\n    //var mount = screen.availHeight;\r\n    //if(chasm<600) chasm=600;\r\n    //if(mount<500) mount=500;\r\n	dlg.Model=true;\r\n	dlg.Width=730;//\u5b9a\u4e49\u957f\u5ea6\r\n	dlg.Height=600;\r\n	dlg.URL=url;\r\n	dlg.Title=title;\r\n	dlg.show();\r\n	}\r\n\r\nfunction goUrl(url){\r\n	document.getElementById(\"mainFrame\").src = url;\r\n}\r\n\r\nfunction showCalendarDialog(){\r\n	var diag_xx = new Dialog();\r\n	diag_xx.Width = 600;\r\n	diag_xx.Height = 387;\r\n	\r\n	diag_xx.ShowCloseButton=true;\r\n	diag_xx.Title = \"".toCharArray();
    _jsp_string57 = "';\r\n      voteshows = '".toCharArray();
    _jsp_string62 = "';\r\n   }\r\n\r\n</script> \r\n".toCharArray();
    _jsp_string43 = "\r\n    					<div class=\"moreBtn_option\" style=\"margin-top:-11px;background-color: #d5ecff;color:#228ade;\"  onclick=\"javascript:window.open('/rdeploy/main.jsp')\">\r\n							<span class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/back-end_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string32 = "\r\n					\r\n			        \r\n			        <!-- \u6536\u85cf\u5939 -->\r\n			        <td class=\"fav\" onClick=\"\"  title=\"".toCharArray();
    _jsp_string47 = "\r\n    					<div class=\"moreBtn_option\" style=\"\"  onclick=\"javascript:goUrl('/hrm/HrmTab.jsp?_fromURL=OrgChartHRM')\">\r\n							<span class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/com_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string8 = "</span>\";\r\n				targetSrc = \"/blog/blogView.jsp?menuItem=myBlog\";\r\n			}\r\n			\r\n			confirmContent += \"</div>\";\r\n			if (targetSrc != undefined && targetSrc != null && targetSrc != \"\") {\r\n				Dialog.confirm(\r\n					confirmContent, function (){\r\n						window.open(targetSrc);\r\n					}, function () {}, 520, 90,false\r\n			    );\r\n			} else {\r\n				Dialog.alert(confirmContent, function() {}, 520, 60,false);\r\n			}\r\n			\r\n		    return ;\r\n		}\r\n		confirmContent += \"</div>\";\r\n		Dialog.alert(confirmContent, function() {}, 520, 60,false);\r\n    });\r\n}\r\n\r\n\r\nfunction onCloseDivShowSignInfo(){\r\n    var showTableDiv  = document.getElementById('divShowSignInfo');\r\n    var oIframe = document.createElement('iframe');\r\n    \r\n    divShowSignInfo.style.display='none';\r\n    message_Div.style.display='none';\r\n    if (document.all.HelpFrame && document.all.HelpFrame.style) {\r\n        document.all.HelpFrame.style.display='none'\r\n    }\r\n}\r\n\r\nfunction ajaxInit(){\r\n    var ajax=false;\r\n    try {\r\n        ajax = new ActiveXObject(\"Msxml2.XMLHTTP\");\r\n    } catch (e) {\r\n        try {\r\n            ajax = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n        } catch (E) {\r\n            ajax = false;\r\n        }\r\n    }\r\n    if (!ajax && typeof XMLHttpRequest!='undefined') {\r\n    ajax = new XMLHttpRequest();\r\n    }\r\n    return ajax;\r\n}\r\nfunction getNowTime(){\r\n        //\u53d6\u5f97\u5f53\u524d\u65f6\u95f4\r\n        var now= new Date();\r\n        var hour=now.getHours();\r\n        \r\n        if (hour < 18) {\r\n            return false;\r\n        }\r\n        return true;\r\n}\r\n</script>\r\n<script type=\"text/javascript\">\r\n<!--\r\n    jQuery(document).ready(function() {\r\n        /*jQuery(\".tbItm\").hover(function() {\r\n			/** by zfh 2011-09-20\r\n			*\u7531\u4e8eIE\u7528jQuery\u65e0\u6cd5\u83b7\u53d6background-position\u7684\u503c\uff0c\u652f\u6301background-position-y\uff0cbackground-position-x\uff0c\r\n			*\u800cSafri\uff0cfirefox\uff0cchrome\u6b63\u597d\u76f8\u53cd\uff0c\u5148\u4f7f\u7528\u4e0b\u9762\u65b9\u6cd5\u83b7\u53d6background-position\u7684\u503c\r\n			*//*\r\n        	var bp=jQuery(jQuery(this)[0]).css(\"background-position\");\r\n			if(bp===undefined  ){\r\n				jQuery(jQuery(this)[0]).css(\"background-position-y\",\"-25px\");\r\n			}else{\r\n				bp=bp.split(\" \",\"1\")[0];\r\n				jQuery(jQuery(this)[0]).css(\"background-position\",bp+\"  -25px\");\r\n			}\r\n        }, function() {\r\n            var bp=jQuery(jQuery(this)[0]).css(\"background-position\");\r\n			if(bp===undefined  ){\r\n				jQuery(jQuery(this)[0]).css(\"background-position-y\",\"0px\");\r\n			}else{\r\n				bp=bp.split(\" \",\"1\")[0];\r\n				jQuery(jQuery(this)[0]).css(\"background-position\",bp+\" 0px\");\r\n			}\r\n        });*/\r\n        \r\n        jQuery(\".dropdown img.flag\").addClass(\"flagvisibility\");\r\n\r\n        jQuery(\".selectTile a\").click(function() {\r\n        	hideOtherHoverDiv('search');\r\n		 	\r\n            jQuery(\".selectContent ul\").toggle();\r\n            if(jQuery(\".selectContent ul\").css(\"display\")==\"none\"){\r\n            	jQuery(this).closest(\"div#sample\").removeClass(\"sampleSelected\");\r\n            }else{\r\n            	jQuery(this).closest(\"div#sample\").addClass(\"sampleSelected\");\r\n            }\r\n        });\r\n                    \r\n        jQuery(\".selectContent ul li a\").click(function() {\r\n            //\u83b7\u5f97\u5143\u7d20\u4fe1\u606f\r\n            var sibling = jQuery(this).nextAll();\r\n            if(sibling.length > 0){\r\n	            for(var i=0; i<sibling.length;i++){\r\n	                if($(sibling[i]).attr(\"name\") == \"mainid\"){\r\n	                    $(\"#mainid\").val($(sibling[i]).html());\r\n	                }else if($(sibling[i]).attr(\"name\") == \"stype\"){\r\n	                    $(\"#stype\").val($(sibling[i]).html());\r\n	                }else{\r\n	                    $(\"#fieldname\").val($(sibling[i]).html());\r\n	                }\r\n	            }\r\n            }\r\n            var text = jQuery(this).children(\"span\").html();\r\n            jQuery(\".selectTile a\").children(\"span\").html(text);\r\n            jQuery(\"input[name='searchtype']\").val(jQuery(this).children(\"span\").attr(\"searchType\"));\r\n            jQuery(\".selectContent ul\").hide();\r\n            jQuery(this).closest(\"div#sample\").removeClass(\"sampleSelected\");\r\n        });\r\n                    \r\n        function getSelectedValue(id) {\r\n            return jQuery(\"#\" + id).find(\"selectContent a span.value\").html();\r\n        }\r\n\r\n        jQuery(document).bind('click', function(e) {\r\n            var $clicked = jQuery(e.target);\r\n            if (! $clicked.parents().hasClass(\"dropdown\")){\r\n                jQuery(\".selectContent ul\").hide();\r\n				jQuery(\".selectContent ul\").closest(\"div#sample\").removeClass(\"sampleSelected\");\r\n			}\r\n        });\r\n\r\n\r\n        jQuery(\"#flagSwitcher\").click(function() {\r\n            jQuery(\".dropdown img.flag\").toggleClass(\"flagvisibility\");\r\n        });\r\n        \r\n        jQuery(\"#searchbt\").hover(function() {\r\n			var bp=jQuery(jQuery(this)[0]).css(\"background-position\");\r\n			if(bp===undefined  ){\r\n				//jQuery(jQuery(this)[0]).css(\"background-position-x\",\"-27px\");\r\n			}else{\r\n				bp=bp.split(\" \",\"2\")[1];\r\n				//jQuery(jQuery(this)[0]).css(\"background-position\",\"-27px \"+bp);\r\n			}\r\n        }, function() {\r\n            var bp=jQuery(jQuery(this)[0]).css(\"background-position\");\r\n			if(bp===undefined  ){\r\n				jQuery(jQuery(this)[0]).css(\"background-position-x\",\"-0px\");\r\n			}else{\r\n				bp=bp.split(\" \",\"2\")[1];\r\n				jQuery(jQuery(this)[0]).css(\"background-position\",\"-0px \"+bp);\r\n			}\r\n        });\r\n        \r\n        //\u66f4\u591a\u6309\u94ae\r\n        jQuery(\".toolbarMore\").bind(\"click\", function() {\r\n        	jQuery(\"#toolbarMore\").hide();\r\n        });\r\n        \r\n        jQuery(\"#toolbarMoreBtn\").hover(function(){\r\n        },function(){\r\n        	window.setTimeout(function(){\r\n        		if(jQuery(\"#toolbarMoreBtn\").data(\"isOpen\")){\r\n        			jQuery(\"#toolbarMore\").hide();\r\n        			jQuery(\"#toolbarMoreBtn\").removeClass(\"moreBtnSel\");\r\n        			jQuery(\"#toolbarMoreBtn\").data(\"isOpen\",false);\r\n        		}\r\n        	},600);\r\n        });\r\n        \r\n        jQuery(\"#toolbarMore\").hover(function() {\r\n        	jQuery(\"#toolbarMoreBtn\").data(\"isOpen\",false);\r\n        }, function() {\r\n        	jQuery(\"#toolbarMore\").hide();\r\n        	jQuery(\"#toolbarMoreBtn\").removeClass(\"moreBtnSel\");\r\n        	jQuery(\"#toolbarMoreBtn\").data(\"isOpen\",false);\r\n        });\r\n        \r\n        jQuery(\".moreBtn_option\").hover(function(){\r\n		 	jQuery(this).addClass(\"moreBtn_optionSelect\");\r\n		 },function(){\r\n		 	jQuery(this).removeClass(\"moreBtn_optionSelect\");\r\n		 });\r\n        \r\n        //\u4e3a\u4e86\u517c\u5bb9ie6\uff0c\u6536\u85cf\u5939iframe\u52a8\u6001\u8f7d\u5165\r\n        //jQuery(\"#navFav\").css(\"position\", \"relative\");\r\n		//jQuery(\"#navFav\").load(\"/wui/theme/ecology8/page/FavouriteShortCut.jsp\")\r\n		 	/**\u9875\u9762\u52a0\u8f7d\u65f6\u4e0d\u52a0\u8f7d\u83dc\u5355\uff0c\u6539\u4e3a\u70b9\u51fb\u65f6\u624d\u52a0\u8f7d\uff0c\u4ee5\u4fdd\u8bc1\u6bcf\u6b21\u6253\u5f00\u90fd\u662f\u6700\u65b0\u7684\u6536\u85cf\u5939\u5feb\u6377\u83dc\u5355*/\r\n		jQuery(\"td.fav\").css(\"cursor\",\"pointer\").bind(\"click\",function(){\r\n			/*\r\n			 var subMenus = $mt(\"subMenusContainer\");  //\u4e0b\u62c9\u83dc\u5355\r\n			 if(subMenus)   //\u5df2\u5b58\u5728\uff0c\u5148\u9500\u6bc1\r\n			 {\r\n			     subMenus.destroy();\r\n			 }\r\n			 jQuery(\"#navFav\").load(\"/wui/theme/ecology8/page/FavouriteShortCut.jsp?t=\" + Math.random(),function(){\r\n			 	 if(myMenu)\r\n			 	 {\r\n			 	 	 $mt(myMenu.options.subMenusContainerId).getFirst().fireEvent('show');  //\u9ed8\u8ba4\u5c55\u5f00\u7b2c\u4e00\u7ea7\u83dc\u5355\r\n			 	 }	\r\n			 })*/\r\n			 var url = \"/favourite/MyFavourite.jsp\";\r\n			var dialog = new window.top.Dialog();\r\n			dialog.currentWindow = window;\r\n			dialog.Title = \"".toCharArray();
    _jsp_string69 = "\");\r\n			} else {\r\n				jQuery(\"#sign_dispan\").text(\"".toCharArray();
    _jsp_string24 = ">\r\n					<div style=\"width: 1px;background: #ffffff;opacity:0.2;margin-top:10px;margin-bottom: 10px;height: 20px\">\r\n					</div>\r\n				</td>\r\n			       \r\n				".toCharArray();
    _jsp_string66 = "\";\r\n	var common = new MFCommon();\r\n	function uper() {\r\n	".toCharArray();
    _jsp_string64 = "\";\r\n				diag_vote.URL = \"/voting/VotingPoll.jsp?votingid=\"+arr[i];\r\n				if(forcevotearr[i] !=''){//\u5f3a\u5236\u8c03\u67e5\r\n				  diag_vote.ShowCloseButton=false; \r\n				}\r\n				diag_vote.show();\r\n			}\r\n		 }\r\n	 }\r\n  }\r\n  \r\n  var _signType = \"".toCharArray();
    _jsp_string39 = "\r\n					 \r\n					".toCharArray();
    _jsp_string7 = "</span>\";\r\n				targetSrc = \"/blog/blogView.jsp?menuItem=myBlog\";\r\n			}else if(!dataJson.todayHasBlog&&signType==2){\r\n				confirmContent += \"<br><br><span style=\\\"color:red;\\\">".toCharArray();
    _jsp_string30 = "\r\n					\r\n					".toCharArray();
    _jsp_string20 = " >\r\n				<div style=\"position: relative;width:".toCharArray();
    _jsp_string48 = "</span>\r\n							</div>\r\n							\r\n							<div class=\"moreBtn_option\" style=\"\"  onclick=\"javascript:goopenWindow('".toCharArray();
    _jsp_string56 = "\r\n\r\n<script language=javascript>  \r\n   if(voteids == \"\"){\r\n      voteids = '".toCharArray();
    _jsp_string67 = "\r\n	return false;\r\n	".toCharArray();
    _jsp_string53 = "</span></div>\r\n							<div class=\"moreBtn_option\" onclick=\"javascript:showVersion()\">\r\n							<span  class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/version_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string3 = "		\r\n".toCharArray();
    _jsp_string60 = "';\r\n      voteshows =voteshows + \",\" +  '".toCharArray();
    _jsp_string19 = "\r\n				<td id=\"tdSignInfo\" ".toCharArray();
    _jsp_string70 = "\");\r\n				jQuery(\"#sign_dispan\").prev().attr(\"src\",\"/wui/theme/ecology8/page/images/signOut_wev8.png\");\r\n			}\r\n			try{\r\n				if(navigator.userAgent.indexOf(\"MSIE\")>0 && navigator.userAgent.indexOf(\"MSIE 6.0\") > 0) {\r\n					DD_belatedPNG.fix('.tbItm,#toolbarMoreBlockTop,.searchBlockBgDiv,#sign_dispan,.topBlockDateBlock,.toolbarTopRight,background');\r\n				}\r\n			}catch(e){}\r\n		}\r\n	}\r\n\r\nvar needRemind = true;\r\nfunction canSign(){\r\n	if(!needRemind)return;\r\n	try{\r\n		jQuery.ajax({\r\n			url:\"/hrm/ajaxData.jsp\",\r\n			type:\"POST\",\r\n			dataType:\"json\",\r\n			async:false,\r\n			data:{\r\n				cmd:\"isNeedSign\",\r\n			},\r\n			success:function(data){\r\n				if(data.isNeedSign){\r\n					window.top.Dialog.confirm(\"".toCharArray();
    _jsp_string25 = "\r\n                        <td onClick=\"window.location.href='/rdeploy/chatproject/main.jsp';\" title=\"".toCharArray();
    _jsp_string38 = "\" style=\"width:40px;background:url(/wui/theme/ecology8/page/images/rtx_wev8.png) no-repeat scroll center 50%;\" class=\"backgroundPosition\">\r\n			        	<span style=\"background-position:-395 0;display:block;\" class=\"tbItm\"></span>\r\n			        </td>					\r\n					".toCharArray();
    _jsp_string65 = "\";\r\n	var _signStartTime = \"".toCharArray();
    _jsp_string13 = "\";\r\n	 	//jQuery(obj).css(\"color\",\"#429ce1\");\r\n	}\r\n}\r\n\r\n\r\n\r\n\r\n//-->\r\n</script>\r\n\r\n<iframe id=\"downLoadReg\" style=\"display: none;\"></iframe>\r\n<div>\r\n<table align=\"right\" style=\"height:50px;\"  cellpadding=\"0px\" cellspacing=\"0px\" >\r\n	<tr width=\"100%\">\r\n       \r\n		<td width=\"100%\">\r\n    	    <TABLE style=\"height:100%;\" cellpadding=\"0px\" cellspacing=\"0px\"  width=\"100%\" align=\"right\">\r\n    	    	<tr align=\"left\">\r\n    	    		<!-- \u4e3b\u9875 -->\r\n			       <!-- <td onClick=\"javascript:dymlftenu(this);\" title=\"".toCharArray();
    _jsp_string21 = "px;height: 40px;cursor: pointer;\">\r\n					<img onclick=\"jQuery(this).next().trigger('click')\" src=\"/wui/theme/ecology8/page/images/signIn_wev8.png\" style=\"position:absolute;left:0px;top:13px;cursor:pointer;\">\r\n					<div class=\"leftColor\" onclick=\"signInOrSignOut(jQuery(this).attr('_signFlag'))\" style=\"position:absolute;left:25px;top:13px;overflow:hidden;text-overflow:ellipsis;cursor:pointer;\" _signFlag=\"".toCharArray();
    _jsp_string50 = "</span>\r\n							</div>\r\n							<div class=\"moreBtn_option\" onclick=\"javascript:setSafeSite()\">\r\n							<span  class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/plugin_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string33 = "\" style=\"width:40px;background:url(/wui/theme/ecology8/page/images/favorite_wev8.png) no-repeat scroll center 50%;\" class=\"backgroundPosition\">\r\n			        	 <span><ul id=\"navFav\"> </ul></span>\r\n			        </td>\r\n			       \r\n                     ".toCharArray();
    _jsp_string35 = "\r\n					<td class=\"elink\" onClick=\"javascript:openEimClient()\" title=\"".toCharArray();
    _jsp_string74 = "\";\r\n	if(isNeedSign == \"true\" && signType == \"1\") {\r\n		window.top.Dialog.confirm(\"".toCharArray();
    _jsp_string26 = "\" id=\"imAddress\" style=\"width:40px;background:url(/rdeploy/assets/img/cproj/chatPortal.png) no-repeat scroll center 50%;\"  class=\"backgroundPosition\"  >\r\n                            <span style=\"display:block;\" class=\"tbItm\"></span>\r\n                        </td>\r\n                    ".toCharArray();
    _jsp_string77 = "\",function(){\r\n		window.location='/login/Logout.jsp';\r\n	})\r\n}\r\n</script> \r\n\r\n".toCharArray();
    _jsp_string4 = "\r\n\r\n<script language=javascript>\r\nfunction signInOrSignOut(signType){\r\n    if(signType != 1){\r\n	    var ajaxUrl = \"/wui/theme/ecology8/page/getSystemTime.jsp\";\r\n		ajaxUrl += \"?field=\";\r\n		ajaxUrl += \"HH\";\r\n		ajaxUrl += \"&token=\";\r\n		ajaxUrl += new Date().getTime();\r\n		\r\n		jQuery.ajax({\r\n		    url: ajaxUrl,\r\n		    dataType: \"text\", \r\n		    contentType : \"charset=UTF-8\", \r\n		    error:function(ajaxrequest){}, \r\n		    success:function(content){\r\n		    	var isWorkTime = jQuery.trim(content);\r\n		    	if (isWorkTime == \"true\") {\r\n		       window.top.Dialog.confirm('".toCharArray();
    _jsp_string6 = "\");\r\n               \r\n                \r\n                jQuery(\"#sign_dispan\").prev().attr(\"src\",\"/wui/theme/ecology8/page/images/signOut_wev8.png\")\r\n                \r\n                showPromptForShowSignInfo(ajax.responseText, signType);\r\n                jQuery(\"#sign_dispan\").attr(\"_signFlag\", 2);\r\n                if(navigator.userAgent.indexOf(\"MSIE\")>0 && navigator.userAgent.indexOf(\"MSIE 6.0\") > 0){  \r\n					DD_belatedPNG.fix('.tbItm,#toolbarMoreBlockTop,.searchBlockBgDiv,#sign_dispan,.topBlockDateBlock,.toolbarTopRight,background');\r\n				}\r\n            }catch(e){\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n//type  1:\u663e\u793a\u63d0\u793a\u4fe1\u606f\r\n//      2:\u663e\u793a\u8fd4\u56de\u7684\u5386\u53f2\u52a8\u6001\u60c5\u51b5\u4fe1\u606f\r\nfunction showPromptForShowSignInfo(content, signType){\r\n    var targetSrc = \"\";\r\n	content = jQuery.trim(content).replace(/&nbsp;/g, \"\");\r\n	var confirmContent = \"<div style=\\\"margin-left:5px;margin-right:5px;\\\">\" + content.substring(content.toUpperCase().indexOf('<TD VALIGN=\"TOP\">') + 17, content.toUpperCase().indexOf(\"<BUTTON\"));\r\n	\r\n    var checkday=\"\";\r\n	if(signType==1) checkday=\"prevWorkDay\";\r\n	if(signType==2) checkday=\"today\";\r\n	jQuery.post(\"/blog/blogOperation.jsp?operation=signCheck&checkday=\"+checkday,\"\",function(data){\r\n		var dataJson=eval(\"(\"+data+\")\");\r\n		if (dataJson.isSignRemind==1){\r\n		    if(!dataJson.prevWorkDayHasBlog&&signType==1){\r\n				confirmContent += \"<br><br><span style=\\\"color:red;\\\">".toCharArray();
    _jsp_string14 = "\">\r\n						<span style=\"background-position:0 0;display:block;\" class=\"tbItm\"></span>\r\n			        </td>-->\r\n			         <!--<td style=\"width:10px;height:20px;\" align=\"center\">\r\n			        	<table cellpadding=\"0px\" cellspacing=\"0px\"><tr><td width=\"2px\">-->\r\n						<!--background:url(/wui/theme/ecology8/skins/".toCharArray();
    _jsp_string45 = "\r\n						<div class=\"moreBtn_option\" style=\"margin-top:-11px;background-color: #d5ecff;color:#228ade;\"  onclick=\"javascript:window.open('/middlecenter/index.jsp')\">\r\n							<span class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/back-end_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string49 = "','/weaverplugin/PluginMaintenance.jsp')\">\r\n							<span class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/download_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string68 = "\r\n		common.ajax(\"cmd=compareTime&arg0=\"+_signType+\"&arg1=\"+_signStartTime, false, function(result){\r\n			changeSignInfo(result);\r\n			window.setTimeout(uper, 1000 * 60);\r\n		});\r\n	}\r\n	function changeSignInfo(sType) {\r\n		if(sType != 1 && sType != 2) {\r\n			jQuery(\"#tdSignInfo\").hide();\r\n			jQuery(\"#tdSignInfoLine\").hide();\r\n		} else {\r\n			jQuery(\"#tdSignInfo\").show();\r\n			jQuery(\"#tdSignInfoLine\").show();\r\n			jQuery(\"#sign_dispan\").attr(\"_signFlag\", sType);\r\n			if(sType == 1) {\r\n				jQuery(\"#sign_dispan\").text(\"".toCharArray();
    _jsp_string76 = ");\r\n		}, function() {\r\n			setTimeout('canSign()', 60*5*1000);\r\n		});\r\n	}\r\n	setTimeout('uper()', 60*1000);\r\n});\r\n\r\nfunction logout(){\r\n	top.Dialog.confirm(\"".toCharArray();
    _jsp_string42 = "/page/top/toolbarMoreTop_wev8.png);-->\r\n						<div id=\"toolbarMore\" class=\"moreBtn\">\r\n			        		<div id=\"toolbarMoreBlockTop\" style=\"background-repeat:no-repeat;height:11px;overflow:hidden;width:184px;\"></div>\r\n			        				<!-- modified by wcd 2014-09-24 -->\r\n    					".toCharArray();
    _jsp_string16 = "/page/ecologyShellImg_wev8.png);margin-right:7px;display:block;width:2px;height:20px;background-position:0 -50;\" class=\"toolbarSplitLine\"></span>\r\n			        	</td></tr></table>\r\n			        </td>-->\r\n					 <!-- \u5f85\u529e \r\n			        <td style=\"background:url(/wui/theme/ecology8/page/images/unhandlerequest_wev8.png) no-repeat scroll center top;\"  class=\"backgroundPosition\"  title=\"".toCharArray();
    _jsp_string75 = "\",function(){\r\n			signInOrSignOut(".toCharArray();
    _jsp_string23 = "\r\n					</div>\r\n				</div>\r\n				</td>\r\n				<td id=\"tdSignInfoLine\" ".toCharArray();
    _jsp_string46 = "</span>\r\n						</div>\r\n						".toCharArray();
    _jsp_string11 = "e-cology\";\r\ndlg.currentWindow = window;\r\ndlg.Model=true;\r\ndlg.Width=630;//\u5b9a\u4e49\u957f\u5ea6\r\ndlg.Height=400;\r\ndlg.URL=url;\r\ndlg.Title=title;\r\ndlg.show();\r\n}\r\n\r\nfunction clearVal(obj){\r\n	if(obj.value=='".toCharArray();
    _jsp_string73 = "\";\r\n	var signType = \"".toCharArray();
    _jsp_string41 = "\" style=\"width:40px;background:url(/wui/theme/ecology8/page/images/more_wev8.png) no-repeat scroll center 50%;position:relative;\"> \r\n			        	<span style=\"display:block;\" class=\"tbItm\"></span>\r\n				   </td>\r\n					<td style=\"position:absolute;right:15px!important;top:40px;\" id=\"toolbarMoreTD\">\r\n					<!--background-image:url(/wui/theme/ecology8/skins/".toCharArray();
    _jsp_string10 = "\";\r\n	diag_xx.Modal = false;\r\n\r\n	diag_xx.URL = \"/calendar/wnl2.jsp\";\r\n	diag_xx.show();\r\n}\r\n\r\nfunction setSafeSite(){\r\n  jQuery(\"#downLoadReg\").attr(\"src\",\"/weaverplugin/EcologyPlugin.zip\");\r\n}\r\n//-->\r\n</script>\r\n\r\n<script type=\"text/javascript\">\r\n<!--\r\nfunction toolbarSearchIframeOnload(_this) {\r\n}\r\n//function showVersion(){\r\n//	 about=window.showModalDialog(\"/systeminfo/version.jsp\",\"\",\"dialogHeight:460px;dialogwidth:660px;help:no\");\r\n//}\r\n\r\nfunction showVersion(){	\r\nvar dlg=new window.top.Dialog();//\u5b9a\u4e49Dialog\u5bf9\u8c61\r\nvar url = \"/systeminfo/version.jsp\";\r\nvar title = \"".toCharArray();
    _jsp_string51 = "</span></div>\r\n							<div class=\"moreBtn_option\" onclick=\"javascript:goopenWindow('".toCharArray();
    _jsp_string12 = "'){\r\n		obj.value=\"\";\r\n	}\r\n	//jQuery(obj).css(\"color\",\"#fff\");\r\n}\r\n\r\nfunction recoverVal(obj){\r\n	if(obj.value==''||obj.value==null){\r\n		obj.value=\"".toCharArray();
    _jsp_string37 = "\r\n					<td class=\"rtx\" onClick=\"javascript:openRtxClient()\" title=\"".toCharArray();
    _jsp_string28 = "	\r\n			        <!-- emessage -->\r\n			        <td onClick=\"window.open('http://emobile.weaver.com.cn/customerproduce.do?serverVersion=".toCharArray();
    _jsp_string59 = "';\r\n   }else{\r\n      voteids =voteids + \",\" +  '".toCharArray();
    _jsp_string18 = "\r\n			       \r\n					<!-- \u90ae\u4ef6 -->\r\n				".toCharArray();
    _jsp_string15 = "/page/ecologyShellImg_wev8.png);-->\r\n			        	<!--	<span style=\"margin-right:7px;display:block;width:2px;height:20px;background-position:0 -50;\" class=\"toolbarSplitLine\"></span>\r\n			        	</td></tr></table>\r\n			        </td>-->\r\n					\r\n			        <!-- Line -->\r\n			        <!--<td style=\"width:10px;height:20px;\" align=\"center\">\r\n			        	<table cellpadding=\"0px\" cellspacing=\"0px\"><tr><td width=\"2px\">\r\n			        		<span style=\"background:url(/wui/theme/ecology8/skins/".toCharArray();
    _jsp_string27 = "\r\n                   \r\n			         ".toCharArray();
    _jsp_string44 = "</span>\r\n						</div>\r\n						\r\n						".toCharArray();
    _jsp_string55 = "\" >\r\n			        	<div  class=\"tbItm f12 quit\" >\r\n			        	</div>\r\n					</td>\r\n    	    	</tr>\r\n    		</TABLE> \r\n    	</td>\r\n    </tr>\r\n    \r\n	<!--<tr>\r\n		<td height=\"2px;\"></td>\r\n	</tr>-->\r\n	\r\n</table>\r\n</div>\r\n\r\n<SCRIPT LANGUAGE=\"javascript\">\r\nvar voteids = \"\";//\u7f51\u4e0a\u8c03\u67e5\u7684id\r\nvar voteshows = \"\";//\u7f51\u4e0a\u8c03\u67e5\u662f\u5426\u5f39\u51fa\r\nvar votefores = \"\";//\u7f51\u4e0a\u8c03\u67e5---> \u5f3a\u5236\u8c03\u67e5\r\n</SCRIPT>\r\n\r\n\r\n".toCharArray();
    _jsp_string17 = "\">\r\n			        	<a style=\"display:block;\" class=\"tbItm\" href=\"/workflow/request/RequestView.jsp\" target=\"mainFrame\" ></a>\r\n			        </td>-->\r\n			        ".toCharArray();
    _jsp_string22 = "\" id=\"sign_dispan\">\r\n					".toCharArray();
    _jsp_string2 = "\r\n".toCharArray();
    _jsp_string5 = "',function(){\r\n		       	writeSignStatus(signType);\r\n		       },function(){\r\n		       	return;\r\n		       })     \r\n		      }else{\r\n		      	writeSignStatus(signType);\r\n		      }\r\n		    }  \r\n	    });\r\n    } else {\r\n    	writeSignStatus(signType);\r\n    }\r\n}\r\n\r\nfunction writeSignStatus(signType) {\r\n	var ajax=ajaxInit();\r\n    ajax.open(\"POST\", \"/hrm/schedule/HrmScheduleSignXMLHTTP.jsp?t=\"+Math.random(), true); \r\n    ajax.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\r\n    ajax.send(\"signType=\"+signType);\r\n    //\u83b7\u53d6\u6267\u884c\u72b6\u6001\r\n    ajax.onreadystatechange = function() {\r\n        //\u5982\u679c\u6267\u884c\u72b6\u6001\u6210\u529f\uff0c\u90a3\u4e48\u5c31\u628a\u8fd4\u56de\u4fe1\u606f\u5199\u5230\u6307\u5b9a\u7684\u5c42\u91cc\r\n        if (ajax.readyState == 4 && ajax.status == 200) {\r\n            try{\r\n            	jQuery(\"#sign_dispan\").text(\"".toCharArray();
    _jsp_string63 = " \r\n\r\n<script type=\"text/javascript\" src=\"/appres/hrm/js/mfcommon_wev8.js\"></script>\r\n<script language=javascript>  \r\n\r\nfunction showVote(){\r\n     if(voteids !=\"\"){\r\n	     var arr = voteids.split(\",\");\r\n	     var autoshowarr = voteshows.split(\",\");\r\n	     var forcevotearr = forcevotes.split(\",\");\r\n		 for(i=0;i<arr.length;i++){\r\n		    //\u5224\u65ad\u662f\u5426\u5f39\u51fa\u8c03\u67e5\r\n		    if(autoshowarr[i] !='' || forcevotearr[i] !=''){//\u5f39\u51fa\r\n			    var diag_vote = new Dialog();\r\n				diag_vote.Width = 960;\r\n				diag_vote.Height = 800;\r\n				diag_vote.Title = \"".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string58 = "';\r\n      forcevotes = '".toCharArray();
    _jsp_string36 = "\" style=\"width:40px;background:url(/wui/theme/ecology8/page/images/elink_wev8.png) no-repeat scroll center 50%;\" class=\"backgroundPosition\">\r\n			        	<span style=\"display:block;\" class=\"tbItm\"></span>\r\n			        </td>\r\n			      \r\n					".toCharArray();
    _jsp_string29 = "')\" title=\"E-Mobile\"  class=\"emobile\"  style=\"width:40px;background:url(/wui/theme/ecology8/page/images/info_wev8.png) no-repeat scroll center 50%;\"  class=\"backgroundPosition\"  >\r\n			        	<span style=\"display:block;\" class=\"tbItm\"></span>\r\n			        </td>\r\n			        \r\n					".toCharArray();
    _jsp_string40 = "\r\n			        \r\n			        <!--<td style=\"width:10px;height:20px;\" align=\"center\">\r\n			        	<table cellpadding=\"0px\" cellspacing=\"0px\"><tr><td width=\"2px\">\r\n			        		<span style=\"margin-right:7px;display:block;width:2px;height:20px;background-position:0 -50;\" class=\"toolbarSplitLine\"></span>\r\n			        	</td></tr></table>\r\n			        </td>-->\r\n			         \r\n			        <td id=\"toolbarMoreBtn\" class=\"toolbarmore\" onclick=\"javascript:toolbarMore();\" title=\"".toCharArray();
    _jsp_string52 = "','/hrm/HrmTab.jsp?_fromURL=licenseInfo')\">\r\n							<span  class=\"moreBtn_optionSpan\"><img width=\"17\" src=\"/wui/theme/ecology8/page/images/license_wev8.png\" style=\"vertical-align:middle;\"></span>\r\n							<span>".toCharArray();
    _jsp_string61 = "';\r\n      forcevotes =forcevotes + \",\" +  '".toCharArray();
    _jsp_string72 = "\");\r\n                showPromptForShowSignInfo(ajax.responseText, signType);\r\n                jQuery(\"#sign_dispan\").attr(\"_signFlag\", 1);\r\n                if(navigator.userAgent.indexOf(\"MSIE\")>0 && navigator.userAgent.indexOf(\"MSIE 6.0\") > 0){  \r\n									DD_belatedPNG.fix('.tbItm,#toolbarMoreBlockTop,.searchBlockBgDiv,#sign_dispan,.topBlockDateBlock,.toolbarTopRight,background');\r\n								}\r\n            }catch(e){}\r\n					})\r\n				}else{\r\n					setTimeout('canSign()', 60*5*1000);\r\n				}\r\n			}\r\n		});\r\n	}catch(e){}\r\n}\r\n</script> \r\n\r\n\r\n<script language=javascript>  \r\njQuery(document).ready(function() {\r\n	showVote();\r\n	var isNeedSign = \"".toCharArray();
    _jsp_string34 = "\r\n						<td>\r\n			        	\r\n			        </td>\r\n						".toCharArray();
    _jsp_string54 = "</span></div>\r\n						</div>\r\n					</td>\r\n						\r\n			        <td  class=\"logout\" style=\"width:40px;background:url(/wui/theme/ecology8/page/images/more_wev8.png) no-repeat scroll center 50%;\" onclick=\"logout()\" title=\"".toCharArray();
    _jsp_string1 = "\r\n\r\n".toCharArray();
    _jsp_string71 = "\",function(){\r\n						signInOrSignOut(data.signType);\r\n						needRemind = false;\r\n						jQuery(\"#tdSignInfo\").show();\r\n						jQuery(\"#tdSignInfoLine\").show();\r\n					},function(){\r\n						needRemind = false;\r\n					  try{\r\n					  	jQuery(\"#tdSignInfo\").show();\r\n					  	jQuery(\"#tdSignInfoLine\").show();\r\n            	jQuery(\"#sign_dispan\").text(\"".toCharArray();
    _jsp_string31 = "	\r\n			        <!-- emessage -->\r\n			        <td onClick=\"javascript:window.open('/messager/installm3/emessageproduce.jsp')\" title=\"E-Message\"  class=\"emessage\"  style=\"width:40px;background:url(/wui/theme/ecology8/page/images/info_wev8.png) no-repeat scroll center 50%;\"  class=\"backgroundPosition\"  >\r\n			        	<span style=\"display:block;\" class=\"tbItm\"></span>\r\n			        </td>\r\n			       \r\n					".toCharArray();
  }
}
