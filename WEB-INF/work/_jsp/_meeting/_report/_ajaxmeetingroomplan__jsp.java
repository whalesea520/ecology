/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._meeting._report;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.general.*;
import java.util.*;
import weaver.hrm.User;
import weaver.systeminfo.SystemEnv;
import weaver.hrm.HrmUserVarify;
import java.net.URLDecoder;
import weaver.meeting.MeetingShareUtil;

public class _ajaxmeetingroomplan__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;

  
  public String getTimesBg(int j,int dspUnit){
  	int totalminutes = (j+1) * (60/dspUnit);
  	int hours = (int)totalminutes/60;
  	int minute = totalminutes%60;
  	String times = (hours > 9 ? (""+hours) :("0"+hours)) +":"+  (minute > 9 ? (""+minute) :("0"+minute));
      return times;
  }
  
  public String getTimesEd(int j,int dspUnit){
  	int totalminutes = (j+1) * (60/dspUnit);
  	int hours = (int)totalminutes/60;
  	int minute = totalminutes%60;
  	if(minute==0){
  		minute=59;
  		hours-=1;
  	}else{
  		minute-=1;
  	}
  	String times = (hours > 9 ? (""+hours) :("0"+hours)) +":"+  (minute > 9 ? (""+minute) :("0"+minute));
      return times;
  }
  
  public String formatText(String str, int len){
  	return str.length() > len?str.substring(0,len)+"...":str;
  }
  
  public String getDayOccupied(String thisDate, List beginDateList, List beginTimeList, List endDateList, List endTimeList, List cancelList)
  {
  	String[] minute = new String[24 * 60];
  	
  	for (int i = 0; i < beginDateList.size(); i++)
  	{
  		String beginDate = (String)beginDateList.get(i);
  		String beginTime = (String)beginTimeList.get(i);
  		String endDate = (String)endDateList.get(i);
  		String endTime = (String)endTimeList.get(i);
  		String cancel = (String)cancelList.get(i);
  				
  		if(!"1".equals(cancel) && beginDate.compareTo(thisDate) <= 0 && thisDate.compareTo(endDate) <= 0)
  		{
  			if(beginDate.compareTo(thisDate) < 0)
  			{
  				beginTime = "00:00";
  			}
  			if(thisDate.compareTo(endDate) < 0)
  			{
  				endTime = "23:59";
  			}
  			
  			int beginMinuteOfDay = getMinuteOfDay(beginTime);
  			int endMinuteOfDay  = getMinuteOfDay(endTime);
  			if(!beginTime.split(":")[1].equals("59")){
  				beginMinuteOfDay+=1;
  			}
  			while(beginMinuteOfDay <= endMinuteOfDay)
  			{
  				if("1".equals(minute[beginMinuteOfDay]))
  				{
  					return "2";
  				}
  				else
  				{
  					minute[beginMinuteOfDay] = "1";
  				}
  			
  				beginMinuteOfDay++;
  			}
  		}	
  	}
  	
  	for(int i = 0; i < 24 * 60; i++)
  	{
  		if("1".equals(minute[i]))
  		{
  			return "1";
  		}
  	}
  	return "0";
  }
  
  public String getHourOccupied(String thisDate, String thisHour, List beginDateList, List beginTimeList, List endDateList, List endTimeList, List cancelList,int dspUnix)
  {
  	String[] minute = new String[24 * 60];
  	String starttime1 = dspUnix==1?((thisHour.length()==1?"0"+thisHour:thisHour)+":00"):getTimesBg(Util.getIntValue(thisHour)-1,dspUnix);
  	String endtime1 = dspUnix==1?((thisHour.length()==1?"0"+thisHour:thisHour)+":59"):getTimesEd(Util.getIntValue(thisHour),dspUnix); 
  	
  	for (int i = 0; i < beginDateList.size(); i++) 
  	{
  		String beginDate = (String)beginDateList.get(i);
  		String beginTime = (String)beginTimeList.get(i);
  		String endDate = (String)endDateList.get(i);
  		String endTime = (String)endTimeList.get(i);
  		String cancel = (String)cancelList.get(i);
  			
  		if
  		(
  			!"1".equals(cancel) 
  			&& (beginDate.compareTo(thisDate) < 0 || (beginDate.compareTo(thisDate) == 0 && beginTime.compareTo(endtime1) <= 0)) 
  			&& (thisDate.compareTo(endDate) < 0 || (thisDate.compareTo(endDate) == 0 && (starttime1).compareTo(endTime) <= 0))
  		)
  		{
  			if(beginDate.compareTo(thisDate) < 0 || beginTime.compareTo(starttime1) < 0)
  			{
  				beginTime = starttime1;
  			}
  			if(thisDate.compareTo(endDate) < 0 || (endtime1).compareTo(endTime) <= 0)
  			{
  				endTime = endtime1;
  			}
  			
  			int beginMinuteOfHour = getMinuteOfDay(beginTime);
  			int endMinuteOfHour  = getMinuteOfDay(endTime);
  			if(!beginTime.split(":")[1].equals("59")){
  				beginMinuteOfHour+=1;
  			}
  			while(beginMinuteOfHour <= endMinuteOfHour)
  			{
  				if("1".equals(minute[beginMinuteOfHour]))
  				{
  					return "2";
  				}
  				else
  				{
  					minute[beginMinuteOfHour] = "1";
  				}
  			
  				beginMinuteOfHour++;
  			}
  		}	
  	}
  		
  	for(int i = 0; i < 24 * 60; i++)
  	{
  		if("1".equals(minute[i]))
  		{
  			return "1";
  		}
  	}
  
  	return "0";
  }
  
  private int getMinuteOfDay(String time)
  {
  	List timeList = Util.TokenizerString(time, ":");
  	
  	return (Integer.parseInt((String)timeList.get(0)) * 60 + Integer.parseInt((String)timeList.get(1)));
  }

  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      weaver.conn.RecordSet RecordSet;
      RecordSet = (weaver.conn.RecordSet) pageContext.getAttribute("RecordSet");
      if (RecordSet == null) {
        RecordSet = new weaver.conn.RecordSet();
        pageContext.setAttribute("RecordSet", RecordSet);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.cpt.capital.CapitalComInfo CapitalComInfo;
      CapitalComInfo = (weaver.cpt.capital.CapitalComInfo) pageContext.getAttribute("CapitalComInfo");
      if (CapitalComInfo == null) {
        CapitalComInfo = new weaver.cpt.capital.CapitalComInfo();
        pageContext.setAttribute("CapitalComInfo", CapitalComInfo);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.meeting.Maint.MeetingRoomComInfo MeetingRoomComInfo;
      MeetingRoomComInfo = (weaver.meeting.Maint.MeetingRoomComInfo) pageContext.getAttribute("MeetingRoomComInfo");
      if (MeetingRoomComInfo == null) {
        MeetingRoomComInfo = new weaver.meeting.Maint.MeetingRoomComInfo();
        pageContext.setAttribute("MeetingRoomComInfo", MeetingRoomComInfo);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.meeting.Maint.MeetingRoomReport mrr;
      mrr = (weaver.meeting.Maint.MeetingRoomReport) pageContext.getAttribute("mrr");
      if (mrr == null) {
        mrr = new weaver.meeting.Maint.MeetingRoomReport();
        pageContext.setAttribute("mrr", mrr);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.splitepage.transform.SptmForMeeting SptmForMeeting;
      SptmForMeeting = (weaver.splitepage.transform.SptmForMeeting) pageContext.getAttribute("SptmForMeeting");
      if (SptmForMeeting == null) {
        SptmForMeeting = new weaver.splitepage.transform.SptmForMeeting();
        pageContext.setAttribute("SptmForMeeting", SptmForMeeting);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      weaver.hrm.company.DepartmentComInfo departmentComInfo;
      departmentComInfo = (weaver.hrm.company.DepartmentComInfo) pageContext.getAttribute("departmentComInfo");
      if (departmentComInfo == null) {
        departmentComInfo = new weaver.hrm.company.DepartmentComInfo();
        pageContext.setAttribute("departmentComInfo", departmentComInfo);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.systeminfo.systemright.CheckSubCompanyRight checkSubCompanyRight;
      checkSubCompanyRight = (weaver.systeminfo.systemright.CheckSubCompanyRight) pageContext.getAttribute("checkSubCompanyRight");
      if (checkSubCompanyRight == null) {
        checkSubCompanyRight = new weaver.systeminfo.systemright.CheckSubCompanyRight();
        pageContext.setAttribute("checkSubCompanyRight", checkSubCompanyRight);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.hrm.resource.ResourceComInfo resourceComInfo;
      resourceComInfo = (weaver.hrm.resource.ResourceComInfo) pageContext.getAttribute("resourceComInfo");
      if (resourceComInfo == null) {
        resourceComInfo = new weaver.hrm.resource.ResourceComInfo();
        pageContext.setAttribute("resourceComInfo", resourceComInfo);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.hrm.company.SubCompanyComInfo SubCompanyComInfo;
      SubCompanyComInfo = (weaver.hrm.company.SubCompanyComInfo) pageContext.getAttribute("SubCompanyComInfo");
      if (SubCompanyComInfo == null) {
        SubCompanyComInfo = new weaver.hrm.company.SubCompanyComInfo();
        pageContext.setAttribute("SubCompanyComInfo", SubCompanyComInfo);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.meeting.Maint.MeetingSetInfo meetingSetInfo;
      meetingSetInfo = (weaver.meeting.Maint.MeetingSetInfo) pageContext.getAttribute("meetingSetInfo");
      if (meetingSetInfo == null) {
        meetingSetInfo = new weaver.meeting.Maint.MeetingSetInfo();
        pageContext.setAttribute("meetingSetInfo", meetingSetInfo);
      }
      out.write(_jsp_string1, 0, _jsp_string1.length);
      weaver.hrm.moduledetach.ManageDetachComInfo ManageDetachComInfo;
      ManageDetachComInfo = (weaver.hrm.moduledetach.ManageDetachComInfo) pageContext.getAttribute("ManageDetachComInfo");
      if (ManageDetachComInfo == null) {
        ManageDetachComInfo = new weaver.hrm.moduledetach.ManageDetachComInfo();
        pageContext.setAttribute("ManageDetachComInfo", ManageDetachComInfo);
      }
      out.write(_jsp_string3, 0, _jsp_string3.length);
      
User user = HrmUserVarify.getUser(request,response);
int userSub = user.getUserSubCompany1(); 
Calendar calendar = Calendar.getInstance();

boolean isUseMtiManageDetach=ManageDetachComInfo.isUseMtiManageDetach();
int detachable=0;
if(isUseMtiManageDetach){
	detachable=1;
   session.setAttribute("detachable","1");
   session.setAttribute("meetingdetachable","1");
}else{
	detachable=0;
   session.setAttribute("detachable","0");
   session.setAttribute("meetingdetachable","0");
}

    

String imagefilename = "/images/hdReport_wev8.gif";
String titlename = "";
String needfav ="1";
String needhelp ="";
char flag=2;
String userid=user.getUID()+"" ;
ArrayList newMeetIds = new ArrayList() ;
boolean cancelRight = HrmUserVarify.checkUserRight("Canceledpermissions:Edit",user);
//1: year 2:month 3:week 4:today but the year haven`t been used!
int bywhat = Util.getIntValue(request.getParameter("bywhat"),4);

String currentdate =  Util.null2String(request.getParameter("currentdate"));
String movedate = Util.null2String(request.getParameter("movedate"));
String relatewfid = Util.null2String(request.getParameter("relatewfid"));
String operation=Util.null2String(request.getParameter("operation"));
String content = URLDecoder.decode(Util.null2String(request.getParameter("content")).trim(),"utf-8");
String canEdit = Util.null2String(request.getParameter("canEdit"));
//System.out.println("content:"+content);
int meetingid=Util.getIntValue(request.getParameter("id"),0);
int subids = Util.getIntValue(request.getParameter("subids"), -1);
Calendar today = Calendar.getInstance();
Calendar temptoday1 = Calendar.getInstance();
Calendar temptoday2 = Calendar.getInstance();
String nowdate = Util.add0(today.get(Calendar.YEAR), 4) +"-"+
                 Util.add0(today.get(Calendar.MONTH) + 1, 2) +"-"+
                 Util.add0(today.get(Calendar.DAY_OF_MONTH), 2) ;
String nowtime = Util.add0(today.get(Calendar.HOUR_OF_DAY), 2) + ":" +
                Util.add0(today.get(Calendar.MINUTE), 2) + ":" +
                Util.add0(today.get(Calendar.SECOND), 2);   
if(operation.equals("cancel")){
    RecordSet.executeSql("update meeting set cancel='1',meetingStatus=4,canceldate='"+nowdate+"',canceltime='"+nowtime+"' where id="+meetingid);
}

if(!currentdate.equals("")) {
	int tempyear = Util.getIntValue(currentdate.substring(0,4)) ;
	int tempmonth = Util.getIntValue(currentdate.substring(5,7))-1 ;
	int tempdate = Util.getIntValue(currentdate.substring(8,10)) ;
	today.set(tempyear,tempmonth,tempdate);
} 

int currentyear=today.get(Calendar.YEAR);
int thisyear=currentyear;
int currentmonth=today.get(Calendar.MONTH);  
int currentday=today.get(Calendar.DATE);

switch(bywhat) {
	case 1:
		today.set(currentyear,0,1) ;
		if(movedate.equals("1")) today.add(Calendar.YEAR,1) ;
		if(movedate.equals("-1")) today.add(Calendar.YEAR,-1) ;
		break ;
	case 2:
		today.set(currentyear,currentmonth,1) ;
		if(movedate.equals("1")) today.add(Calendar.MONTH,1) ;
		if(movedate.equals("-1")) today.add(Calendar.MONTH,-1) ;
		break ;
	case 3:
		Date thedate = today.getTime() ;
		int diffdate = (-1)*thedate.getDay() ;
		today.add(Calendar.DATE,diffdate) ;
		if(movedate.equals("1")) today.add(Calendar.WEEK_OF_YEAR,1) ;
		if(movedate.equals("-1")) today.add(Calendar.WEEK_OF_YEAR,-1) ;
		today.add(Calendar.DATE,1);
		break;
	case 4:
		if(movedate.equals("1")) today.add(Calendar.DATE,1) ;
		if(movedate.equals("-1")) today.add(Calendar.DATE,-1) ;
		break;
}

currentyear=today.get(Calendar.YEAR);
currentmonth=today.get(Calendar.MONTH)+1;  
currentday=today.get(Calendar.DATE); 

currentdate = Util.add0(currentyear,4)+"-"+Util.add0(currentmonth,2)+"-"+Util.add0(currentday,2) ;
temptoday1.set(currentyear,currentmonth-1,currentday) ;
temptoday2.set(currentyear,currentmonth-1,currentday) ;

calendar.set(currentyear, currentmonth - 1, currentday);
calendar.add(Calendar.MONTH, 1);
calendar.set(Calendar.DATE, 1);
calendar.add(Calendar.DATE, -1);
int daysOfThisMonth = calendar.get(Calendar.DATE);


switch (bywhat) {
	case 1 :
		today.add(Calendar.YEAR,1) ;
		break ;
	case 2:
		today.add(Calendar.MONTH,1) ;
		break ;
	case 3:
		today.add(Calendar.WEEK_OF_YEAR,1) ;
		break;
	case 4:
		today.add(Calendar.DATE,1) ;
		break;
}

currentyear=today.get(Calendar.YEAR);
currentmonth=today.get(Calendar.MONTH)+1;  
currentday=today.get(Calendar.DATE);  


String currenttodate = Util.add0(currentyear,4)+"-"+Util.add0(currentmonth,2)+"-"+Util.add0(currentday,2) ;
String 	currentWeekEnd = "";
String datefrom = "" ;
String dateto = "" ;
String datenow = "" ;
String cBeginDate="";
String cEndDate="";

switch (bywhat) {
	case 1 :
		datenow = Util.add0(temptoday1.get(Calendar.YEAR),4) ;
		temptoday1.add(Calendar.YEAR,-1) ;
		datefrom = Util.add0(temptoday1.get(Calendar.YEAR),4) ;

		temptoday2.add(Calendar.YEAR,1) ;
		dateto = Util.add0(temptoday2.get(Calendar.YEAR),4) ;
		break ;
	case 2 :
		datenow = Util.add0(temptoday1.get(Calendar.YEAR),4)+"-"+Util.add0(temptoday1.get(Calendar.MONTH)+1,2) ;
		temptoday1.add(Calendar.MONTH,-1) ;
		datefrom = Util.add0(temptoday1.get(Calendar.YEAR),4)+"-"+Util.add0(temptoday1.get(Calendar.MONTH)+1,2) ;

		temptoday2.add(Calendar.MONTH,1) ;
		dateto = Util.add0(temptoday2.get(Calendar.YEAR),4)+"-"+Util.add0(temptoday2.get(Calendar.MONTH)+1,2) ;
		cBeginDate = TimeUtil.getMonthBeginDay(currentdate);
		cEndDate = TimeUtil.getMonthEndDay(currentdate);
		break ;
 	case 3 :
		datenow = Util.add0(temptoday1.get(Calendar.YEAR),4)+"-"+Util.add0(temptoday1.get(Calendar.MONTH)+1,2)+"-"+Util.add0(temptoday1.get(Calendar.DATE),2) ;
		temptoday1.add(Calendar.WEEK_OF_YEAR,-1) ;
		datefrom = Util.add0(temptoday1.get(Calendar.YEAR),4)+"-"+Util.add0(temptoday1.get(Calendar.MONTH)+1,2)+"-"+Util.add0(temptoday1.get(Calendar.DATE),2) ;

		temptoday2.add(Calendar.WEEK_OF_YEAR,1) ;
		dateto = Util.add0(temptoday2.get(Calendar.YEAR),4)+"-"+Util.add0(temptoday2.get(Calendar.MONTH)+1,2)+"-"+Util.add0(temptoday2.get(Calendar.DATE),2) ;
		cBeginDate = TimeUtil.getWeekBeginDay(currentdate);
		cEndDate = TimeUtil.getWeekEndDay(currentdate);
		break ;
	case 4 :
		datenow = Util.add0(temptoday1.get(Calendar.YEAR),4)+"-"+Util.add0(temptoday1.get(Calendar.MONTH)+1,2)+"-"+Util.add0(temptoday1.get(Calendar.DATE),2) ;
		temptoday1.add(Calendar.DATE,-1) ;
		datefrom = Util.add0(temptoday1.get(Calendar.YEAR),4)+"-"+Util.add0(temptoday1.get(Calendar.MONTH)+1,2)+"-"+Util.add0(temptoday1.get(Calendar.DATE),2) ;
		
		Calendar datetos = Calendar.getInstance();
		temptoday2.add(Calendar.DATE,1) ;
		dateto = Util.add0(temptoday2.get(Calendar.YEAR),4)+"-"+Util.add0(temptoday2.get(Calendar.MONTH)+1,2)+"-"+Util.add0(temptoday2.get(Calendar.DATE),2) ;
		cBeginDate = currentdate;
		cEndDate = currentdate;
}

ArrayList meetingroomids = new ArrayList() ;
ArrayList meetingroomnames = new ArrayList() ;

String sqlwhere = "";

if(subids > 0){
	 sqlwhere = "and a.subCompanyId = "+ subids ;
}

if(!"".equals(content.trim())){
	sqlwhere = "and a.name like '%" + content + "%' ";
}

sqlwhere += " and (a.status=1 or a.status is null ) ";

String sql = "select a.id, a.name from MeetingRoom a where 1=1 " + MeetingShareUtil.getRoomShareSql(user) + sqlwhere + " order by dsporder,name ";
//System.out.println("sql2233:"+sql);
RecordSet.executeSql(sql);
while(RecordSet.next()){
    String tmpmeetingroomid=RecordSet.getString(1);
    String tmpmeetingroomname=RecordSet.getString(2);
    meetingroomids.add(tmpmeetingroomid) ;
    meetingroomnames.add(tmpmeetingroomname) ;
}

//get the mapping from the select type
HashMap mrrHash= mrr.getMapping(datenow,bywhat);	
	
int dspUnit=meetingSetInfo.getDspUnit();	

      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((datenow));
      out.write(_jsp_string5, 0, _jsp_string5.length);
       if(bywhat==2) {
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((content ));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      for(int i=0;i<daysOfThisMonth;i++){
      out.write(_jsp_string8, 0, _jsp_string8.length);
      if(i == 0) { 
      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((i+1));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      }else{
      out.write(_jsp_string11, 0, _jsp_string11.length);
      out.print((i+1));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      }
      out.write(_jsp_string12, 0, _jsp_string12.length);
      }
      out.write(_jsp_string13, 0, _jsp_string13.length);
       			
				    for(int k=0;k<meetingroomids.size();k++){
				        String tmproomid=(String) meetingroomids.get(k);				     
				   
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((mrr.getMeetRoomInfo(""+tmproomid, MeetingRoomComInfo,user)));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((tmproomid ));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((Util.forHtml(Util.toScreen(MeetingRoomComInfo.getMeetingRoomInfoname(""+tmproomid),user.getLanguage()))));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      					        
					        HashMap tempMap = (HashMap)mrrHash.get((String)meetingroomids.get(k));  
					        ArrayList ids = (ArrayList)tempMap.get("ids");				        
			            	
			            	if (ids.size()==0) { 
			            		for (int p=0 ;p<daysOfThisMonth;p++) {
			            			out.println("<td class='tdcls' style=\"color:#fff\"></td>");
			            		}
			            		//out.println(" <TR class=Line ><TD style='padding:0;' colspan=" + (Integer.parseInt(""+daysOfThisMonth)+1)+ "></TD></TR> ");
			            		continue;
			            	};	
			            				            	
							ArrayList beginDates = (ArrayList)tempMap.get("beginDates");
							ArrayList endDates = (ArrayList)tempMap.get("endDates");								
							ArrayList names = (ArrayList)tempMap.get("names");	
							ArrayList totalmembers = (ArrayList)tempMap.get("totalmembers");	
							ArrayList begintimes = (ArrayList)tempMap.get("begintimes");
							ArrayList callers = (ArrayList)tempMap.get("callers");
							ArrayList endtimes = (ArrayList)tempMap.get("endtimes");
							ArrayList contacters = (ArrayList)tempMap.get("contacters");	
							ArrayList cancels = (ArrayList)tempMap.get("cancels");
							ArrayList meetingStatuss = (ArrayList)tempMap.get("meetingStatus");
					        for(int j=0; j<daysOfThisMonth; j++)
					        {
					            String bgcolor=""; 
								String tdTitle = "" ;
								int cnt = 0;
								String tmpdate = datenow + "-"+Util.add0(j+1,2) ;	//for td4306						
								String temp = getDayOccupied(tmpdate, beginDates, begintimes, endDates, endtimes, cancels);
								if("2".equals(temp))
								{
									tdTitle = SystemEnv.getHtmlLabelName(82890,user.getLanguage()) ;
								}
								boolean existDSP=false;//\u5f85\u5ba1\u6279
								for (int h=0 ;h<ids.size();h++) 
								{
									String beginDate = (String)beginDates.get(h);
									String endDate = (String)endDates.get(h);
									
									String name = (String)names.get(h);
									String totalmember = (String)totalmembers.get(h);
									String caller = (String)callers.get(h);
									String contacter = (String)contacters.get(h);
									String begintime = (String)begintimes.get(h);
									String endtime = (String)endtimes.get(h);
									String cancel = (String)cancels.get(h);
									String meetingStatus = (String)meetingStatuss.get(h);
									if(cancel.equals("1"))continue;
									if(tmpdate.compareTo(beginDate)>=0 && tmpdate.compareTo(endDate)<=0)
									{	
										if("1".equals(meetingStatus)){
											existDSP=true;
										} 
										cnt++;
                                        if(tdTitle.equals(""))
                                        {
                                             tdTitle =mrr.getMeetRoomUseCase(name,totalmember,caller,contacter,beginDate,endDate,begintime,endtime,user);
                                        }
                                        else
                                        {
                                             tdTitle +="\n"+"----------------------------------------------------------"+"\n"+
                                                     mrr.getMeetRoomUseCase(name,totalmember,caller,contacter,beginDate,endDate,begintime,endtime,user);
										}
									}
								}
								
								if("2".equals(temp))
								{
									bgcolor="#FBDFEB";
								}
								else if("1".equals(temp))
								{
									bgcolor="#E3F6D8";
									if(existDSP){
										bgcolor="#FFE4C4";
									}
								}
                            
      out.write(_jsp_string18, 0, _jsp_string18.length);
      out.print((bgcolor));
      out.write(_jsp_string19, 0, _jsp_string19.length);
      if(!"".equals(tdTitle)) {
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((tdTitle));
      out.write('"');
      }
      out.write(_jsp_string21, 0, _jsp_string21.length);
      if(cnt > 1){ 
      out.print((cnt ));
      } 
      out.write(_jsp_string22, 0, _jsp_string22.length);
      }
      out.write(_jsp_string23, 0, _jsp_string23.length);
        }
      out.write(_jsp_string24, 0, _jsp_string24.length);
      }
      out.write(_jsp_string25, 0, _jsp_string25.length);
       if(bywhat==3) {
      out.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((content ));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      for(int i=0;i<7;i++){
      out.write(_jsp_string8, 0, _jsp_string8.length);
      if(i == 0) { 
      out.write(_jsp_string27, 0, _jsp_string27.length);
      out.print((TimeUtil.dateAdd(cBeginDate,i)));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      }else{
      out.write(_jsp_string29, 0, _jsp_string29.length);
      out.print((TimeUtil.dateAdd(cBeginDate,i)));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      }
      out.write(_jsp_string12, 0, _jsp_string12.length);
      }
      out.write(_jsp_string30, 0, _jsp_string30.length);
       			
				    for(int k=0;k<meetingroomids.size();k++){
				        String tmproomid=(String) meetingroomids.get(k);				     
				   
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((mrr.getMeetRoomInfo(""+tmproomid, MeetingRoomComInfo,user)));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((tmproomid ));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((Util.forHtml(Util.toScreen(MeetingRoomComInfo.getMeetingRoomInfoname(""+tmproomid),user.getLanguage()))));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      					        
					        HashMap tempMap = (HashMap)mrrHash.get((String)meetingroomids.get(k));  
					        ArrayList ids = (ArrayList)tempMap.get("ids");				        
			            	
			            	if (ids.size()==0) { 
			            		for (int p=0 ;p<7;p++) {
			            			out.println("<td class='tdcls' style=\'color:#fff\'></td>");
			            		}
			            		//out.println(" <TR class=Line><TD colspan='8'></TD></TR> ");
			            		continue;
			            	};	
			            				            	
							ArrayList beginDates = (ArrayList)tempMap.get("beginDates");
							ArrayList endDates = (ArrayList)tempMap.get("endDates");								
							ArrayList names = (ArrayList)tempMap.get("names");	
							ArrayList totalmembers = (ArrayList)tempMap.get("totalmembers");	
							ArrayList begintimes = (ArrayList)tempMap.get("begintimes");
							ArrayList callers = (ArrayList)tempMap.get("callers");
							ArrayList endtimes = (ArrayList)tempMap.get("endtimes");
							ArrayList contacters = (ArrayList)tempMap.get("contacters");	
							ArrayList cancels = (ArrayList)tempMap.get("cancels");
							ArrayList meetingStatuss = (ArrayList)tempMap.get("meetingStatus");
					        for(int j=-1; j<6; j++){
					            String bgcolor=""; 
								String tdTitle = "" ;
								int cnt = 0;
								String tmpdate = TimeUtil.dateAdd(datenow,j) ;						
								String temp = getDayOccupied(tmpdate, beginDates, begintimes, endDates, endtimes, cancels);
								if("2".equals(temp))
								{
									tdTitle = SystemEnv.getHtmlLabelName(82890,user.getLanguage()) ;
								}
								boolean existDSP=false;//\u5f85\u5ba1\u6279
								for (int h=0 ;h<ids.size();h++) {
									String beginDate = (String)beginDates.get(h);
									String endDate = (String)endDates.get(h);
									
									String name = (String)names.get(h);
									String totalmember = (String)totalmembers.get(h);
									String caller = (String)callers.get(h);
									String contacter = (String)contacters.get(h);
									String begintime = (String)begintimes.get(h);
									String endtime = (String)endtimes.get(h);
									String cancel = (String)cancels.get(h);
									String meetingStatus = (String)meetingStatuss.get(h);
									if(cancel.equals("1"))continue;
									if(tmpdate.compareTo(beginDate)>=0&& tmpdate.compareTo(endDate)<=0){
										if("1".equals(meetingStatus)){
											existDSP=true;
										} 
										cnt++;
										 if(tdTitle.equals("")){
                                             tdTitle =mrr.getMeetRoomUseCase(name,totalmember,caller,contacter,beginDate,endDate,begintime,endtime,user);
                                         }else{
                                             tdTitle +="\n"+"----------------------------------------------------------"+"\n"+
                                                     mrr.getMeetRoomUseCase(name,totalmember,caller,contacter,beginDate,endDate,begintime,endtime,user);
                                         }
									}
								}
								
								if("2".equals(temp))
								{
									bgcolor="#FBDFEB";
								}
								else if("1".equals(temp))
								{
									bgcolor="#E3F6D8";
									if(existDSP){
										bgcolor="#FFE4C4";
									}
								}
                            
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print((bgcolor));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      if(!"".equals(tdTitle)) {
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((tdTitle));
      out.write('"');
      }
      out.write(_jsp_string21, 0, _jsp_string21.length);
      if(cnt > 1){ 
      out.print((cnt ));
      } 
      out.write(_jsp_string22, 0, _jsp_string22.length);
      }
      out.write(_jsp_string33, 0, _jsp_string33.length);
        }
      out.write(_jsp_string34, 0, _jsp_string34.length);
      }
      out.write(_jsp_string35, 0, _jsp_string35.length);
       if(bywhat==4) {
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((content ));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      for(int i=meetingSetInfo.getTimeRangeStart();i<=meetingSetInfo.getTimeRangeEnd();i++){
      out.write(_jsp_string8, 0, _jsp_string8.length);
      if(i == meetingSetInfo.getTimeRangeStart()) { 
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((dspUnit ));
      out.write(_jsp_string39, 0, _jsp_string39.length);
      out.print((i));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      }else{
      out.write(_jsp_string40, 0, _jsp_string40.length);
      out.print((dspUnit ));
      out.write(_jsp_string39, 0, _jsp_string39.length);
      out.print((i));
      out.write(_jsp_string10, 0, _jsp_string10.length);
      }
      out.write(_jsp_string41, 0, _jsp_string41.length);
      }
      out.write(_jsp_string42, 0, _jsp_string42.length);
       			
				    for(int k=0;k<meetingroomids.size();k++){
				        String tmproomid=(String) meetingroomids.get(k);				     
				   
      out.write(_jsp_string43, 0, _jsp_string43.length);
      out.print((mrr.getMeetRoomInfo(""+tmproomid, MeetingRoomComInfo,user)));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((tmproomid ));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((Util.forHtml(Util.toScreen(MeetingRoomComInfo.getMeetingRoomInfoname(""+tmproomid),user.getLanguage()))));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      					        
					        HashMap tempMap = (HashMap)mrrHash.get((String)meetingroomids.get(k));  
					        ArrayList ids = (ArrayList)tempMap.get("ids");				        
			            	
			            	if (ids.size()==0) { 
			            		for (int p=meetingSetInfo.getTimeRangeStart()*dspUnit ;p<(meetingSetInfo.getTimeRangeEnd()+1)*dspUnit;p++) {
			            			out.println("<td class='tdcls' roomid='"+tmproomid+"' id='"+tmproomid+"' style=\"color:#fff;"+(dspUnit!=1&&p%dspUnit!=0?"border-left: 0px;":"")+"\"  onselectstart='return false' target='"+p+"' onmousedown='createMeetingAction.startDrag(event);' >&nbsp;</td>");
			            		}
			            		//out.println(" <TR class=Line><TD colspan='25'></TD></TR> "); 
			            		continue;
			            	};	
			            				            	
							ArrayList beginDates = (ArrayList)tempMap.get("beginDates");
							ArrayList endDates = (ArrayList)tempMap.get("endDates");								
							ArrayList names = (ArrayList)tempMap.get("names");	
							ArrayList totalmembers = (ArrayList)tempMap.get("totalmembers");	
							ArrayList begintimes = (ArrayList)tempMap.get("begintimes");
							ArrayList callers = (ArrayList)tempMap.get("callers");
							ArrayList endtimes = (ArrayList)tempMap.get("endtimes");
							ArrayList contacters = (ArrayList)tempMap.get("contacters");	
							ArrayList cancels = (ArrayList)tempMap.get("cancels");
							ArrayList meetingStatuss = (ArrayList)tempMap.get("meetingStatus");
					        for(int j=meetingSetInfo.getTimeRangeStart()*dspUnit; j<(meetingSetInfo.getTimeRangeEnd()+1)*dspUnit; j++){
					            String bgcolor=""; 
								String tdTitle = "" ;												
								
								String tempTimeBg = datenow+" "+(dspUnit==1?(Util.add0(j,2)+":00"):getTimesBg(j-1,dspUnit)) ;	
								String tempTimeed = datenow+" "+(dspUnit==1?(Util.add0(j,2)+":59"):getTimesEd(j,dspUnit)) ;	
								
								String temp=getHourOccupied(datenow, ""+j, beginDates, begintimes, endDates, endtimes, cancels,dspUnit);
								if("2".equals(temp))
								{
									tdTitle = SystemEnv.getHtmlLabelName(82890,user.getLanguage()) ;
								}
								
								 
								
								
								boolean existDSP=false;//\u5f85\u5ba1\u6279
								int cnt = 0;
								for (int h=0 ;h<ids.size();h++) {
									String beginDate = (String)beginDates.get(h);
									String endDate = (String)endDates.get(h);
									
									String name = (String)names.get(h);
									String totalmember = (String)totalmembers.get(h);
									String caller = (String)callers.get(h);
									String contacter = (String)contacters.get(h);
									String begintime = (String)begintimes.get(h);
									String endtime = (String)endtimes.get(h);
									String cancel = (String)cancels.get(h);
									String meetingStatus = (String)meetingStatuss.get(h);
									if(cancel.equals("1"))continue;
									
									String tempBeginDateTime = beginDate+" "+begintime;
									String tempEndDateTime = endDate+" "+endtime;	
																		
									if((tempTimeed).compareTo(tempBeginDateTime)>=0&& (tempTimeBg).compareTo(tempEndDateTime)<0){
										if("1".equals(meetingStatus)){
											existDSP=true;
										} 
										cnt++;
                                         if(tdTitle.equals("")){
                                             tdTitle =mrr.getMeetRoomUseCase(name,totalmember,caller,contacter,beginDate,endDate,begintime,endtime,user);
                                         }else{
                                             tdTitle +="\n"+"----------------------------------------------------------"+"\n"+
                                                     mrr.getMeetRoomUseCase(name,totalmember,caller,contacter,beginDate,endDate,begintime,endtime,user);
                                         }
                                    }
								}
                                if("2".equals(temp))
								{
									bgcolor="#FBDFEB";
								}
								else if("1".equals(temp))
								{
									bgcolor="#E3F6D8";
									if(existDSP){
										bgcolor="#FFE4C4";
									}
								}
								
                            
      out.write(_jsp_string44, 0, _jsp_string44.length);
      out.print((tmproomid ));
      out.write(_jsp_string45, 0, _jsp_string45.length);
      out.print(((dspUnit!=1&&j%dspUnit!=0?"border-left: 0px;":"")));
      out.write(_jsp_string46, 0, _jsp_string46.length);
      out.print((bgcolor));
      out.write(_jsp_string47, 0, _jsp_string47.length);
      out.print((tmproomid ));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      out.print((j ));
      out.write(_jsp_string49, 0, _jsp_string49.length);
      if(!"".equals(tdTitle)) {
      out.write(_jsp_string50, 0, _jsp_string50.length);
      out.print((tdTitle));
      out.write('"');
      }
      out.write('>');
      if(cnt>1) {
      out.print((cnt ));
      } else {
      out.write(_jsp_string51, 0, _jsp_string51.length);
      } 
      out.write(_jsp_string52, 0, _jsp_string52.length);
      }
      out.write(_jsp_string53, 0, _jsp_string53.length);
        }
      out.write(_jsp_string54, 0, _jsp_string54.length);
      }
      out.write(_jsp_string55, 0, _jsp_string55.length);
      out.print((cBeginDate));
      out.write(_jsp_string56, 0, _jsp_string56.length);
      out.print((cEndDate));
      out.write(_jsp_string57, 0, _jsp_string57.length);
       if(bywhat==2) {
      out.write(_jsp_string58, 0, _jsp_string58.length);
       }else if(bywhat==3){
      out.write(_jsp_string59, 0, _jsp_string59.length);
       }else if(bywhat==4){
      out.write(_jsp_string60, 0, _jsp_string60.length);
      out.print((SystemEnv.getHtmlLabelName(1329,user.getLanguage())));
      out.write(':');
      out.print((SystemEnv.getHtmlLabelName(391,user.getLanguage())));
      out.write(_jsp_string61, 0, _jsp_string61.length);
      }
      out.write(_jsp_string62, 0, _jsp_string62.length);
       String titlestrnow=""; 
	if(bywhat==2) {
		titlestrnow =SystemEnv.getHtmlLabelName( 15541 ,user.getLanguage());
	}else if(bywhat==3){
		titlestrnow=SystemEnv.getHtmlLabelName( 15539 ,user.getLanguage());
	}else if(bywhat==4){
		titlestrnow=SystemEnv.getHtmlLabelName( 15537 ,user.getLanguage()); 
	}
      out.write(_jsp_string63, 0, _jsp_string63.length);
      out.print((titlestrnow));
      out.write(_jsp_string64, 0, _jsp_string64.length);
       String subidsSpan = SystemEnv.getHtmlLabelName(141,user.getLanguage());
		if(subids > 0){
			subidsSpan += " : "+SubCompanyComInfo.getSubCompanyname(""+subids);
		} else {
			RecordSet.executeSql("SELECT companyname FROM HrmCompany WHERE id = 1");
			if(RecordSet.next()){
				subidsSpan =  SystemEnv.getHtmlLabelName(140,user.getLanguage())+" : "+Util.null2String(RecordSet.getString("companyname"));
			}
		} 
	
      out.write(_jsp_string65, 0, _jsp_string65.length);
      out.print((subidsSpan));
      out.write(_jsp_string66, 0, _jsp_string66.length);
      out.print((currentdate));
      out.write(_jsp_string67, 0, _jsp_string67.length);
      out.print((datenow));
      out.write(_jsp_string68, 0, _jsp_string68.length);
      out.print((subids));
      out.write(_jsp_string69, 0, _jsp_string69.length);
      out.print((content));
      out.write(_jsp_string70, 0, _jsp_string70.length);
      out.print((canEdit));
      out.write(_jsp_string71, 0, _jsp_string71.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    manager.addTaglibFunctions(_jsp_functionMap, "wea", "/WEB-INF/weaver.tld");
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("meeting/report/AjaxMeetingRoomPlan.jsp"), -5202880836670332791L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string38;
  private final static char []_jsp_string30;
  private final static char []_jsp_string70;
  private final static char []_jsp_string19;
  private final static char []_jsp_string11;
  private final static char []_jsp_string39;
  private final static char []_jsp_string67;
  private final static char []_jsp_string32;
  private final static char []_jsp_string69;
  private final static char []_jsp_string43;
  private final static char []_jsp_string64;
  private final static char []_jsp_string7;
  private final static char []_jsp_string65;
  private final static char []_jsp_string23;
  private final static char []_jsp_string24;
  private final static char []_jsp_string8;
  private final static char []_jsp_string15;
  private final static char []_jsp_string54;
  private final static char []_jsp_string62;
  private final static char []_jsp_string60;
  private final static char []_jsp_string29;
  private final static char []_jsp_string26;
  private final static char []_jsp_string5;
  private final static char []_jsp_string13;
  private final static char []_jsp_string27;
  private final static char []_jsp_string71;
  private final static char []_jsp_string9;
  private final static char []_jsp_string51;
  private final static char []_jsp_string55;
  private final static char []_jsp_string0;
  private final static char []_jsp_string57;
  private final static char []_jsp_string45;
  private final static char []_jsp_string49;
  private final static char []_jsp_string48;
  private final static char []_jsp_string4;
  private final static char []_jsp_string47;
  private final static char []_jsp_string31;
  private final static char []_jsp_string21;
  private final static char []_jsp_string53;
  private final static char []_jsp_string58;
  private final static char []_jsp_string17;
  private final static char []_jsp_string36;
  private final static char []_jsp_string59;
  private final static char []_jsp_string3;
  private final static char []_jsp_string40;
  private final static char []_jsp_string16;
  private final static char []_jsp_string41;
  private final static char []_jsp_string63;
  private final static char []_jsp_string42;
  private final static char []_jsp_string10;
  private final static char []_jsp_string25;
  private final static char []_jsp_string35;
  private final static char []_jsp_string52;
  private final static char []_jsp_string28;
  private final static char []_jsp_string22;
  private final static char []_jsp_string61;
  private final static char []_jsp_string66;
  private final static char []_jsp_string1;
  private final static char []_jsp_string12;
  private final static char []_jsp_string6;
  private final static char []_jsp_string56;
  private final static char []_jsp_string50;
  private final static char []_jsp_string14;
  private final static char []_jsp_string37;
  private final static char []_jsp_string44;
  private final static char []_jsp_string46;
  private final static char []_jsp_string34;
  private final static char []_jsp_string20;
  private final static char []_jsp_string68;
  private final static char []_jsp_string33;
  private final static char []_jsp_string18;
  private final static char []_jsp_string2;
  static {
    _jsp_string38 = "\r\n								<td class=\"thcls\" style=\"BORDER-left: 1px solid #d0d0d0;\" colspan=\"".toCharArray();
    _jsp_string30 = "\r\n				    </tr>\r\n				  </table>\r\n				 <div id=\"tabledivData\" style=\"overflow-y: hidden;overflow-x:hidden;position: relative;width:100%\">\r\n				 <div id=\"tableChlddivData\">\r\n				 <table  class=M1 width=\"100%\" border=0 cellspacing=0 cellpadding=0 Style=\"width:100%; font-size:8pt;table-layout:fixed;\">\r\n				    <COLGROUP>\r\n						<col width=\"221\">\r\n						<col width=\"\">\r\n				   ".toCharArray();
    _jsp_string70 = "')+\"&canEdit=".toCharArray();
    _jsp_string19 = "\" align=center ".toCharArray();
    _jsp_string11 = "\r\n								<td class=\"thcls\" style=\"BORDER-LEFT: 0px\" align=center>".toCharArray();
    _jsp_string39 = "\" align=center>".toCharArray();
    _jsp_string67 = "\";\r\n	$(\".thcls\").css(\"border-bottom\",\"1px solid #59b0f2\");\r\n	$(\".schtd\").css(\"border-bottom\",\"1px solid #59b0f2\");\r\n	$(\".schtd\").css(\"border-left\",\"0px\");\r\n	$(\".roomnames\").css(\"border-left\",\"0px\");\r\n	$(\"#listframe\").attr(\"src\",\"GetRoomMeetingList.jsp?bywhat=\"+bywhat+\"&datenow=".toCharArray();
    _jsp_string32 = "\" ".toCharArray();
    _jsp_string69 = "&content=\"+encodeURI('".toCharArray();
    _jsp_string43 = "\r\n				        <tr class=\"selectable\">\r\n					            <td class=\"roomnames\" ><div class=\"tdfcs\"></div><div class=\"tdtxt\" title=\"".toCharArray();
    _jsp_string64 = "\");\r\n	\r\n	".toCharArray();
    _jsp_string7 = "\" style=\"width:180px;height:23px;border:0px;background:#f7f7f7;color:#606060\" /> \r\n									</td>\r\n								</tr>\r\n							</table>\r\n						</td>\r\n						".toCharArray();
    _jsp_string65 = "\r\n	jQuery(\"#showsubcompanybtn\").html(\"".toCharArray();
    _jsp_string23 = " \r\n						</tr>\r\n				    \r\n				".toCharArray();
    _jsp_string24 = "\r\n				</table>\r\n			".toCharArray();
    _jsp_string8 = "\r\n							".toCharArray();
    _jsp_string15 = "\" onclick=\"showRoomMeetingList('','',".toCharArray();
    _jsp_string54 = "\r\n						</table>\r\n					</div>\r\n					</div>\r\n				".toCharArray();
    _jsp_string62 = "\r\n	\r\n	".toCharArray();
    _jsp_string60 = "\r\n		titletime = CalDateShow(new Date(Date.parse(cBeginDate.replace(/-/g,   \"/\"))), null, null, true)+\"&nbsp;&nbsp;".toCharArray();
    _jsp_string29 = "\r\n								<td class=\"thcls\" style=\"BORDER-LEFT: 0px\" align=center><span class=\"weekclass\" val=\"".toCharArray();
    _jsp_string26 = "\r\n				<table class=M11 width=\"100%\" border=0 cellspacing=0 cellpadding=0 Style=\"width:100%; font-size:8pt;table-layout:fixed\">\r\n				   <COLGROUP>\r\n						<col width=\"221\">\r\n						<col width=\"\">\r\n				    <tr  class=\"thbgc\">\r\n				    	<td class=\"schtd\" align=center style=\"width:220px;background:#f7f7f7;BORDER-left: 1px solid #d0d0d0;height:25px; \">\r\n							<table height=\"100%\" width=\"100%\" border=0 cellspacing=0 cellpadding=0>\r\n								<tr>\r\n									<td width=\"20px\" style=\"BORDER-bottom:0px;BORDER-LEFT: 0px\">\r\n									<button class=\"Browser\" id=namebtn name=namebtn type=\"button\" style=\"margin-top: 3px !important;\" onclick=\"\" ></button>\r\n									</td>\r\n									<td  width=\"200px\" style=\"BORDER-bottom:0px;BORDER-LEFT: 0px\">\r\n									<INPUT id=content name=content class=\"searchInput\" onmouseover=\"this.select()\" onfocus=\"clearVal(this);\" onblur=\"recoverVal(this);\"  value=\"".toCharArray();
    _jsp_string5 = "\" />\r\n			<!--============================ \u6708\u62a5\u8868 ============================-->\r\n			".toCharArray();
    _jsp_string13 = "\r\n				    </tr>\r\n				   </table>\r\n				 <div id=\"tabledivData\" style=\"overflow-y: hidden;overflow-x:hidden;position: relative;width:100%\">\r\n				 <div id=\"tableChlddivData\">\r\n				 <table  class=M1 width=\"100%\" border=0 cellspacing=0 cellpadding=0 Style=\"width:100%; font-size:8pt;table-layout:fixed;\">\r\n				    <COLGROUP>\r\n						<col width=\"221\">\r\n						<col width=\"\">\r\n				   ".toCharArray();
    _jsp_string27 = "\r\n								<td class=\"thcls\" style=\"BORDER-left: 1px solid #d0d0d0;\" align=center><span class=\"weekclass\" val=\"".toCharArray();
    _jsp_string71 = "\");\r\n	$(\"#txtdatetimeshow\").text(showtime);\r\n}\r\n\r\n</script>\r\n\r\n\r\n".toCharArray();
    _jsp_string9 = "\r\n								<td class=\"thcls\" style=\"BORDER-left: 1px solid #d0d0d0;\" align=center>".toCharArray();
    _jsp_string51 = "&nbsp;".toCharArray();
    _jsp_string55 = "\r\n\r\n<script language=javascript>\r\n\r\nfunction afterLoadDate(){\r\n	var bywhat = $GetEle(\"bywhat\").value\r\n	var cBeginDate=\"".toCharArray();
    _jsp_string0 = "\r\n\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string57 = "\";\r\n	var showtime = \"\";\r\n	var titletime=\"\"; \r\n	\r\n	".toCharArray();
    _jsp_string45 = "\" style=\"".toCharArray();
    _jsp_string49 = "\" onselectstart=\"return false\" onmousedown='createMeetingAction.startDrag(event);'  ".toCharArray();
    _jsp_string48 = "\" target=\"".toCharArray();
    _jsp_string4 = "\r\n			<input type=\"hidden\" name=\"datenow\" id=\"datenow\" value=\"".toCharArray();
    _jsp_string47 = "\" id=\"".toCharArray();
    _jsp_string31 = "\r\n						         <td class=\"tdcls\" align=center bgcolor=\"".toCharArray();
    _jsp_string21 = " >\r\n						         ".toCharArray();
    _jsp_string53 = " \r\n							</tr>\r\n							".toCharArray();
    _jsp_string58 = "\r\n		//titletime = CalDateShow(new Date(Date.parse(cBeginDate.replace(/-/g,   \"/\"))), new Date(Date.parse(cEndDate.replace(/-/g,   \"/\"))));\r\n		titletime = CalDateShowMonth(new Date(Date.parse(cBeginDate.replace(/-/g,   \"/\"))));\r\n		showtime = titletime;\r\n	".toCharArray();
    _jsp_string17 = "</div></td>\r\n					        ".toCharArray();
    _jsp_string36 = "\r\n\r\n				<table class=M11 width=\"100%\" border=0 cellspacing=0 cellpadding=0 Style=\"width:100%; font-size:8pt;table-layout:fixed;\">\r\n				    <COLGROUP>\r\n						<col width=\"221\">\r\n						<col width=\"\">\r\n				    <tr  class=\"thbgc\">\r\n						 	<td class=\"schtd\" align=center style=\"width:220px;background:#f7f7f7;BORDER-left: 1px solid #d0d0d0;height:25px; \">\r\n								<table height=\"100%\" width=\"100%\" border=0 cellspacing=0 cellpadding=0>\r\n									<tr>\r\n										<td width=\"20px\" style=\"BORDER-bottom:0px;BORDER-LEFT: 0px\">\r\n										<button class=\"Browser\" id=namebtn name=namebtn type=\"button\" style=\"margin-top: 3px !important;\" onclick=\"\" ></button>\r\n										</td>\r\n										<td  width=\"200px\" style=\"BORDER-bottom:0px;BORDER-LEFT: 0px\">\r\n										<INPUT id=content name=content class=\"searchInput\" onmouseover=\"this.select()\" onfocus=\"clearVal(this);\" onblur=\"recoverVal(this);\"   value=\"".toCharArray();
    _jsp_string59 = "\r\n	    titletime = CalDateShow(new Date(Date.parse(cBeginDate.replace(/-/g,   \"/\"))), new Date(Date.parse(cEndDate.replace(/-/g,   \"/\"))), null, true);\r\n	    showtime = CalDateShow(new Date(Date.parse(cBeginDate.replace(/-/g,   \"/\"))), new Date(Date.parse(cEndDate.replace(/-/g,   \"/\"))));\r\n		$(\".weekclass\").each(function(){\r\n			var dateStr = new Date(Date.parse($(this).attr(\"val\").replace(/-/g,   \"/\")));\r\n			$(this).html(dateFormat.call(dateStr, getymformat(dateStr, null, null, true,null, false)));\r\n		});\r\n	".toCharArray();
    _jsp_string3 = " \r\n\r\n\r\n".toCharArray();
    _jsp_string40 = "\r\n								<td class=\"thcls\" style=\"BORDER-LEFT: 0px\" colspan=\"".toCharArray();
    _jsp_string16 = ",event)\">&nbsp;".toCharArray();
    _jsp_string41 = "\r\n						".toCharArray();
    _jsp_string63 = "\r\n	$(\"#showtodaybtn\").attr(\"title\",\"".toCharArray();
    _jsp_string42 = "\r\n				    </tr>\r\n				 </table>\r\n				 <div id=\"tabledivData\" style=\"overflow-y: hidden;overflow-x: hidden;width:100%;\">\r\n				 <div id=\"tableChlddivData\">\r\n				 <table  class=M1 width=\"100%\" border=0 cellspacing=0 cellpadding=0 Style=\"width:100%; font-size:8pt;table-layout:fixed;\">\r\n				    <COLGROUP>\r\n						<col width=\"221\">\r\n						<col width=\"\">\r\n				  ".toCharArray();
    _jsp_string10 = "</td>\r\n							".toCharArray();
    _jsp_string25 = "\r\n			<!--============================ \u5468\u62a5\u8868 ============================-->\r\n			".toCharArray();
    _jsp_string35 = "\r\n\r\n\r\n				<!--============================ \u65e5\u62a5\u8868 ============================-->\r\n				".toCharArray();
    _jsp_string52 = "</td>\r\n					        ".toCharArray();
    _jsp_string28 = "\"></span>\r\n								</td>\r\n							".toCharArray();
    _jsp_string22 = "\r\n						         </td>\r\n					        ".toCharArray();
    _jsp_string61 = "\";\r\n		showtime = CalDateShow(new Date(Date.parse(cBeginDate.replace(/-/g,   \"/\"))));\r\n	".toCharArray();
    _jsp_string66 = "\");\r\n	\r\n	jQuery(\"#tabledivData\").perfectScrollbar();\r\n	recoverVal($GetEle(\"content\"));\r\n	$GetEle(\"movedate\").value = \"\";\r\n	$GetEle(\"currentdate\").value = \"".toCharArray();
    _jsp_string1 = "\r\n".toCharArray();
    _jsp_string12 = "\r\n							\r\n						".toCharArray();
    _jsp_string6 = "\r\n  \r\n				<table class=M11 width=\"100%\" border=0 cellspacing=0 cellpadding=0 Style=\"width:100%; font-size:8pt;table-layout:fixed\">\r\n				    <COLGROUP>\r\n						<col width=\"221\">\r\n						<col width=\"\">\r\n				    <tr  class=\"thbgc\">\r\n				    	<td class=\"schtd\" align=center style=\"width:220px;background:#f7f7f7;BORDER-left: 1px solid #d0d0d0;height:25px; \">\r\n							<table height=\"100%\" width=\"100%\" border=0 cellspacing=0 cellpadding=0>\r\n								<tr>\r\n									<td width=\"20px\" style=\"BORDER-bottom:0px;BORDER-LEFT: 0px\">\r\n									<button class=\"Browser\" id=namebtn name=namebtn type=\"button\" style=\"margin-top: 3px !important;\" onclick=\"\" ></button>\r\n									</td>\r\n									<td  width=\"200px\" style=\"BORDER-bottom:0px;BORDER-LEFT: 0px\">\r\n									<INPUT id=content name=content class=\"searchInput\" onmouseover=\"this.select()\" onfocus=\"clearVal(this);\" onblur=\"recoverVal(this);\"  value=\"".toCharArray();
    _jsp_string56 = "\";\r\n	var cEndDate=\"".toCharArray();
    _jsp_string50 = " title=\"".toCharArray();
    _jsp_string14 = "\r\n				        <tr>\r\n								<td class=\"roomnames\" ><div class=\"tdfcs\"></div><div class=\"tdtxt\" title=\"".toCharArray();
    _jsp_string37 = "\" style=\"width:180px;height:23px;border:0px;background:#f7f7f7;color:#606060\" /> \r\n										</td>\r\n									</tr>\r\n								</table>\r\n							</td>\r\n							\r\n						".toCharArray();
    _jsp_string44 = "\r\n						         <td class=\"tdcls\" roomid=\"".toCharArray();
    _jsp_string46 = "\" align=center bgcolor=\"".toCharArray();
    _jsp_string34 = "\r\n					</table>\r\n			".toCharArray();
    _jsp_string20 = "title=\"".toCharArray();
    _jsp_string68 = "&subids=".toCharArray();
    _jsp_string33 = " \r\n						</tr>\r\n				   \r\n						".toCharArray();
    _jsp_string18 = "\r\n						         <td class=\"tdcls\" bgcolor=\"".toCharArray();
    _jsp_string2 = "\r\n\r\n".toCharArray();
  }
}
