/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._mobile._plugin._networkdisk;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.general.Util;
import weaver.hrm.User;
import weaver.hrm.HrmUserVarify;

public class _docdetail__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=utf-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
		User user = HrmUserVarify.getUser (request , response) ;
		if(user == null)  return ;
		
		int docid = Util.getIntValue(request.getParameter("docid"),0);
		String sessionkey = Util.null2String(request.getParameter("sessionkey"));
		String module = Util.null2String(request.getParameter("module"));
		String scope = Util.null2String(request.getParameter("scope"));
		String isFromNews = Util.null2String(request.getParameter("isFromNews"));
	
      out.write(_jsp_string1, 0, _jsp_string1.length);
      out.print((docid));
      out.write(_jsp_string2, 0, _jsp_string2.length);
      out.print((sessionkey));
      out.write(_jsp_string3, 0, _jsp_string3.length);
      out.print((module));
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print((scope));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      out.print((module));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((scope));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      out.print((module));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((scope));
      out.write(_jsp_string8, 0, _jsp_string8.length);
      out.print((module));
      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((scope));
      out.write(_jsp_string9, 0, _jsp_string9.length);
      out.print((isFromNews));
      out.write(_jsp_string10, 0, _jsp_string10.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("mobile/plugin/networkdisk/docDetail.jsp"), -4855922844272883945L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string6;
  private final static char []_jsp_string3;
  private final static char []_jsp_string8;
  private final static char []_jsp_string2;
  private final static char []_jsp_string7;
  private final static char []_jsp_string9;
  private final static char []_jsp_string5;
  private final static char []_jsp_string0;
  private final static char []_jsp_string10;
  private final static char []_jsp_string4;
  private final static char []_jsp_string1;
  static {
    _jsp_string6 = "&scope=".toCharArray();
    _jsp_string3 = "\";\r\n 	var moduleid = \"".toCharArray();
    _jsp_string8 = "\"\r\n			},500);\r\n		}else{\r\n			location = \"/download.do?\" + param+\"&module=".toCharArray();
    _jsp_string2 = "\";\r\n 	var sessionkey = \"".toCharArray();
    _jsp_string7 = "\" + (readOnLine ? \"&file2pdf=1\" : \"\");\r\n  		return;\r\n		if(readOnLine){\r\n			attrDetail.className = \"show\";\r\n			setTimeout(function(){\r\n				attrDetail.childNodes[0].src = \"/mobile/plugin/2/pdfview/mobile-viewer/viewer.jsp?\" + param + \"&module=".toCharArray();
    _jsp_string9 = "\";\r\n		}\r\n	}\r\n 	\r\n 		//\u7cfb\u7edf\u6587\u6863\u5206\u4eab\r\n	function toShareDoc(dataMap){\r\n		var data = {\r\n			\"func\" : \"shareDocument\",\r\n			\"params\" : {\r\n						docid : dataMap.docid,\r\n						title : dataMap.docTitle\r\n					}\r\n		}\r\n		location = \"emobile:\" + JSON.stringify(data);\r\n	}\r\n	\r\n	function deleteDoc(docid){\r\n		try{\r\n			if(_hasParentWindow){\r\n				parent.deleteSystemDoc(docid);\r\n			}else{\r\n				\r\n			}\r\n		}catch(e){}\r\n	}\r\n	\r\n	function componentDidUpdate(){\r\n		var _h1 = window.innerHeight;\r\n		var _h2 = document.getElementsByClassName(\"operate\")[0].clientHeight;\r\n		document.getElementsByClassName(\"am-list-view-scrollview\")[0].style.height = _h1 - _h2 + \"px\";\r\n		document.getElementById(\"content\").style.height = _h1 - _h2 + \"px\";  \r\n		return;\r\n		resizeFontSize(document.getElementById(\"docContent\"));\r\n	}\r\n	\r\n	function resizeFontSize($obj){\r\n		try{\r\n			var _fontSize = $obj.style.fontSize;\r\n			if(_fontSize != \"\"){\r\n				_fontSize = _fontSize.replace(\"px\",\"\").replace(\"pt\",\"\");\r\n				_fontSize = 32 + parseInt(_fontSize) - 12;\r\n				$obj.style.fontSize = _fontSize/100 + \"rem\";\r\n			}\r\n			for(var i = 0;i < $obj.childNodes.length;i++){\r\n				resizeFontSize($obj.childNodes[i]);\r\n			}\r\n		}catch(e){}\r\n	}\r\n	\r\n	function getRequestTitle(){\r\n		if(\"1\" == \"".toCharArray();
    _jsp_string5 = "\";\r\n 	var FontList = {\r\n 		loadingFont : ''\r\n 	}\r\n 	this._hasParentWindow = parent.window._CLOUDY_INDEX == 1 ? true : false;\r\n 	\r\n 		\r\n 	function doLeftButton(){\r\n		if(attrDetail.className == \"show\"){\r\n			attrDetail.className = \"\";\r\n			setTimeout(function(){\r\n				attrDetail.childNodes[0].style.display = \"none\";\r\n			},500);\r\n			return \"0\";\r\n		}else if(docReply.className == \"show\"){\r\n			docReply.className = \"\";\r\n			setTimeout(function(){\r\n				docReply.childNodes[0].style.display = \"none\";\r\n			},500);\r\n			return \"0\";\r\n		}\r\n		\r\n  	     return \"close\";\r\n  	}\r\n  	\r\n  	function toOpenFile(param,readOnLine){\r\n  		location = \"/download.do?\" + param+\"&module=".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n	<title>\u6587\u6863\u8be6\u60c5</title>\r\n	\r\n	".toCharArray();
    _jsp_string10 = "\"){	\r\n			return \"\u65b0\u95fb\u8be6\u60c5\";\r\n		}else if(!this._hasParentWindow){\r\n			return \"\u6587\u6863\u8be6\u60c5\";\r\n		}\r\n	}\r\n\r\n </script>		\r\n <link rel=\"stylesheet\" href=\"/mobile/plugin/networkdisk/css/content.css?version=3\"/>\r\n  <script>\r\n		if(window._androidX5){\r\n			document.write('<link rel=\"stylesheet\" href=\"/mobile/plugin/networkdisk/css/android_x5.css?version=13\"/>');\r\n		}\r\n  </script>\r\n <style>\r\n 	#docContent img{\r\n 		max-width:100%;\r\n 	}\r\n	#docReply{\r\n		 -webkit-overflow-scrolling: touch; \r\n	}\r\n	iframe{\r\n		border:0;\r\n	}\r\n	.docContent{\r\n		margin:0px;\r\n	}\r\n\r\n </style>\r\n</head>\r\n<body>\r\n	<div id=\"root\">\r\n		\r\n	</div>\r\n	<script src=\"/mobile/plugin/networkdisk/js/content.js?version=5\" type=\"text/javascript\"></script>\r\n</body>\r\n</html>".toCharArray();
    _jsp_string4 = "\";\r\n  	var scope = \"".toCharArray();
    _jsp_string1 = "\r\n <script type=\"text/javascript\" src=\"/cloudstore/resource/mobile/react/react-with-addons.min.js\" charset=\"utf-8\"></script>\r\n <script type=\"text/javascript\" src=\"/cloudstore/resource/mobile/react/react-dom.min.js\" charset=\"utf-8\"></script>\r\n \r\n <script type=\"text/javascript\" src=\"/mobile/plugin/fullsearch/js/promise.min.js\" charset=\"utf-8\"></script>\r\n <script type=\"text/javascript\" src=\"/mobile/plugin/fullsearch/js/fetch.min.js\" charset=\"utf-8\"></script>\r\n <script type='text/javascript' src='/mobile/plugin/js/jquery/jquery_wev8.js'></script>\r\n<script>\r\n    (function (baseFontSize, fontscale) {\r\n      var _baseFontSize = baseFontSize || 100;\r\n      var _fontscale = fontscale || 1;\r\n      var win = window;\r\n      var doc = win.document;\r\n      var ua = navigator.userAgent;\r\n      var matches = ua.match(/Android[\\S\\s]+AppleWebkit\\/(\\d{3})/i);\r\n      var UCversion = ua.match(/U3\\/((\\d+|\\.){5,})/i);\r\n      var isUCHd = UCversion && parseInt(UCversion[1].split('.').join(''), 10) >= 80;\r\n      var isIos = navigator.appVersion.match(/(iphone|ipad|ipod)/gi);\r\n      var dpr = 1;\r\n      var scale = 1 / dpr;\r\n\r\n	  window._androidX5 = window.innerWidth <= 600 ? true : false;\r\n\r\n      var metaEl = doc.querySelector('meta[name=\"viewport\"]');\r\n      if (!metaEl) {\r\n        metaEl = doc.createElement('meta');\r\n        metaEl.setAttribute('name', 'viewport');\r\n        doc.head.appendChild(metaEl);\r\n      }\r\n\r\n      metaEl.setAttribute('content', 'width=device-width,user-scalable=no,initial-scale=' + scale + ',maximum-scale=' + scale + ',minimum-scale=' + scale);\r\n      doc.documentElement.style.fontSize = _baseFontSize / 2 * dpr * _fontscale + 'px';\r\n      window.viewportScale = dpr;\r\n\r\n	 if(parent.window._CLOUDY_INDEX == 1 && parent.window.viewportScale != 1){\r\n		 var pmetaEl = parent.window.document.querySelector('meta[name=\"viewport\"]');\r\n		 pmetaEl.setAttribute('content', 'width=device-width,user-scalable=no,initial-scale=' + scale + ',maximum-scale=' + scale + ',minimum-scale=' + scale);\r\n	 }\r\n\r\n    })();\r\n  </script>\r\n <script type=\"text/javascript\">\r\n 	var docid = \"".toCharArray();
  }
}
