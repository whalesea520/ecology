/*
 * JSP generated by Resin-3.1.8 (built Mon, 17 Nov 2008 12:15:21 PST)
 */

package _jsp._page._element._mycalendar;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import weaver.general.Util;
import java.util.*;
import java.net.*;
import weaver.hrm.*;
import weaver.systeminfo.*;
import weaver.general.*;
import ln.LN;
import weaver.hrm.settings.ChgPasswdReminder;
import weaver.hrm.settings.HrmSettingsComInfo;
import weaver.hrm.settings.RemindSettings;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import weaver.workflow.workflow.TestWorkflowCheck;
import weaver.systeminfo.template.UserTemplate;
import weaver.systeminfo.setting.*;
import weaver.login.LicenseCheckLogin;
import weaver.hrm.online.IPUtil;
import java.util.Map;
import weaver.general.BaseBean;
import java.io.FileInputStream;
import java.io.File;
import weaver.general.KtreeHelp;

public class _view__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;

  
  private String getCurrWuiConfig(HttpSession session, User user, String keyword) throws Exception {
  	
  	if (keyword == null || "".equals(keyword)) {
  		return "";
  	}
  	
  	String curTheme = "";
  	String curskin = "";
  
  	
  		String[] rtnValue = getHrmUserSetting(user);
  		
  		curTheme = rtnValue[0];
  		curskin = rtnValue[1];
  		if(curTheme.equals("")||curskin.equals("")){
  			String templatetype = getCurrE8TemplateType(user);
  			if("".equals(templatetype)){
  				curTheme = "ecologyBasic";
  				curskin = "default";
  			}else if("ecology7".equals(templatetype)){
  				curTheme ="ecology7";
  				curskin = getCurrE8SkinInfo(user);
  			}else{
  				curTheme ="ecology8";
  				curskin = "default";
  			}
  			
  			
  			
  			
  		}else{
  			curTheme = rtnValue[0];
  			curskin = rtnValue[1];
  		}
  		
  		if(curTheme.equals("custom")){
  			curTheme ="ecology8";
  		}
  		
  		session.setAttribute("SESSION_CURRENT_THEME", curTheme);
  		session.setAttribute("SESSION_CURRENT_SKIN", curskin);
  	
  	if ("THEME".equals(keyword.toUpperCase())) {
  		return curTheme;
  	}
  	
  	if ("SKIN".equals(keyword.toUpperCase())) {
  		return curskin;
  	}
  	return "";
  }
  
  
  
  private String getCurrSkinFolder(User user) throws Exception {
  	String pslSkinfolder = "";
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  
  	int userid = user.getUID();
  
  	rs.executeSql("select skin from HrmUserSetting where resourceId=" + userid);
  	
  	if (rs.next()) {
  		pslSkinfolder = rs.getString("skin");
  	}
  
  	if (pslSkinfolder == null || "".equals(pslSkinfolder)) {
  	    pslSkinfolder = "default";
  	}
  	return pslSkinfolder;
  }
  
  private String getCurrE8TemplateType(User user){
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  	weaver.systeminfo.template.UserTemplate  userTemplate = new weaver.systeminfo.template.UserTemplate();
  	userTemplate.getTemplateByUID(user.getUID(),user.getUserSubCompany1());
  	
  	
  	String skin =  userTemplate.getTemplatetype();
  	
  	
  	return skin;
  	
  }
  
  private String getCurrE8SkinInfo(User user){
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  	weaver.systeminfo.template.UserTemplate  userTemplate = new weaver.systeminfo.template.UserTemplate();
  	userTemplate.getTemplateByUID(user.getUID(),user.getUserSubCompany1());
  	
  	
  	String skin =  userTemplate.getSkin();
  	
  	
  	return skin;
  	
  }
  
  private int getCurrTemplateId(User user){
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  	weaver.systeminfo.template.UserTemplate  userTemplate = new weaver.systeminfo.template.UserTemplate();
  	userTemplate.getTemplateByUID(user.getUID(),user.getUserSubCompany1());
  	
  	
  	int id =  userTemplate.getTemplateId();
  	
  	
  	return id;
  	
  }
  
  private String getCurrTemplateLogo(User user){
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  	weaver.systeminfo.template.UserTemplate  userTemplate = new weaver.systeminfo.template.UserTemplate();
  	userTemplate.getTemplateByUID(user.getUID(),user.getUserSubCompany1());
  	
  	
  	String logo =  userTemplate.getLogo();
  	
  	
  	return logo;
  	
  }
  
  private String[] getHrmUserSetting(User user) throws Exception {
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  
  	String[] result = new String[2];
  	String theme = "";
  	String skin = "";
  	
  	String sql="select templateid from SystemTemplateSubComp where subcompanyid="+user.getUserSubCompany1();
  	rs.executeSql(sql);
  	if(rs.next()){	
  	
  		String curUserCanUse = rs.getString("templateid");
  		sql = "SELECT a.* FROM HrmUserSetting a, SystemTemplate  b WHERE a.resourceId="+user.getUID()+" AND a.templateId=b.id  and  b.id="+curUserCanUse;
  		rs.execute(sql);
  		if(rs.next()){
  			theme = rs.getString("theme");
  			skin = rs.getString("skin");
  			if("ecology8".equals(theme)){
  				skin = "default";
  			}
  			result[0] = theme;
  			result[1] = skin;
  			return result;
  		}
  	}
  	
  	
  
  	
  	int userid = user.getUID();
  	rs.executeSql("select theme, skin from HrmUserSetting where resourceId=" + userid);
  	
  	if (rs.next()) {
  		theme = rs.getString("theme");
  		skin = rs.getString("skin");
  	}
  	
  	//rs.executeSql("select * from extandHpThemeItem where extandHpThemeId=" + sqltemplateid1 + " and isopen=1 and theme='" + theme + "' and skin='" + skin + "'");
  	result[0] = theme;
  	result[1] = skin;
  	
  	
  	
  	//System.out.println("result"+result[0]+result[1]);
  	return result;
  }
  
  
  private java.util.Map getPageConfigInfo(HttpSession session, User user) throws Exception{
  	
  	weaver.conn.RecordSet rs = new weaver.conn.RecordSet();
  	java.util.Map pageConfigkv = new java.util.HashMap();
  	
  	weaver.systeminfo.template.UserTemplate  userTemplate = new weaver.systeminfo.template.UserTemplate();
  	userTemplate.getTemplateByUID(user.getUID(),user.getUserSubCompany1());
  	
  	pageConfigkv.put("logoTop",userTemplate.getLogo());
  	pageConfigkv.put("logoBottom", userTemplate.getLogo());
  	pageConfigkv.put("isopen", userTemplate.getIsopen());
  	//pageConfigkv.put("islock", rs.getString("islock"));
  	
  	int extendtempletvalueid = userTemplate.getExtendtempletvalueid();
  	rs.executeSql("select * from extandHpThemeItem where extandHpThemeId=" + extendtempletvalueid + " and isopen=1 and theme='" + getCurrWuiConfig(session, user, "THEME") + "' and skin='" + getCurrWuiConfig(session, user, "SKIN") + "'");
  	
  	if (rs.next()) {
  	
  		
  		/**
  		 * ecologybasic\u4e3b\u9898\u7528\u8bbe\u7f6e\u9879
  		 */
  		pageConfigkv.put("bodyBg", rs.getString("bodyBg"));
  		pageConfigkv.put("topBgImage", rs.getString("topBgImage"));
  		pageConfigkv.put("toolbarBgColor", rs.getString("toolbarBgColor"));
  		pageConfigkv.put("menuborderColor", rs.getString("menuborderColor"));
  
  		pageConfigkv.put("leftbarBgImage", rs.getString("leftbarBgImage"));
  		pageConfigkv.put("leftbarBgImageH", rs.getString("leftbarBgImageH"));
  
  		pageConfigkv.put("leftbarborderColor", rs.getString("leftbarborderColor"));
  		pageConfigkv.put("leftbarFontColor", rs.getString("leftbarFontColor"));
  
  		pageConfigkv.put("topleftbarBgImage_left", rs.getString("topleftbarBgImage_left"));
  		pageConfigkv.put("topleftbarBgImage_center", rs.getString("topleftbarBgImage_center"));
  		pageConfigkv.put("topleftbarBgImage_right", rs.getString("topleftbarBgImage_right"));
  
  		pageConfigkv.put("bottomleftbarBgImage_left", rs.getString("bottomleftbarBgImage_left"));
  		pageConfigkv.put("bottomleftbarBgImage_center", rs.getString("bottomleftbarBgImage_center"));
  		pageConfigkv.put("bottomleftbarBgImage_right", rs.getString("bottomleftbarBgImage_right"));
  
  	}
  	
  	return pageConfigkv;
  	
  }

  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = _jsp_application.getJspApplicationContext().allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.PageContext _jsp_parentContext = pageContext;
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html; charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
	try{
		response.setBufferSize(1*1024*1024);
	}catch(Exception e){}

      out.write(_jsp_string1, 0, _jsp_string1.length);
      
// \u589e\u52a0\u53c2\u6570\u5224\u65ad\u7f13\u5b58
int isIncludeToptitle = 0;
response.setHeader("cache-control", "no-cache");
response.setHeader("pragma", "no-cache");
response.setHeader("expires", "Mon 1 Jan 1990 00:00:00 GMT");

      out.write(_jsp_string2, 0, _jsp_string2.length);
      
//
User user = HrmUserVarify.getUser (request , response) ;
LicenseCheckLogin licenseCheckLogin = new LicenseCheckLogin();
licenseCheckLogin.setOutLineDate(user.getUID(),IPUtil.getIp(request));

//\u95ee\u98981
TestWorkflowCheck twc=new TestWorkflowCheck();
if(twc.checkURI(session,request.getRequestURI(),request.getQueryString())){
    /*
    response.sendRedirect("/login/Logout.jsp");
    */
    String forwardurl = twc.reLoginMrg(request, response, request.getRequestURI());
    if (!"".equals(forwardurl)) { 
        response.sendRedirect(forwardurl);
        return;
    }
}
String userOffline = Util.null2String((String)session.getAttribute("userOffline"));	
if(userOffline.equals("1")){
	//\u5f3a\u5236\u4e0b\u7ebf
	String loginfile = Util.getCookie(request , "loginfileweaver") ;
	Map userSessions = (Map) application.getAttribute("userSessions");
	if (userSessions != null) {
		Map logmessages = (Map) application.getAttribute("logmessages");
		if (logmessages != null)logmessages.remove("" + user.getUID());
		session.removeValue("moniter");
		session.removeValue("WeaverMailSet");
		userSessions.remove(user.getUID());
		//session.invalidate();
	}
      out.write(_jsp_string3, 0, _jsp_string3.length);
      out.print((SystemEnv.getErrorMsgName(175,user.getLanguage())));
      out.write(_jsp_string4, 0, _jsp_string4.length);
      out.print(("/Refresh.jsp?loginfile="+loginfile+"&message=175"));
      out.write(_jsp_string5, 0, _jsp_string5.length);
      
  return;
}
if(user == null)  return ;
String isIE = (String)session.getAttribute("browser_isie");
if (isIE == null || "".equals(isIE)) {
	isIE = "true";
	session.setAttribute("browser_isie", "true");
}
String agentT = request.getHeader("user-agent");
//if(!"true".equals(isIE)){
//if((agentT.contains("Firefox")||agentT.contains(" Chrome")||agentT.contains("Safari") )&& !agentT.contains("Edge")){
if(agentT.contains("Firefox")||agentT.contains(" Chrome")||agentT.contains("Safari") || agentT.contains("Edge")){	
    isIE = "false";	
}
else{
    isIE = "true";	
}
//}

Log logger= LogFactory.getLog(this.getClass());



//************************************************
//\u8d85\u65f6\u6216\u8005\u91cd\u542fresin\u670d\u52a1\u65f6\uff0c\u5f39\u51fa\u767b\u9646\u5c0f\u7a97\u53e3(TD 2227)
//hubo,050707

//************************************************

String pagepath = request.getServletPath();
if(pagepath.indexOf("HrmResourceOperation.jsp")<0&&pagepath.indexOf("RemindLogin.jsp")<0&&pagepath.indexOf("HrmResourcePassword.jsp")<0){
	String changepwd = (String)request.getSession().getAttribute("changepwd");
	if("n".equals(changepwd)){
		request.getSession().removeAttribute("changepwd");
		response.sendRedirect("/login/Login.jsp");
		return;
	}else if("y".equals(changepwd)){
		request.getSession().removeAttribute("changepwd");
	}
}



//licence\u4fe1\u606f
String companyNametools="";
LN Licenseinit_1 = new LN();
try{
	Licenseinit_1.CkHrmnum();
}catch(Exception e){
	e.printStackTrace();
	out.println("<script type='text/javascript'> top.location.href='/system/InLicense.jsp?message=6&code=';</script>");
	return;
}
companyNametools = Licenseinit_1.getCompanyname();

//\u7248\u672c\u4fe1\u606f
StaticObj staticobj = null;
staticobj = StaticObj.getInstance();
String software = (String)staticobj.getObject("software") ;
if(software == null) software="ALL";
String portal = (String)staticobj.getObject("portal") ;
if(portal == null) portal="n";
boolean isPortalOK = false;
if(portal.equals("y")) isPortalOK = true;
String multilanguage = (String)staticobj.getObject("multilanguage") ;
if(multilanguage == null) multilanguage="n";
boolean isMultilanguageOK = false;
if(multilanguage.equals("y")) isMultilanguageOK = true;


      out.write(_jsp_string2, 0, _jsp_string2.length);
      
  String fromlogin=(String)session.getAttribute("fromlogin");
  session.removeAttribute("fromlogin");
  if(fromlogin==null) fromlogin="no";

  ChgPasswdReminder reminder0 = new ChgPasswdReminder();
  RemindSettings settings0=reminder0.getRemindSettings();
  String firmcode0=settings0.getFirmcode();
  String usercode0=settings0.getUsercode();

  int needusb0=user.getNeedusb();
  String usbtype0 = settings0.getUsbType();
  String serial0=user.getSerial();

//\u9650\u5236\u6bcf\u4e2a\u7528\u6237\u53ea\u80fd\u6709\u4e00\u4e2a\u767b\u5165\u7684\u7a97\u53e3
String frommain = Util.null2String(request.getParameter("frommain")) ;

Map logmessages=(Map)application.getAttribute("logmessages");
String a_logmessage="";
if(logmessages!=null)
	a_logmessage=Util.null2String((String)logmessages.get(""+user.getUID()));

String s_logmessage=Util.null2String((String)session.getAttribute("logmessage"));


//TD2125 by mackjoe \u89e3\u51b3\u6570\u636e\u4e2d\u5fc3\u767b\u9646\u4e0d\u4e86\u95ee\u9898
if(s_logmessage==null)  s_logmessage="";

String relogin0=Util.null2String(settings0.getRelogin());

String changepwd = (String)session.getAttribute("changepwd");

if(!relogin0.equals("1")&&"yes".equals(changepwd)){
logmessages=(Map)application.getAttribute("logmessages");
logmessages.put(""+user.getUID(),s_logmessage);
if(logmessages!=null)
	a_logmessage=Util.null2String((String)logmessages.get(""+user.getUID()));
}

String layoutStyle = (String)request.getSession(true).getAttribute("layoutStyle");
if(layoutStyle==null) layoutStyle ="";

String rtxFromLogintmp = (String)session.getAttribute("RtxFromLogin");


if("1".equals(user.getLogintype())&&!relogin0.equals("1")&&!fromlogin.equals("yes")&&!frommain.equals("yes")&&!s_logmessage.equals(a_logmessage) && !"true".equals(rtxFromLogintmp)){
	if(layoutStyle.equals("") || !layoutStyle.equals("1")){	//\u5982\u679c\u662f\u5c0f\u7a97\u53e3\u767b\u5f55\uff0c\u5219\u4e0d\u5224\u65ad\u662f\u5426\u4e3a\u5f53\u524d\u5de5\u4f5c\u7a97\u53e3


      out.write(_jsp_string6, 0, _jsp_string6.length);
      out.print((SystemEnv.getHtmlLabelName(23274,user.getLanguage())));
      out.write(_jsp_string7, 0, _jsp_string7.length);
      return;}}
      out.write(_jsp_string2, 0, _jsp_string2.length);
      
//\u6d41\u7a0b\u7684\u4e09\u4e2a\u9875\u9762\u9700\u8981\u4f7f\u7528\u9ad8\u7248\u672c\u7684jQuery
if (request.getRequestURI().indexOf("/workflow/request/") != -1 &&
        (request.getRequestURI().indexOf("/workflow/request/ManageRequestNoForm") != -1 
                || request.getRequestURI().indexOf("/workflow/request/ViewRequestIframe.jsp") != -1
                || request.getRequestURI().indexOf("/workflow/request/RemarkFrame.jsp") != -1)) {

      out.write(_jsp_string8, 0, _jsp_string8.length);
      
} else {

      out.write(_jsp_string9, 0, _jsp_string9.length);
      
}

      out.write(_jsp_string10, 0, _jsp_string10.length);
      
//\u6a21\u677f\u6a21\u5f0f\u5bfc\u5165
if ((request.getRequestURI().indexOf("/workflow/") != -1 && request.getRequestURI().indexOf("mode") != -1)
        || request.getRequestURI().indexOf("/workflow/request/AddRequest") != -1) {
        
      out.write(_jsp_string11, 0, _jsp_string11.length);
      
}

      out.write(_jsp_string12, 0, _jsp_string12.length);
      out.print((user.getLanguage()));
      out.write(_jsp_string13, 0, _jsp_string13.length);
      out.print((request.getSession().getId()));
      out.write(_jsp_string14, 0, _jsp_string14.length);
      out.print((SystemEnv.getHtmlLabelName(21403,user.getLanguage())));
      out.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((SystemEnv.getHtmlLabelName(21791,user.getLanguage())));
      out.write(_jsp_string16, 0, _jsp_string16.length);
      out.print((SystemEnv.getHtmlLabelNames("17480",user.getLanguage())));
      out.write(_jsp_string17, 0, _jsp_string17.length);
      out.print((SystemEnv.getHtmlLabelNames("25484,83",user.getLanguage())));
      out.write(_jsp_string18, 0, _jsp_string18.length);
      out.print((user.getUID()));
      out.write(_jsp_string19, 0, _jsp_string19.length);
      out.print((user.getUID()));
      out.write(_jsp_string20, 0, _jsp_string20.length);
      out.print((user.getType()));
      out.write(_jsp_string21, 0, _jsp_string21.length);
      out.print((SystemEnv.getHtmlLabelName(26263,user.getLanguage())));
      out.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((URLEncoder.encode(user.getLoginid())));
      out.write(_jsp_string23, 0, _jsp_string23.length);
      out.print((SystemEnv.getHtmlLabelName(21403,user.getLanguage())));
      out.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((SystemEnv.getHtmlLabelName(23670,user.getLanguage())));
      out.write(_jsp_string25, 0, _jsp_string25.length);
      out.print((SystemEnv.getHtmlLabelName(21791,user.getLanguage())));
      out.write(_jsp_string26, 0, _jsp_string26.length);
      if(new weaver.conn.RecordSet().getDBType().equals("oracle")){
      out.write(_jsp_string27, 0, _jsp_string27.length);
      out.print((SystemEnv.getHtmlLabelName(524,user.getLanguage())));
      out.print((SystemEnv.getHtmlLabelName(698,user.getLanguage())));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      out.print((SystemEnv.getHtmlLabelName(20246,user.getLanguage())));
      out.write(_jsp_string28, 0, _jsp_string28.length);
      out.print((SystemEnv.getHtmlLabelName(124962,user.getLanguage())));
      out.write(_jsp_string29, 0, _jsp_string29.length);
      }
      out.write(_jsp_string30, 0, _jsp_string30.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string31, 0, _jsp_string31.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string32, 0, _jsp_string32.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string34, 0, _jsp_string34.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string33, 0, _jsp_string33.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((SystemEnv.getHtmlLabelName(21423,user.getLanguage())));
      out.write(_jsp_string37, 0, _jsp_string37.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string38, 0, _jsp_string38.length);
      out.print((SystemEnv.getHtmlNoteName(14,user.getLanguage())));
      out.write(_jsp_string39, 0, _jsp_string39.length);
      out.print((SystemEnv.getHtmlLabelName(15097,user.getLanguage())));
      out.write(_jsp_string40, 0, _jsp_string40.length);
      out.print((SystemEnv.getHtmlLabelName(22161,user.getLanguage())));
      out.write(_jsp_string41, 0, _jsp_string41.length);
      out.print((companyNametools));
      out.write(_jsp_string42, 0, _jsp_string42.length);
      out.print((SystemEnv.getHtmlLabelName(23714,user.getLanguage())));
      out.write(_jsp_string43, 0, _jsp_string43.length);
      
  if(!fromlogin.equals("yes")&&needusb0==1&&"1".equals(usbtype0)){

      out.write(_jsp_string44, 0, _jsp_string44.length);
      out.print((firmcode0));
      out.write(_jsp_string45, 0, _jsp_string45.length);
      out.print((usercode0));
      out.write(_jsp_string46, 0, _jsp_string46.length);
      out.print((serial0));
      out.write(_jsp_string47, 0, _jsp_string47.length);
      out.print((user.getLanguage()));
      out.write(_jsp_string48, 0, _jsp_string48.length);
      }
      out.write(_jsp_string49, 0, _jsp_string49.length);
      weaver.workflow.workflow.TestWorkflowCheck TestWorkflowCheckInitWui;
      TestWorkflowCheckInitWui = (weaver.workflow.workflow.TestWorkflowCheck) pageContext.getAttribute("TestWorkflowCheckInitWui");
      if (TestWorkflowCheckInitWui == null) {
        TestWorkflowCheckInitWui = new weaver.workflow.workflow.TestWorkflowCheck();
        pageContext.setAttribute("TestWorkflowCheckInitWui", TestWorkflowCheckInitWui);
      }
      out.write(_jsp_string50, 0, _jsp_string50.length);
      out.println(TestWorkflowCheckInitWui.ReloadByDialogClose(request));
      out.write(_jsp_string51, 0, _jsp_string51.length);
      
    if(TestWorkflowCheckInitWui.checkURI(session,request.getRequestURI(),request.getQueryString())){
        response.sendRedirect("/login/Login.jsp");
        return;
    }

      out.write(_jsp_string52, 0, _jsp_string52.length);
      

String curTheme = "ecology7";
//\u5f53\u524d\u76ae\u80a4
String curskin = "";
String cutoverWay = "";
String transitionTime = "";
String transitionWay = "";

HrmUserSettingComInfo instance = new HrmUserSettingComInfo();

String huscifId = String.valueOf(instance.getId(String.valueOf(user.getUID())));

curTheme = getCurrWuiConfig(session, user, "theme");
curskin = getCurrWuiConfig(session, user, "skin");

cutoverWay = instance.getCutoverWay(huscifId);
transitionTime = instance.getTransitionTime(huscifId);
transitionWay = instance.getTransitionWays(huscifId);

      out.write(_jsp_string53, 0, _jsp_string53.length);
      
String ely6flg = "";
if ("ecology6".equals(curTheme.toLowerCase())) {
	curTheme = "ecology7";
	ely6flg = "ecology6";
}

      out.write(_jsp_string54, 0, _jsp_string54.length);
      out.print((curTheme ));
      out.write(_jsp_string55, 0, _jsp_string55.length);
      out.print((curskin ));
      out.write(_jsp_string56, 0, _jsp_string56.length);
      
curTheme = "ecology8";//\u540e\u53f0\u914d\u7f6e\u9875\u9762\u5747\u4e3aE8\u4e3b\u9898\uff0c\u5982\u4f7f\u7528\u5176\u4ed6\u4e3b\u9898\u65f6\uff0c\u4f1a\u5bfc\u81f4\u6837\u5f0f\u6df7\u4e71\u3002\u6240\u4ee5\u6b64\u5904\u4e3b\u9898\u5f3a\u5236\u8d4b\u503cecology8
if("ecology8".equals(curTheme)) curskin="default";
session.setAttribute("SESSION_TEMP_CURRENT_THEME", curTheme);
session.setAttribute("SESSION_TEMP_CURRENT_SKIN", curskin);

      out.write(_jsp_string57, 0, _jsp_string57.length);
      
    if (transitionTime != null && !transitionTime.equals("") && !transitionTime.equals("0")) {

      out.write(_jsp_string58, 0, _jsp_string58.length);
      out.print((cutoverWay ));
      out.write(_jsp_string59, 0, _jsp_string59.length);
      out.print((transitionTime ));
      out.write(_jsp_string60, 0, _jsp_string60.length);
      out.print((transitionWay ));
      out.write(_jsp_string61, 0, _jsp_string61.length);
      
    }

      out.write(_jsp_string62, 0, _jsp_string62.length);
      out.print((curTheme ));
      out.write(_jsp_string63, 0, _jsp_string63.length);
      out.print((curskin ));
      out.write(_jsp_string64, 0, _jsp_string64.length);
      if(!"1".equals(session.getAttribute("istest"))){//\u6d41\u7a0b\u6d4b\u8bd5
      out.write(_jsp_string53, 0, _jsp_string53.length);
      pageContext.include("/synergy/showSynergy.jsp", "requestid=" + com.caucho.el.Expr.toString(Util.getIntValue(request.getParameter("requestid"),-1), null), false);
      out.write(_jsp_string53, 0, _jsp_string53.length);
      }
      out.write(_jsp_string65, 0, _jsp_string65.length);
      weaver.conn.RecordSet rs;
      rs = (weaver.conn.RecordSet) pageContext.getAttribute("rs");
      if (rs == null) {
        rs = new weaver.conn.RecordSet();
        pageContext.setAttribute("rs", rs);
      }
      out.write(_jsp_string53, 0, _jsp_string53.length);
      weaver.hrm.resource.ResourceComInfo ResourceComInfo;
      ResourceComInfo = (weaver.hrm.resource.ResourceComInfo) pageContext.getAttribute("ResourceComInfo");
      if (ResourceComInfo == null) {
        ResourceComInfo = new weaver.hrm.resource.ResourceComInfo();
        pageContext.setAttribute("ResourceComInfo", ResourceComInfo);
      }
      out.write(_jsp_string53, 0, _jsp_string53.length);
      
//\u83b7\u53d6\u7528\u6237\u4fe1\u606f,\u6839\u636e\u7528\u6237\u4fe1\u606f,\u83b7\u53d6\u6709\u6743\u9650\u7684\u516c\u4f17\u5e73\u53f0
 int userid=user.getUID(); 
 

      out.write(_jsp_string66, 0, _jsp_string66.length);
      
String imagefilename = "/images/hdReport_wev8.gif";
String titlename = SystemEnv.getHtmlLabelName(32642,user.getLanguage());
String needfav ="1";
String needhelp ="";

      out.write(_jsp_string67, 0, _jsp_string67.length);
      weaver.conn.RecordSet RecordSetFavourite;
      RecordSetFavourite = (weaver.conn.RecordSet) pageContext.getAttribute("RecordSetFavourite");
      if (RecordSetFavourite == null) {
        RecordSetFavourite = new weaver.conn.RecordSet();
        pageContext.setAttribute("RecordSetFavourite", RecordSetFavourite);
      }
      out.write(_jsp_string2, 0, _jsp_string2.length);
      
isIncludeToptitle = 1;
String gopage = "";
String hostname = request.getServerName();
String uri = request.getRequestURI();
String querystring="";
titlename = Util.null2String(titlename) ;
String ajaxs="";
for(Enumeration En=request.getParameterNames();En.hasMoreElements();)
{
	String tmpname=(String) En.nextElement();
	
    if(tmpname.equals("ajax"))
	{
		ajaxs=tmpname;
    	continue;
	}
    //String tmpvalue=Util.toScreen(request.getParameter(tmpname),user.getLanguage(),"0");
	//querystring+="^"+tmpname+"="+tmpvalue;
    String [] paramValues = request.getParameterValues(tmpname);   //\u4fee\u590dbug\uff0c\u6536\u85cf\u7684\u62a5\u8868\uff0c\u5217\u4e0d\u80fd\u5168\u90e8\u663e\u793a\u7684\u95ee\u9898\uff0cmodify by fmj 2015-03-013
    if(paramValues.length > 0){
    	for(int __kk = 0; __kk < paramValues.length; __kk++){
    		querystring+="^"+tmpname+"="+Util.toScreen(paramValues[__kk],user.getLanguage(),"0");
    	}
    }
}
if(!querystring.equals(""))
	querystring=querystring.substring(1);
String pagename= titlename ;

session.setAttribute("fav_pagename" , pagename ) ;
session.setAttribute("fav_uri" , uri ) ;
session.setAttribute("fav_querystring" , querystring ) ;
int addFavSuccess=Util.getIntValue(session.getAttribute("fav_addfavsuccess")+"");
session.setAttribute("fav_addfavsuccess" , "" ) ;
pagename = URLEncoder.encode(pagename);


//is workflow page
boolean isWfFomPage=false;
String strUrl=request.getRequestURL().toString();

if(strUrl.indexOf("AddRequest.jsp")!=-1
		||strUrl.indexOf("ManageRequestNoForm.jsp")!=-1
		||strUrl.indexOf("ManageRequestNoFormMode.jsp")!=-1
		||strUrl.indexOf("ManageRequestNoFormBill.jsp")!=-1
		||strUrl.indexOf("ViewRequest.jsp")!=-1){
	isWfFomPage=true;
}
String isEnableExtranetHelp = KtreeHelp.getInstance().isEnableExtranetHelp;

      out.write(_jsp_string68, 0, _jsp_string68.length);
      out.print((isEnableExtranetHelp));
      out.write(_jsp_string69, 0, _jsp_string69.length);
      out.print((KtreeHelp.getInstance().extranetUrl));
      out.write(_jsp_string70, 0, _jsp_string70.length);
      out.print((URLEncoder.encode(uri)));
      out.write(_jsp_string71, 0, _jsp_string71.length);
      out.print((URLEncoder.encode(querystring)));
      out.write(_jsp_string72, 0, _jsp_string72.length);
      out.print((SystemEnv.getHtmlLabelName(2081,user.getLanguage())));
      out.write(_jsp_string73, 0, _jsp_string73.length);
      out.print((SystemEnv.getHtmlLabelName(15537, user.getLanguage())));
      out.write(_jsp_string74, 0, _jsp_string74.length);
      out.print((SystemEnv.getHtmlLabelName(82899, user.getLanguage())));
      out.write(_jsp_string75, 0, _jsp_string75.length);
      out.print((SystemEnv.getHtmlLabelName(82898, user.getLanguage())));
      out.write(_jsp_string76, 0, _jsp_string76.length);
      out.print((SystemEnv.getHtmlLabelName(611, user.getLanguage())));
      out.write(_jsp_string77, 0, _jsp_string77.length);
      out.print((user.getLanguage()));
      out.write(_jsp_string78, 0, _jsp_string78.length);
      out.print((user.getLanguage()));
      out.write(_jsp_string79, 0, _jsp_string79.length);
      out.print((SystemEnv.getHtmlLabelName(82920, user.getLanguage())));
      out.write(_jsp_string80, 0, _jsp_string80.length);
      out.print((SystemEnv.getHtmlLabelName(82914, user.getLanguage())));
      out.write(_jsp_string80, 0, _jsp_string80.length);
      out.print((SystemEnv.getHtmlLabelName(82915, user.getLanguage())));
      out.write(_jsp_string80, 0, _jsp_string80.length);
      out.print((SystemEnv.getHtmlLabelName(82916, user.getLanguage())));
      out.write(_jsp_string81, 0, _jsp_string81.length);
      out.print((SystemEnv.getHtmlLabelName(82917, user.getLanguage())));
      out.write(_jsp_string81, 0, _jsp_string81.length);
      out.print((SystemEnv.getHtmlLabelName(82918, user.getLanguage())));
      out.write(_jsp_string81, 0, _jsp_string81.length);
      out.print((SystemEnv.getHtmlLabelName(82919, user.getLanguage())));
      out.write(_jsp_string82, 0, _jsp_string82.length);
      out.print((SystemEnv.getHtmlLabelName(83506,user.getLanguage())));
      out.write(_jsp_string83, 0, _jsp_string83.length);
      out.print((SystemEnv.getHtmlLabelName(2211,user.getLanguage())));
      out.write(_jsp_string84, 0, _jsp_string84.length);
      out.print((userid));
      out.write(_jsp_string85, 0, _jsp_string85.length);
      out.print((SystemEnv.getHtmlLabelName(2211,user.getLanguage())));
      out.write(_jsp_string86, 0, _jsp_string86.length);
      out.print((SystemEnv.getHtmlLabelName(398, user.getLanguage())));
      out.write(_jsp_string87, 0, _jsp_string87.length);
      out.print((SystemEnv.getHtmlLabelName(392, user.getLanguage())));
      out.write(_jsp_string88, 0, _jsp_string88.length);
      out.print((SystemEnv.getHtmlLabelName(393, user.getLanguage())));
      out.write(_jsp_string89, 0, _jsp_string89.length);
      out.print((SystemEnv.getHtmlLabelName(394, user.getLanguage())));
      out.write(_jsp_string90, 0, _jsp_string90.length);
      out.print((SystemEnv.getHtmlLabelName(395, user.getLanguage())));
      out.write(_jsp_string91, 0, _jsp_string91.length);
      out.print((SystemEnv.getHtmlLabelName(396, user.getLanguage())));
      out.write(_jsp_string92, 0, _jsp_string92.length);
      out.print((SystemEnv.getHtmlLabelName(397, user.getLanguage())));
      out.write(_jsp_string93, 0, _jsp_string93.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_application.getJspApplicationContext().freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.server.util.CauchoSystem.getVersionId() != 1886798272571451039L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Dependency depend;
      depend = (com.caucho.vfs.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    com.caucho.server.webapp.WebApp webApp
      = (com.caucho.server.webapp.WebApp) config.getServletContext();
    super.init(config);
    com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
    manager.addTaglibFunctions(_jsp_functionMap, "wea", "/WEB-INF/weaver.tld");
    manager.addTaglibFunctions(_jsp_functionMap, "brow", "/browserTag");
    com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.PageContextImpl(webApp, this);
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("page/element/MyCalendar/View.jsp"), -7448314191631590706L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("systeminfo/init_wev8.jsp"), 2425449460466103212L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("wui/common/page/initWui.jsp"), 3390533274175540290L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("systeminfo/TopTitle_wev8.jsp"), 7557236510105032365L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string20;
  private final static char []_jsp_string93;
  private final static char []_jsp_string21;
  private final static char []_jsp_string68;
  private final static char []_jsp_string63;
  private final static char []_jsp_string8;
  private final static char []_jsp_string32;
  private final static char []_jsp_string48;
  private final static char []_jsp_string38;
  private final static char []_jsp_string90;
  private final static char []_jsp_string43;
  private final static char []_jsp_string54;
  private final static char []_jsp_string19;
  private final static char []_jsp_string16;
  private final static char []_jsp_string18;
  private final static char []_jsp_string80;
  private final static char []_jsp_string12;
  private final static char []_jsp_string73;
  private final static char []_jsp_string56;
  private final static char []_jsp_string85;
  private final static char []_jsp_string89;
  private final static char []_jsp_string79;
  private final static char []_jsp_string83;
  private final static char []_jsp_string67;
  private final static char []_jsp_string84;
  private final static char []_jsp_string17;
  private final static char []_jsp_string61;
  private final static char []_jsp_string44;
  private final static char []_jsp_string6;
  private final static char []_jsp_string82;
  private final static char []_jsp_string46;
  private final static char []_jsp_string88;
  private final static char []_jsp_string5;
  private final static char []_jsp_string51;
  private final static char []_jsp_string14;
  private final static char []_jsp_string27;
  private final static char []_jsp_string78;
  private final static char []_jsp_string57;
  private final static char []_jsp_string64;
  private final static char []_jsp_string34;
  private final static char []_jsp_string74;
  private final static char []_jsp_string0;
  private final static char []_jsp_string11;
  private final static char []_jsp_string87;
  private final static char []_jsp_string72;
  private final static char []_jsp_string25;
  private final static char []_jsp_string9;
  private final static char []_jsp_string42;
  private final static char []_jsp_string7;
  private final static char []_jsp_string33;
  private final static char []_jsp_string65;
  private final static char []_jsp_string45;
  private final static char []_jsp_string30;
  private final static char []_jsp_string3;
  private final static char []_jsp_string31;
  private final static char []_jsp_string71;
  private final static char []_jsp_string75;
  private final static char []_jsp_string36;
  private final static char []_jsp_string26;
  private final static char []_jsp_string52;
  private final static char []_jsp_string47;
  private final static char []_jsp_string55;
  private final static char []_jsp_string37;
  private final static char []_jsp_string15;
  private final static char []_jsp_string62;
  private final static char []_jsp_string41;
  private final static char []_jsp_string81;
  private final static char []_jsp_string1;
  private final static char []_jsp_string13;
  private final static char []_jsp_string66;
  private final static char []_jsp_string35;
  private final static char []_jsp_string4;
  private final static char []_jsp_string86;
  private final static char []_jsp_string50;
  private final static char []_jsp_string69;
  private final static char []_jsp_string23;
  private final static char []_jsp_string53;
  private final static char []_jsp_string10;
  private final static char []_jsp_string49;
  private final static char []_jsp_string40;
  private final static char []_jsp_string92;
  private final static char []_jsp_string22;
  private final static char []_jsp_string29;
  private final static char []_jsp_string58;
  private final static char []_jsp_string60;
  private final static char []_jsp_string59;
  private final static char []_jsp_string28;
  private final static char []_jsp_string24;
  private final static char []_jsp_string76;
  private final static char []_jsp_string70;
  private final static char []_jsp_string39;
  private final static char []_jsp_string77;
  private final static char []_jsp_string91;
  private final static char []_jsp_string2;
  static {
    _jsp_string20 = "&f_weaver_belongto_usertype=".toCharArray();
    _jsp_string93 = "\";\r\n    }\r\n 	return weekDay;\r\n }\r\n function next(obj){\r\n 	pageDate.setDate(1);//\u8bbe\u7f6e\u672c\u6708\u7b2c\u4e00\u5929\r\n 	pageDate.setMonth(pageDate.getMonth() + 1);\r\n 	var idv=$(obj).attr(\"id\");\r\n 	if(idv!='prevbtn'&&idv!='nextbtn'){\r\n 		calendar(idv);\r\n 	}else{\r\n 		calendar();\r\n 	}\r\n }\r\n \r\n function prev(obj){\r\n 	pageDate.setDate(1);//\u8bbe\u7f6e\u672c\u6708\u7b2c\u4e00\u5929\r\n 	 pageDate.setMonth(pageDate.getMonth() - 1);\r\n 	var idv=$(obj).attr(\"id\");\r\n 	if(idv!='prevbtn'&&idv!='nextbtn'){\r\n 		calendar(idv);\r\n 	}else{\r\n 		calendar();\r\n 	}\r\n 	\r\n }\r\n \r\n function todayClick(){\r\n	pageDate=new Date(currentToday.getFullYear(),currentToday.getMonth(),currentToday.getDate());\r\n	calendar();\r\n }\r\n \r\n function DateAdd(interval, number, idate) {\r\n 	   var date=new Date(idate.getFullYear(),idate.getMonth(),idate.getDate());\r\n       number = parseInt(number);\r\n       switch (interval) {\r\n           case \"y\": date.setFullYear(date.getFullYear() + number); break;\r\n           case \"m\": date.setMonth(date.getMonth() + number); break;\r\n           case \"d\": date.setDate(date.getDate() + number); break;\r\n           case \"w\": date.setDate(date.getDate() + 7 * number); break;\r\n           case \"h\": date.setHours(date.getHours() + number); break;\r\n           case \"n\": date.setMinutes(date.getMinutes() + number); break;\r\n           case \"s\": date.setSeconds(date.getSeconds() + number); break;\r\n           case \"l\": date.setMilliseconds(date.getMilliseconds() + number); break;\r\n       }\r\n       return date;\r\n   }\r\n        \r\nvar isSubmit=false;\r\n\r\n$(document).ready(function() {\r\n	jQuery(\".addWorkPlan\").hover(function(){\r\n		jQuery(this).addClass(\"addWorkPlan2\");\r\n	},function(){\r\n		jQuery(this).removeClass(\"addWorkPlan2\");\r\n	});\r\n	jQuery(\".LeftArrow\").hover(function(){\r\n		jQuery(this).addClass(\"LeftArrow2\");\r\n	},function(){\r\n		jQuery(this).removeClass(\"LeftArrow2\");\r\n	});\r\n	jQuery(\".RightArrow\").hover(function(){\r\n		jQuery(this).addClass(\"RightArrow2\");\r\n	},function(){\r\n		jQuery(this).removeClass(\"RightArrow2\");\r\n	});\r\n	 initToday();\r\n	 calendar();\r\n	 window.setInterval(\"refashDate()\",100);\r\n	 jQuery(\"#planDataEvent\").perfectScrollbar();\r\n});\r\n\r\n\r\n\r\n</script>\r\n\r\n</HTML>\r\n".toCharArray();
    _jsp_string21 = "\";\r\n	    xmlhttp.open(\"GET\",URL, false);\r\n	    xmlhttp.send(null);\r\n	    var result = xmlhttp.status;\r\n	    if(result==200) {\r\n		    isconn = true;\r\n	    	var response_flag = xmlhttp.responseText;\r\n	    	if(response_flag!='0') {\r\n	    		var flag_msg = '';\r\n	    		if(response_flag=='1') {\r\n	    			var diag = new Dialog();\r\n					diag.Width = 300;\r\n					diag.Height = 180;\r\n					diag.ShowCloseButton=false;\r\n					diag.Title = \"".toCharArray();
    _jsp_string68 = "\r\n\r\n<!-- bpf start 2013-10-23  -->	\r\n		\r\n		<style type=\"text/css\">\r\n			.popDiv{\r\n				float:right;\r\n				position:absolute;\r\n				top:0px;\r\n				right:0px;\r\n				display:none;\r\n				border:#D8D8D8 1px solid;\r\n			}\r\n			.shadowDiv{\r\n				position:absolute;\r\n				float:left;\r\n				top:0px;\r\n				right:0px;\r\n				width:11px;\r\n				height:7px;\r\n				z-index:3;\r\n				display:none;\r\n				background-image:url(/images/ecology8/angle_wev8.png);\r\n				background-repeat:no-repeat;\r\n			}\r\n		</style>\r\n		\r\n		<div class=\"shadowDiv\" id=\"shadowBorderDiv\"></div>\r\n\r\n\r\n\r\n\r\n<script language=javascript>\r\n\r\nfunction setBorder(){\r\n	var a = jQuery(\"span.selectedTitle\");\r\n	var div = jQuery(\"#shadowBorderDiv\");\r\n	//div.show();\r\n	var _top = a.offset().top+a.height();\r\n	var left = a.offset().left;\r\n	//div.width(a.width());\r\n	var width = a.width()+parseInt(a.css(\"padding-left\").replace(\"px\",\"\"))+parseInt(a.css(\"padding-right\").replace(\"px\",\"\"));\r\n	if(a.offset().top==0){\r\n		div.css(\"top\",_top-5);\r\n		div.css(\"left\",left+(width/2)-7);\r\n	}else{\r\n		div.each(function(){jQuery.dequeue(this,'fx');}).animate({top:_top-1,left:left-1}, 1500);\r\n	}\r\n}\r\n\r\njQuery(document).ready(function(){\r\n	window.setTimeout(function(){\r\n		try{\r\n			try{\r\n				preDo();\r\n			}catch(e){}\r\n			//setBorder();\r\n			try{\r\n				afterDo();\r\n			}catch(e){}\r\n		}catch(e){jQuery(\"#shadowBorderDiv\").hide();}\r\n	},10);\r\n	\r\n	jQuery(window).scroll(\r\n		function(){\r\n			try{\r\n				//setBorder();\r\n			}catch(e){}\r\n		}\r\n	);\r\n	\r\n	jQuery(\"#hoverBtnSpan\").bind(\"click\",function(e){\r\n		try{\r\n			//jQuery(\"#shadowBorderDiv\").hide();\r\n			setBorder();\r\n		}catch(e){jQuery(\"#shadowBorderDiv\").hide();}\r\n	});\r\n	\r\n});\r\n\r\nfunction startMouseMove(){\r\n	var handle = null;\r\n	jQuery(document).bind(\"mousemove\",function(e){\r\n		var event = e || window.event;\r\n		var pageX = e.pageX;\r\n		var width = jQuery(document).width();\r\n		//console.log(jQuery(document).width()+\"::\"+e.pageX+\"::\"+handle);\r\n		if(Math.abs(pageX-width)<=50){\r\n	if(handle==null){\r\n		   handle=window.setTimeout(function(){\r\n			jQuery(\"#popDiv\").show(\"slow\");\r\n	},1000);\r\n	}\r\n		}else{\r\n		clearTimeout(handle);\r\n		handle=null;\r\n	}\r\n	});\r\n	jQuery(\"#popDiv\").hover(function(){},function(){\r\n		jQuery(\"#popDiv\").hide(\"slow\");\r\n	});\r\n}\r\n\r\n\r\nfunction showHelp(){\r\n    /*var pathKey = this.location.pathname;\r\n    //alert(pathKey);\r\n    if(pathKey!=\"\"){\r\n        pathKey = pathKey.substr(1);\r\n    }*/\r\n    var pathKey = \"\";\r\n	var __url = this.location.href;\r\n	try {\r\n		var __regexp = new RegExp(\"http(s)?://[^/]+\", \"gmi\");\r\n		__url = __url.replace(__regexp, '');\r\n	} catch (e) {}\r\n	pathKey = encodeURIComponent(__url);\r\n    var operationPage = \"http://help.e-cology.com.cn/help/RemoteHelp.jsp\";\r\n    var screenWidth = window.screen.width*1;\r\n    var screenHeight = window.screen.height*1;\r\n\r\n    var isEnableExtranetHelp = ".toCharArray();
    _jsp_string63 = "\";\r\n//\u5f53\u524d\u4e3b\u9898\u4f7f\u7528\u7684\u76ae\u80a4\r\nvar GLOBAL_SKINS_FOLDER = \"".toCharArray();
    _jsp_string8 = "\r\n<script type=\"text/javascript\" src=\"/js/select/script/jquery-1.8.3.min_wev8.js\"></script>	    \r\n".toCharArray();
    _jsp_string32 = "\", function () {\r\n						    formElementFocus(tempElement);						\r\n							});\r\n						}\r\n						return false;\r\n					}else{\r\n						if(window.__oriAlert__){\r\n							try{\r\n								window.top.Dialog.alert(\"".toCharArray();
    _jsp_string48 = "\";\r\ndoCheckusb();\r\n</script>\r\n".toCharArray();
    _jsp_string38 = "\");\r\n						}else{\r\n							window.top.Dialog.alert(\"".toCharArray();
    _jsp_string90 = "\";\r\n    }else if(day==4){\r\n    	weekDay=\"".toCharArray();
    _jsp_string43 = "\";\r\n\r\n  if(companyname.length >0 ){\r\n  	window.status = str1+companyname;\r\n  }\r\n</script>\r\n<!-- \u5220\u9664 -->\r\n</head></html>\r\n\r\n<!--USB \u9a8c\u8bc1 -->\r\n".toCharArray();
    _jsp_string54 = "\r\n<!--For wui-->\r\n<link type='text/css' rel='stylesheet'  href='/wui/theme/".toCharArray();
    _jsp_string19 = "&time=\"+new Date()+\"&f_weaver_belongto_userid=".toCharArray();
    _jsp_string16 = "');\r\n}\r\n\r\nfunction _onViewLog(operateitem,sqlwhere,id){\r\n	if(!sqlwhere)sqlwhere = \"\";\r\n	var dialog = new window.top.Dialog();\r\n	dialog.currentWindow = window;\r\n	dialog.Title = \"".toCharArray();
    _jsp_string18 = "\";\r\n		}\r\n	}\r\n	dialog.Width = jQuery(window).width();\r\n	dialog.Height = 610;\r\n	dialog.Drag = true;\r\n	dialog.checkDataChange = false;\r\n	dialog.maxiumnable = true;\r\n	dialog.URL = url;\r\n	dialog.show();\r\n}\r\n\r\n\r\nfunction check_form(thiswins,items)\r\n{\r\n	/* added by cyril on 2008-08-14 for td:8521 */\r\n	var isconn = false;\r\n	try {\r\n		var xmlhttp;\r\n	    if (window.XMLHttpRequest) {\r\n	    	xmlhttp = new XMLHttpRequest();\r\n	    }  \r\n	    else if (window.ActiveXObject) {\r\n	    	xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");  \r\n	    }\r\n	    var URL = \"/systeminfo/CheckConn.jsp?userid=".toCharArray();
    _jsp_string80 = "</td>'+\r\n			        '<td class=\"title\">".toCharArray();
    _jsp_string12 = "\r\n<!-- js \u6574\u5408\u5230 init_wev8.js -->\r\n<script type=\"text/javascript\" src=\"/js/jquery.table_wev8.js\"></script>\r\n<script language=\"javascript\" type=\"text/javascript\" src=\"/js/init_wev8.js\"></script>\r\n<script language=\"javascript\"  src=\"/js/wbusb_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/jquery/plugins/client/jquery.client_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/ecology8/jNice/jNice/jquery.jNice_wev8.js\"></script>\r\n<script type='text/javascript' src='/js/jquery-autocomplete/jquery.autocomplete_wev8.js'></script>\r\n<script type='text/javascript' src='/js/jquery-autocomplete/browser_wev8.js'></script>\r\n<script language=javascript src=\"/wui/theme/ecology8/jquery/js/zDialog_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/ecology8/request/hoverBtn_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/ecology8/lang/weaver_lang_".toCharArray();
    _jsp_string73 = "\";\r\n        dialog.Width = 550 ;\r\n        dialog.Height = 600;\r\n        dialog.Drag = true;\r\n        dialog.show();\r\n    });\r\n\r\n}\r\n</script>\r\n\r\n<table width=\"100%\" height=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\r\n<colgroup>\r\n<col width=\"\">\r\n<tr>\r\n	<td valign=\"top\">\r\n		<div style=\"border:#F3F2F2 1px solid;\">\r\n			<table id=\"Calendar\" width=\"100%\" border=0>\r\n		        <tr>\r\n		            <td>\r\n			                <table height=\"80\" width=\"100%\">\r\n		                        <tr align=\"center\">\r\n		                        	<td  class=\"hand\" align=\"center\" width=\"33%\" onclick=\"todayClick()\" title=\"".toCharArray();
    _jsp_string56 = "/wui_wev8.css'/>\r\n".toCharArray();
    _jsp_string85 = "&planName=&beginDate='+selectDate+'&beginTime='+beginTime+'&endDate='+selectDate+'&endTime=';\r\n  	//openFullWindowHaveBar(url);\r\n	\r\n  	if(window.top.Dialog){\r\n		calendarDialog = new window.top.Dialog();\r\n	} else {\r\n		calendarDialog = new Dialog();\r\n	};\r\n  	calendarDialog.URL =url;\r\n  	calendarDialog.Width = 600;\r\n	calendarDialog.Height = 600;\r\n  	calendarDialog.checkDataChange = false;\r\n    calendarDialog.Title=\"".toCharArray();
    _jsp_string89 = "\";\r\n    }else if(day==3){\r\n    	weekDay=\"".toCharArray();
    _jsp_string79 = "\"==\"9\"){\r\n 			$(\"#showDate\").html(year+\"\u5e74\"+(month>9?month:\"0\"+month)+\"\u6708\");\r\n 		}else{\r\n 			$(\"#showDate\").html(year+\"/\"+(month>9?month:\"0\"+month));\r\n 		}\r\n 		//\u8ba1\u7b97\u51favStart,vEnd\u5177\u4f53\u65f6\u95f4\r\n 		//\u9009\u4e2d\u6708\u7b2c\u4e00\u5929\u662f\u661f\u671f\u51e0\uff08\u8ddd\u661f\u671f\u65e5\u79bb\u5f00\u7684\u5929\u6570\uff09\r\n        var startDay = new Date(year, month - 1, 1).getDay();\r\n 		var firstdate = new Date(year, month-1, 1);//\u9009\u4e2d\u6708\u7b2c\u4e00\u5929\r\n 		var lastMonth = new Date(year, month-2, 1);//\u9009\u4e2d\u6708\u4e0a\u4e2a\u6708\u7b2c\u4e00\u5929\r\n		var nextMonth = new Date(year, month, 1);//\u9009\u4e2d\u6708\u4e0b\u6708\u7b2c\u4e00\u5929\r\n		\r\n		var lastStr = lastMonth.getFullYear()+\"-\"+((lastMonth.getMonth() + 1)>9?(lastMonth.getMonth() + 1):\"0\"+(lastMonth.getMonth() + 1)); \r\n		var currentStr=year+\"-\"+(month>9?month:\"0\"+month);\r\n 		var nextStr = nextMonth.getFullYear()+\"-\"+((nextMonth.getMonth() + 1)>9?(nextMonth.getMonth() + 1):\"0\"+(nextMonth.getMonth() + 1));   \r\n		\r\n 		var lastMothStart = DateAdd(\"d\", -startDay, firstdate).getDate();//\u65e5\u671f\u7b2c\u4e00\u5929\r\n 		var lastMothend = DateAdd(\"d\", -1, firstdate).getDate();//\u4e0a\u6708\u7684\u6700\u540e\u4e00\u5929\r\n\r\n        //\u672c\u6708\u6709\u591a\u5c11\u5929(\u5373\u6700\u540e\u4e00\u5929\u7684getDate()\uff0c\u4f46\u662f\u6700\u540e\u4e00\u5929\u4e0d\u77e5\u9053\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u201c\u4e0a\u4e2a\u6708\u76840\u6765\u8868\u793a\u672c\u6708\u7684\u6700\u540e\u4e00\u5929\u201d)\r\n        var nDays = new Date(year, month, 0).getDate();\r\n \r\n        //\u5f00\u59cb\u753b\u65e5\u5386\r\n        var numRow = 0;  //\u8bb0\u5f55\u884c\u7684\u4e2a\u6570\uff0c\u5230\u8fbe7\u7684\u65f6\u5019\u521b\u5efatr\r\n        var totalRow=1;\r\n        var i;        //\u65e5\u671f\r\n        var html = '<tr><td class=\"title\">".toCharArray();
    _jsp_string83 = "\";\r\n 		//html = '<div>'+html+'</div>';\r\n 		$('#planDataEventchd').html(html);\r\n 		$('#planDataEventchd').height(cnt * 33);\r\n 		if(cnt>2){\r\n	 		if(window.name&&window.name!=''){\r\n	    		parent.document.getElementsByName(window.name)[0].height=initHeight+100;\r\n	    	}\r\n 			$('#planDataEvent').height(100);\r\n 			jQuery(\"#planDataEvent\").perfectScrollbar(\"update\");\r\n 		}else{\r\n 			if(window.name&&window.name!=''){\r\n	    		parent.document.getElementsByName(window.name)[0].height=initHeight+(cnt * 33)+1;\r\n	    	}\r\n 			$('#planDataEvent').height((cnt * 33)+1);\r\n 		} 		\r\n 	}\r\n 	\r\n 	var hasRfdh = false;\r\n 	//\u70b9\u51fb\u6570\u636e\r\n 	function clickData(id){\r\n 		var url='/workplan/data/WorkPlanDetail.jsp?from=1&workid='+id;\r\n 		//openFullWindowHaveBar(url);\r\n 		if(window.top.Dialog){\r\n			calendarDialog = new window.top.Dialog();\r\n		} else {\r\n			calendarDialog = new Dialog();\r\n		};\r\n		hasRfdh = true;\r\n	  	calendarDialog.URL =url;\r\n	  	calendarDialog.Width = 600;\r\n		calendarDialog.Height = 600;\r\n	  	calendarDialog.checkDataChange = false;\r\n	    calendarDialog.Title=\"".toCharArray();
    _jsp_string67 = "\r\n\r\n<BODY>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string84 = "\";\r\n	    calendarDialog.show();\r\n 	}\r\n function tc(d) {\r\n      function zc(c, i) {\r\n          var d = \"666666888888aaaaaabbbbbbdddddda32929cc3333d96666e69999f0c2c2b1365fdd4477e67399eea2bbf5c7d67a367a994499b373b3cca2cce1c7e15229a36633cc8c66d9b399e6d1c2f029527a336699668cb399b3ccc2d1e12952a33366cc668cd999b3e6c2d1f01b887a22aa9959bfb391d5ccbde6e128754e32926265ad8999c9b1c2dfd00d78131096184cb05288cb8cb8e0ba52880066aa008cbf40b3d580d1e6b388880eaaaa11bfbf4dd5d588e6e6b8ab8b00d6ae00e0c240ebd780f3e7b3be6d00ee8800f2a640f7c480fadcb3b1440edd5511e6804deeaa88f5ccb8865a5aa87070be9494d4b8b8e5d4d47057708c6d8ca992a9c6b6c6ddd3dd4e5d6c6274878997a5b1bac3d0d6db5a69867083a894a2beb8c1d4d4dae54a716c5c8d8785aaa5aec6c3cedddb6e6e41898951a7a77dc4c4a8dcdccb8d6f47b08b59c4a883d8c5ace7dcce\";\r\n          return \"#\" + d.substring(c * 30 + i * 6, c * 30 + (i + 1) * 6);\r\n      }\r\n      return zc(d, 0);\r\n  }\r\n  \r\n  \r\n  function doAdd(){\r\n  	var date=new Date();\r\n 	var year = date.getFullYear();\r\n	var month = date.getMonth() + 1;\r\n	var day = date.getDate();\r\n	var hours = date.getHours();\r\n	var minutes = date.getMinutes();\r\n           \r\n	var selectDate=year+\"-\"+(month>9?month:\"0\"+month)+\"-\"+(day>9?day:\"0\"+day);\r\n	if(currentSelectDate!=''){\r\n		selectDate=currentSelectDate;\r\n	}\r\n	var beginTime=(hours>9?hours:\"0\"+hours)+\":\"+(minutes>9?minutes:\"0\"+minutes);\r\n	var url='/workplan/data/WorkPlanEdit.jsp?from=1&selectUser=".toCharArray();
    _jsp_string17 = "\";\r\n	var url = \"/docs/tabs/DocCommonTab.jsp?_fromURL=3&operateitem=\"+operateitem+\"&sqlwhere=\"+sqlwhere;\r\n	if(id){\r\n		url = \"/docs/tabs/DocCommonTab.jsp?_fromURL=3&relatedid=\"+id+\"&operateitem=\"+operateitem+\"&sqlwhere=\"+sqlwhere;\r\n		if(operateitem==418||operateitem==419||operateitem==420){\r\n			dialog.Title = \"".toCharArray();
    _jsp_string61 = ")\">\r\n".toCharArray();
    _jsp_string44 = "\r\n<script language=javascript>\r\nubsfirmcode0 = ".toCharArray();
    _jsp_string6 = "\r\n\r\n\r\n<script language=javascript>;\r\ntop.Dialog.alert(\"".toCharArray();
    _jsp_string82 = "</td></tr>';\r\n        //\u7b2c\u4e00\u884c\r\n        html+='<tr style=\"height:1px!important;\" class=\"Spacing\"><td class=\"paddingLeft0\" colspan=\"7\"><div class=\"intervalDivClass\" style=\"width:100%\"></div></td></tr>';\r\n        html += '<tr>';\r\n        for (i = lastMothStart; startDay!=0&&i<=lastMothend; i++) {\r\n            html += '<td  id=\"'+lastStr+'-'+i+'\" onclick=\"prev(this)\" data=\"\">';\r\n            html+='<div class=\"notSelectMonthDay \" title=\"'+lastStr+'-'+i+'\">';\r\n            html+=i;\r\n            html+='</div></td>';\r\n            numRow++;\r\n        }\r\n        for (var j = 1; j <= nDays; j++) {\r\n            if (year==todayY&&month==todayM&&j == todayD) {\r\n                html += '<td id=\"'+currentStr+'-'+(j>9?j:'0'+j)+'\" onclick=\"clickDate(this)\" data=\"\" >';  \r\n                html += '<div class=\"currentCalendar\" title=\"'+currentStr+'-'+(j>9?j:\"0\"+j)+'\">';\r\n            }\r\n            else {\r\n                html += '<td id=\"'+currentStr+'-'+(j>9?j:'0'+j)+'\" onclick=\"clickDate(this)\" data=\"\">';\r\n                html += '<div title=\"'+currentStr+'-'+(j>9?j:\"0\"+j)+'\">';\r\n            }\r\n            html += j; \r\n            html += '</div></td>';\r\n            numRow++;\r\n            if (numRow == 7) {  //\u5982\u679c\u5df2\u7ecf\u5230\u4e00\u884c\uff08\u4e00\u5468\uff09\u4e86\uff0c\u91cd\u65b0\u521b\u5efatr\r\n                numRow = 0;\r\n                totalRow++;\r\n                html += '</tr><tr>';\r\n            }\r\n        }\r\n		//\u8865\u5145\u540e\u4e00\u4e2a\u6708\r\n        if(numRow>0){\r\n        	for(var j=1;j<=7;j++){\r\n	        	html += '<td  id=\"'+nextStr+'-0'+j+'\" onclick=\"next(this)\" data=\"\">';\r\n	        	html+='<div class=\"notSelectMonthDay \" title=\"'+nextStr+'-0'+j+'\">'+j+'</div></td>';\r\n	            numRow++;\r\n	        	if (numRow == 7) {  //\u5982\u679c\u5df2\u7ecf\u5230\u4e00\u884c\uff08\u4e00\u5468\uff09\u4e86\uff0c\u91cd\u65b0\u521b\u5efatr\r\n	                numRow = 0;\r\n	                html += '</tr>';\r\n	                break;\r\n	            }\r\n        	}\r\n        }\r\n        $('#LDay').html(html);\r\n        initHeight=parseInt($('#LDay').height())+80+40+10+15;\r\n        if(window.name&&window.name!=''){\r\n    		parent.document.getElementsByName(window.name)[0].height=initHeight;\r\n    	}\r\n        //\u6807\u8bb0\u9009\u4e2d\u65e5\u671f\r\n        if(showObj!='undefined'&&showObj!=undefined){\r\n        	$('div[title=\"'+showObj+'\"]').addClass(\"currentSelect\");\r\n        }else{\r\n        	if(selectDate!=todayStr){\r\n	        	$('div[title=\"'+selectDate+'\"]').addClass(\"currentSelect\");\r\n        	}\r\n        }\r\n        //ajax\u83b7\u53d6\u6570\u636e\r\n        $.post(\"WorkPlanViewOperation.jsp\", \r\n        	{\"selectdate\":selectDate},\r\n	   	function(data){\r\n			var sd=$(\".currentSelect\").attr(\"title\");\r\n		 	if(sd==undefined||selectDate=='undefined'){\r\n		 		sd=$(\".currentCalendar\").attr(\"title\");\r\n		 	}\r\n	   		var datas=data.dateevents;\r\n	   		planData=data.events;\r\n	   		for(var key in datas){\r\n	   			//$('#'+key).addClass(\"hashPlanTD\");\r\n	   			$('#'+key).children('div').eq(0).addClass(\"hashPlanDiv\"); \r\n	   			$('#'+key).attr(\"data\",datas[key]);\r\n	   			if(key==sd){\r\n	   				//clickDate($('#'+key));\r\n	   				showData($('#'+sd));\r\n	   			}\r\n	   		}\r\n   		});\r\n    }\r\n    function clearData(){\r\n    	if(window.name&&window.name!=''){\r\n    		parent.document.getElementsByName(window.name)[0].height=initHeight;\r\n    	}\r\n    	$('#planDataEventchd').html(\"\");\r\n    	$('#planDataEvent').height(10);\r\n    	$('#planDataEventchd').height(9);\r\n    	//$('#planDataEvent').removeClass(\"planDataEvent\");\r\n    	jQuery(\"#planDataEvent\").perfectScrollbar(\"update\");\r\n    }\r\n\r\n    //\u70b9\u51fb\u65e5\u671f\r\n    function clickDate(obj){\r\n 		showData(obj);\r\n 		reGetDate();\r\n 	}\r\n 	\r\n 	function showData(obj){\r\n 		if(window.name&&window.name!=''){\r\n	    	parent.document.getElementsByName(window.name)[0].height=initHeight;\r\n	    }\r\n 		if(lastOpt==undefined||lastOpt=='undefined'){\r\n\r\n    	}else{\r\n    	   $(lastOpt).children('div').eq(0).addClass(lastOptCss);	\r\n    	}\r\n    	\r\n    	$('div').removeClass(\"currentSelect\");\r\n    	var divObj=$(obj).children('div').eq(0);\r\n    	\r\n    	lastOpt=obj;\r\n    	lastOptCss=$(divObj).attr(\"class\");\r\n    	$(divObj).removeClass(lastOptCss);\r\n    	$(divObj).addClass(\"currentSelect\");\r\n    	currentSelectDate=$(divObj).attr(\"title\");\r\n    	clearData();\r\n 		var data=$(obj).attr(\"data\");\r\n 		if(data=='') return false;\r\n 		var datas;\r\n 		if (typeof (data) == \"string\") {\r\n            datas=data.split(\",\");\r\n        }\r\n\r\n        if (typeof (data) == \"object\") {\r\n            datas = data;\r\n        }\r\n		//$('#planDataEvent').addClass(\"planDataEvent\");\r\n		\r\n 		var html='';\r\n 		var cnt = 0;\r\n 		for(var key in datas){\r\n 			if(isNaN(key)) continue;\r\n 			var c=tc(planData[datas[key]][5]);\r\n 			html+='<div class=\"hand dataEvent\" onclick=\"clickData(\\''+datas[key]+'\\')\" title=\"'+planData[datas[key]][6]+'\\n'+planData[datas[key]][1]+'\">';\r\n		    html+='<div class=\"dataEvent1\" style=\"background:'+c+';\"></div>';\r\n		    html+='<div class=\"dataEvent2\" ><div class=\"dataEvent2_1\">'+planData[datas[key]][3]+'&nbsp;&nbsp;'+planData[datas[key]][4]+'</div></div>';\r\n		    html+='<div class=\"dataEvent3\">'+planData[datas[key]][1]+'</div>';\r\n		    html+='</div>';\r\n		    cnt = cnt + 1;\r\n 		}\r\n 		if(html=='') html=\"".toCharArray();
    _jsp_string46 = ";\r\nusbserial0 = \"".toCharArray();
    _jsp_string88 = "\";\r\n    }else if(day==2){\r\n    	weekDay=\"".toCharArray();
    _jsp_string5 = "\";\r\n		});		\r\n	</script>\r\n	".toCharArray();
    _jsp_string51 = "\r\n}\r\n\r\nfunction doScannerEscape(ev, obj){\r\n	IMCarousel.doScannerEscape(ev, obj);\r\n}\r\n\r\nfunction scaleImg(obj, tag){\r\n	IMCarousel.scaleImg(obj, tag);\r\n}\r\n\r\nfunction rotateImg(obj){\r\n	IMCarousel.rotateImg(obj);\r\n}\r\n\r\nfunction downloadImg(obj){\r\n	IMCarousel.downloadImg(obj);\r\n}\r\n\r\nfunction slideImg(obj, direction){\r\n	IMCarousel.slideImg(obj, direction);\r\n}\r\n\r\nfunction showImgScanner(ev, isShow, id){\r\n	IMCarousel.showImgScanner(ev, isShow, id);\r\n}\r\n\r\nfunction downloads(id){\r\n	document.location.href=\"/weaver/weaver.file.FileDownload?fileid=\"+id+\"&download=1\";\r\n}\r\n</script>\r\n".toCharArray();
    _jsp_string14 = "\";\r\nfunction check_conn() {\r\n	return confirm('".toCharArray();
    _jsp_string27 = "\r\n	    try {\r\n		    var lenck = true;\r\n		    var tempfieldvlaue = document.getElementById(\"htmlfieldids\").value;\r\n		    while(true) {\r\n			    var tempfield = tempfieldvlaue.substring(0, tempfieldvlaue.indexOf(\",\"));\r\n			    tempfieldvlaue = tempfieldvlaue.substring(tempfieldvlaue.indexOf(\",\")+1);\r\n			    var fieldid = tempfield.substring(0, tempfield.indexOf(\";\"));\r\n			    var fieldname = tempfield.substring(tempfield.indexOf(\";\")+1);\r\n			    if(fieldname=='') break;\r\n			    if(!checkLengthOnly(fieldid,'4000',fieldname,'".toCharArray();
    _jsp_string78 = "\"==\"7\"||\"".toCharArray();
    _jsp_string57 = "\r\n\r\n\r\n<!-- \u5b57\u4f53\u8bbe\u7f6e\uff0cwin7\u3001vista\u7cfb\u7edf\u4f7f\u7528\u96c5\u9ed1\u5b57\u4f53,\u5176\u4ed6\u7cfb\u7edf\u4f7f\u7528\u5b8b\u4f53 Start -->\r\n<!--\r\n\u6dfb\u52a0\u81f3init_wev8.css \r\n<link type='text/css' rel='stylesheet'  href='/wui/common/css/w7OVFont_wev8.css' id=\"FONT2SYSTEMF\">\r\n -->\r\n<script language=\"javascript\"> \r\n/*\r\nif (jQuery.client.version< 6) {\r\n	document.getElementById('FONT2SYSTEMF').href = \"/wui/common/css/notW7AVFont_wev8.css\";\r\n}\r\n*/\r\n</script> \r\n<!-- \u5b57\u4f53\u8bbe\u7f6e\uff0cwin7\u3001vista\u7cfb\u7edf\u4f7f\u7528\u96c5\u9ed1\u5b57\u4f53,\u5176\u4ed6\u7cfb\u7edf\u4f7f\u7528\u5b8b\u4f53 End -->\r\n\r\n<!-- \u9875\u9762\u5207\u6362\u6548\u679cStart -->\r\n".toCharArray();
    _jsp_string64 = "\";\r\n</script>\r\n\r\n<!--For wuiForm-->\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/plugin/wuiform/jquery.wuiform_wev8.js\"></script>\r\n<script language=\"javascript\">\r\njQuery(document).ready(function(){\r\n	wuiform.init();\r\n});\r\n</script>\r\n".toCharArray();
    _jsp_string34 = "\");\r\n							}\r\n						}else{\r\n							try{\r\n								window.top.Dialog.alert(\"".toCharArray();
    _jsp_string74 = "\">\r\n		                        		<span id=\"currentDay\"></span>\r\n		                        		<br>\r\n		                        		<span id=\"currentWeekDay\" ></span>\r\n		                        	</td>\r\n		                            <td align=\"center\" style=\"border-left:#E4E1E1 1px solid;\">\r\n		                            	<div style=\"display: inline-block;\">\r\n			                                <div class=\"LeftArrow\" id=\"prevbtn\" title=\"".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string11 = "\r\n<!-- IE\u4e0b\u4e13\u7528vbs\uff08\u4e34\u65f6\uff09 -->\r\n<script language=\"vbs\" src=\"/js/string2VbArray.vbs\"></script>        \r\n        ".toCharArray();
    _jsp_string87 = "\";\r\n    }else if(day==1){\r\n    	weekDay=\"".toCharArray();
    _jsp_string72 = "\";\r\n	\r\n	try\r\n	{\r\n			var e8tabcontainer = jQuery(\"div[_e8tabcontainer='true']\",parent.document);\r\n			if(e8tabcontainer.length > 0) \r\n			{\r\n				fav_uri = escape(parent.window.location.pathname);\r\n				fav_querystring = escape(parent.window.location.search);\r\n				navName = e8tabcontainer.find(\"#objName\").text();\r\n			}else{\r\n				navName = jQuery(\"#objName\").text();\r\n			}\r\n			//alert(fav_uri+\"  \"+fav_querystring)\r\n	}\r\n	catch(e)\r\n	{\r\n		\r\n	}\r\n	if(BacoTitle)\r\n	{\r\n		pagename = BacoTitle.text();\r\n	}\r\n	if(!pagename){\r\n		pagename = navName;\r\n	}\r\n    pagename = jQuery.trim(pagename);\r\n	//window.showModalDialog('/systeminfo/BrowserMain.jsp?url=/favourite/FavouriteBrowser.jsp&fav_pagename='+pagename+'&fav_uri='+fav_uri+'&fav_querystring='+fav_querystring+'&mouldID=doc');\r\n\r\n    jQuery.post(\"/systeminfo/FavouriteSession.jsp\",{pagename:pagename},function (data) {\r\n        var sessionKey = data.sessionKey;\r\n        var e8tabcontainer2 = jQuery(\"div[_e8tabcontainer='true']\",parent.document);\r\n        var dialogurl = \"\";\r\n        if(e8tabcontainer2.length > 0){\r\n            dialogurl = '/systeminfo/BrowserMain.jsp?url=/favourite/FavouriteBrowser.jsp&fav_pagename='+sessionKey+'&fav_uri='+fav_uri+'&fav_querystring='+fav_querystring+'&mouldID=doc';\r\n        }else{\r\n            dialogurl = '/systeminfo/BrowserMain.jsp?url=/favourite/FavouriteBrowser.jsp&fav_pagename='+ sessionKey + '&fav_uri='+fav_uri+'&mouldID=doc';  //fav_querystring\u4e0d\u901a\u8fc7url\u4f20\u503c\uff0c\u800c\u901a\u8fc7session\u83b7\u53d6\uff0c\u907f\u514durl\u8fc7\u957f\u65f6\uff0c\u5bfc\u81f4\u95ee\u9898\r\n        }\r\n\r\n        var dialog = new window.top.Dialog();\r\n        dialog.currentWindow = window;\r\n        dialog.URL = dialogurl;\r\n        dialog.Title = \"".toCharArray();
    _jsp_string25 = "';\r\n	   \r\n	    			return false;\r\n	    		}\r\n	    		flag_msg += '\\r\\n\\r\\n".toCharArray();
    _jsp_string9 = "\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/jquery.min_wev8.js\"></script>\r\n".toCharArray();
    _jsp_string42 = "\";\r\n  var str1 = \"".toCharArray();
    _jsp_string7 = "\",function(){\r\n	window.top.location=\"/login/Login.jsp\";\r\n});\r\n</script>\r\n".toCharArray();
    _jsp_string33 = "\");\r\n							}catch(e){\r\n								Dialog.alert(\"".toCharArray();
    _jsp_string65 = "\r\n\r\n\r\n".toCharArray();
    _jsp_string45 = ";\r\nusbusercode0 = ".toCharArray();
    _jsp_string30 = "\r\n	}\r\n	catch(e) {\r\n		return check_conn();\r\n	}\r\n	if(!isconn)\r\n		return check_conn();\r\n    /* end by cyril on 2008-08-14 for td:8521 */\r\n	\r\n	thiswin = thiswins\r\n	items = \",\"+items + \",\";\r\n	\r\n	var tempfieldvlaue1 = \"\";\r\n	try{\r\n		tempfieldvlaue1 = document.getElementById(\"htmlfieldids\").value;\r\n	}catch (e) {\r\n	}\r\n\r\n	for(i=1;i<=thiswin.length;i++){\r\n		tmpname = thiswin.elements[i-1].name;\r\n		tmpvalue = thiswin.elements[i-1].value;\r\n	    if(tmpvalue==null){\r\n	        continue;\r\n	    }\r\n\r\n		if(tmpname!=\"\" && items.indexOf(\",\"+tmpname+\",\")!=-1){		\r\n			var __fieldhtmltype = jQuery(\"input[name=\" + tmpname + \"]\").attr(\"__fieldhtmltype\");\r\n		    if (__fieldhtmltype == '9') {\r\n		        continue;\r\n		    }\r\n		\r\n			var href = location.href;\r\n			if(href && href.indexOf(\"Ext.jsp\")!=-1){\r\n				window.__oriAlert__ = true;\r\n			}\r\n			if(tempfieldvlaue1.indexOf(tmpname+\";\") == -1){\r\n				while(tmpvalue.indexOf(\" \") >= 0){\r\n					tmpvalue = tmpvalue.replace(\" \", \"\");\r\n				}\r\n				while(tmpvalue.indexOf(\"\\r\\n\") >= 0){\r\n					tmpvalue = tmpvalue.replace(\"\\r\\n\", \"\");\r\n				}\r\n\r\n				if(tmpvalue == \"\"){\r\n					if(thiswin.elements[i-1].getAttribute(\"temptitle\")!=null && thiswin.elements[i-1].getAttribute(\"temptitle\")!=\"\"){\r\n						if(window.__oriAlert__){\r\n							window.top.Dialog.alert(\"\\\"\"+thiswin.elements[i-1].getAttribute(\"temptitle\")+\"\\\"\"+\"".toCharArray();
    _jsp_string3 = "\r\n	<script language=\"javascript\">\r\n		window.top.Dialog.alert(\"".toCharArray();
    _jsp_string31 = "\");\r\n						}else{\r\n							var tempElement = thiswin.elements[i-1];\r\n							//ueditor\u5fc5\u586b\u9a8c\u8bc1\r\n							if (checkueditorContent(tempElement)) {\r\n								continue;\r\n							}\r\n							\r\n							window.top.Dialog.alert(\"&quot;\"+thiswin.elements[i-1].getAttribute(\"temptitle\")+\"&quot;\"+\"".toCharArray();
    _jsp_string71 = "\";\r\n	var fav_querystring = \"".toCharArray();
    _jsp_string75 = "\" onclick=\"prev(this)\"></div>\r\n			                                <div class=\"changeMonth \" id=\"showDate\"></div>\r\n			                                <div class=\"RightArrow\" id=\"nextbtn\" title=\"".toCharArray();
    _jsp_string36 = "\");\r\n						}else{\r\n							var tempElement = thiswin.elements[i-1];\r\n							\r\n							//ueditor\u5fc5\u586b\u9a8c\u8bc1\r\n							if (checkueditorContent(tempElement)) {\r\n								continue;\r\n							}\r\n							\r\n							window.top.Dialog.alert(\"&quot;\"+thiswin.elements[i-1].getAttribute(\"temptitle\")+\"&quot;\"+\"".toCharArray();
    _jsp_string26 = "';\r\n	        	//alert(xmlhttp.responseText);\r\n	        	return confirm(flag_msg);\r\n	        }\r\n	    }\r\n	    xmlhttp = null;\r\n\r\n	  	//\u68c0\u67e5\u591a\u884c\u6587\u672c\u6846 oracle\u4e0b\u68c0\u67e5HTML\u4e0d\u80fd\u8d85\u8fc74000\u4e2a\u5b57\u7b26\r\n	    ".toCharArray();
    _jsp_string52 = "\r\n\r\n\r\n<!--For wui-->\r\n".toCharArray();
    _jsp_string47 = "\";\r\nusblanguage = \"".toCharArray();
    _jsp_string55 = "/skins/".toCharArray();
    _jsp_string37 = "\", function () {\r\n								formElementFocus(tempElement);\r\n							});\r\n							\r\n						}\r\n						return false;\r\n					}else{\r\n						if(window.__oriAlert__){\r\n							window.top.Dialog.alert(\"".toCharArray();
    _jsp_string15 = "\\r\\n\\r\\n".toCharArray();
    _jsp_string62 = "\r\n<!-- \u9875\u9762\u5207\u6362\u6548\u679cEnd -->\r\n\r\n\r\n<script language=\"javascript\">\r\n\r\n//------------------------------\r\n// the folder of current skins \r\n//------------------------------\r\n//\u5f53\u524d\u4f7f\u7528\u7684\u4e3b\u9898\r\nvar GLOBAL_CURRENT_THEME = \"".toCharArray();
    _jsp_string41 = "\";\r\n   if(!confirm(str)){\r\n       return false;\r\n   }\r\n       return true;\r\n   } \r\n\r\n///*\u6d41\u7a0b\u91cc\u9762\u4f7f\u7528\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a\u6d41\u7a0b\u5185\u5bb9\u653e\u5230iframe\u91cc\u9762\uff0c\u901a\u8fc7response\u8fd4\u56de\u7684\u65f6\u5019\uff0c\u8981\u8fd4\u56de\u7684\u5230\u5176\u7236\u7a97\u53e3*/\r\nfunction wfforward(wfurl){\r\n	parent.location.href = wfurl;\r\n}\r\n\r\nfunction myescapecode(str)\r\n{\r\n	return encodeURIComponent(str);\r\n}\r\n</script>\r\n\r\n\r\n\r\n<meta http-equiv=Content-Type content=\"text/html; charset=UTF-8\">\r\n<script language=JavaScript> \r\n  var companyname = \"".toCharArray();
    _jsp_string81 = "</td>'+\r\n        			'<td class=\"title\">".toCharArray();
    _jsp_string1 = "\r\n<!DOCTYPE HTML>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<html>\r\n<head>\r\n<!-- \r\n\u6dfb\u52a0\u81f3init.css\r\n<style type=\"text/css\">\r\n	html{height:100%;}\r\n</style>\r\n -->\r\n".toCharArray();
    _jsp_string13 = "_wev8.js\"></script>\r\n<script type=\"text/javascript\" src=\"/js/messagejs/highslide/highslide-full_wev8.js\"></script>\r\n<script type=\"text/javascript\">\r\n    hs.graphicsDir = '/js/messagejs/highslide/graphics/';\r\n    hs.align = 'center';\r\n    hs.transitions = ['expand', 'crossfade'];\r\n    hs.outlineType = 'rounded-white';\r\n    hs.fadeInOut = true;\r\n</script>\r\n<!-- init.css, \u6240\u6709css\u6587\u4ef6\u90fd\u5728\u6b64\u6587\u4ef6\u4e2d\u5f15\u5165 -->\r\n<link rel=\"stylesheet\" href=\"/css/init_wev8.css\" type=\"text/css\" />\r\n\r\n\r\n<script language=javascript>\r\nwindow[\"_jsessionid\"] = \"".toCharArray();
    _jsp_string66 = "\r\n\r\n<HTML><HEAD>\r\n<LINK href=\"/css/Weaver_wev8.css\" type=text/css rel=STYLESHEET>\r\n<SCRIPT language=\"javascript\" src=\"/js/weaver_wev8.js\"></script>\r\n<style type=\"text/css\">\r\n        \r\n        #LDay td{\r\n            height: 30px;\r\n            text-align: center;\r\n            font-family: \"\u5b8b\u4f53\";\r\n            font-size: 12px;\r\n        }\r\n         \r\n        #LDay div{\r\n            cursor:pointer;\r\n            width: 25px;\r\n            line-height: 25px;\r\n            margin:0 auto;\r\n        }\r\n        .title{\r\n        	color:#5FB5FE;\r\n        	width: 14%;\r\n        }\r\n		#currentDay{\r\n			font-family: \"\u5b8b\u4f53\";\r\n            font-size: 36px;\r\n            color: #E52355;\r\n		}\r\n		#currentWeekDay{\r\n            font-size: 12px;\r\n            color: #BCB8B9;\r\n            font-weight: bold;\r\n		}\r\n		\r\n		.LeftArrow{\r\n			float:left;\r\n			width: 7px;\r\n			height: 10px;\r\n			background-image: url(./img/left_wev8.png) ;\r\n			background-repeat:no-repeat;\r\n			text-align: center;\r\n			margin: 10px;\r\n			margin-right: 8px;\r\n			cursor:pointer;\r\n		}\r\n		.LeftArrow2{\r\n			float:left;\r\n			width: 7px;\r\n			height: 10px;\r\n			background-image: url(./img/left_hot_wev8.png) ;\r\n			background-repeat:no-repeat;\r\n			text-align: center;\r\n			margin: 10px;\r\n			margin-right: 8px;\r\n			cursor:pointer;\r\n		}\r\n		.changeMonth{\r\n			float:left;\r\n			font-size: 16px;\r\n			color: #E52355;\r\n			height: 28px;\r\n			line-height: 28px;\r\n			margin-left: 10px;\r\n			margin-right: 10px;\r\n		}\r\n		.RightArrow{\r\n			float:left;\r\n			width: 7px;\r\n			height: 10px;\r\n			background-image: url(./img/right_wev8.png) ;\r\n			background-repeat:no-repeat;\r\n			text-align: center;\r\n			margin: 10px;\r\n			margin-left: 8px;\r\n			cursor:pointer;\r\n		}\r\n		.RightArrow2{\r\n			float:left;\r\n			width: 7px;\r\n			height: 10px;\r\n			background-image: url(./img/right_hot_wev8.png) ;\r\n			background-repeat:no-repeat;\r\n			text-align: center;\r\n			margin: 10px;\r\n			margin-left: 8px;\r\n			cursor:pointer;\r\n		}\r\n		.notSelectMonthDay{\r\n			color: #BCB8B9;\r\n		}\r\n		.hand{\r\n			cursor:pointer;\r\n		}\r\n		.hashPlanDiv{\r\n			background-image: url(./img/green_circle_wev8.png) ;\r\n			background-repeat:no-repeat;\r\n			text-align: center;\r\n			color:#fff;\r\n		}\r\n		.currentCalendar{\r\n			background-image: url(./img/blue_circle_wev8.png) ;\r\n			background-repeat:no-repeat;\r\n			text-align: center;\r\n			color:#fff;\r\n		}\r\n		.currentSelect{\r\n			background-image: url(./img/blue_ring_wev8.png) ;\r\n			background-repeat:no-repeat;\r\n			text-align: center;\r\n			color:#000;\r\n		}\r\n		.planDataEvent{\r\n			height:100px;\r\n			width: 100%;\r\n			overflow-y: hidden;\r\n			position: relative;\r\n		}\r\n		.dataEvent{			\r\n			line-height: 30px;\r\n			border-width: 0px;\r\n			border-bottom: 1px;\r\n			border-style: solid;\r\n			border-color: #F3F2F2;\r\n			float: left;\r\n			height: 30px;\r\n			width: 100%;\r\n		}\r\n		.dataEvent1{			\r\n			line-height: 30px;\r\n			float: left;\r\n			height: 30px;\r\n			width: 2px;\r\n		}\r\n		.dataEvent2{			\r\n			line-height: 30px;\r\n			float: left;\r\n			height: 30px;\r\n			width: 80px;\r\n			background:#F5F5F5;\r\n		}\r\n		.dataEvent2_1{			\r\n			margin-left:5px;\r\n		}\r\n		.dataEvent3{			\r\n			margin-left: 5px;\r\n			height: 30px;\r\n			display:block;\r\n			overflow:hidden; \r\n			text-overflow: ellipsis;\r\n			-o-text-overflow:ellipsis; \r\n	\r\n		}\r\n		.addWorkPlan { 	\r\n		border:none;\r\n		BACKGROUND: url(./img/add_wev8.png) no-repeat;\r\n		color:#333;\r\n		WIDTH: 24px;\r\n		height:24px;\r\n		text-align:left;\r\n		cursor:pointer;\r\n		padding-left:10px;\r\n		padding-top:2px;\r\n		margin-right:5px;\r\n		background-position:50% 50%;\r\n		}\r\n		\r\n		.addWorkPlan2 { 	\r\n		border:none;BACKGROUND: url(./img/add_hot_wev8.png) no-repeat;color:#333;WIDTH: 94px;height:24px;text-align:left;cursor:pointer;padding-left:10px;padding-top:2px;margin-right:5px;\r\n		background-position:50% 50%;\r\n		}\r\n \r\n</style>\r\n</HEAD>\r\n".toCharArray();
    _jsp_string35 = "\");\r\n							}\r\n						}\r\n						return false;\r\n					}\r\n				}\r\n			} else {\r\n				var divttt=document.createElement(\"div\");\r\n				divttt.innerHTML = tmpvalue;\r\n				var tmpvaluettt = jQuery.trim(jQuery(divttt).text());\r\n				if(tmpvaluettt == \"\"){\r\n					if(thiswin.elements[i-1].getAttribute(\"temptitle\")!=null && thiswin.elements[i-1].getAttribute(\"temptitle\")!=\"\"){\r\n						if(window.__oriAlert__){\r\n							window.top.Dialog.alert(\"\\\";\"+thiswin.elements[i-1].getAttribute(\"temptitle\")+\"\\\"\"+\"".toCharArray();
    _jsp_string4 = "\",function(){\r\n			window.top.location=\"".toCharArray();
    _jsp_string86 = "\";\r\n    hasRfdh = true;\r\n    calendarDialog.show();\r\n  }\r\n  \r\n \r\n function refashDate(){\r\n 	if(calendarDialog &&calendarDialog.closed && hasRfdh ){\r\n 		hasRfdh = false;\r\n   		reGetDate();\r\n 	}\r\n }\r\n \r\n function reGetDate(){\r\n 	var selectDate=$(\".currentSelect\").attr(\"title\");\r\n 	if(selectDate==undefined||selectDate=='undefined'){\r\n 		selectDate=$(\".currentCalendar\").attr(\"title\");\r\n 	}\r\n 	\r\n	$.post(\"WorkPlanViewOperation.jsp\", \r\n    {\"selectdate\":selectDate},\r\n  	function(data){\r\n  		var datas=data.dateevents;\r\n  		planData=data.events;\r\n  		$(\".hashPlanDiv\").parent(\"TD\").attr(\"data\",\"\");\r\n  		$(\".hashPlanDiv\").removeClass(\"hashPlanDiv\");\r\n  		clearData();\r\n  		var sd=$(\".currentSelect\").attr(\"title\");\r\n	 	if(sd==undefined||sd=='undefined'){\r\n	 		sd=$(\".currentCalendar\").attr(\"title\");\r\n	 	}\r\n  		for(var key in datas){\r\n  			//$('#'+key).addClass(\"hashPlanTD\");\r\n  			$('#'+key).children('div').eq(0).addClass(\"hashPlanDiv\"); \r\n  			$('#'+key).attr(\"data\",datas[key]);\r\n  			if(key==sd){\r\n  				//clickDate($('#'+key));\r\n  				showData($('#'+key));\r\n  			}\r\n  			\r\n  		}\r\n 	});\r\n }\r\n \r\n  \r\n  function closeByHand(){\r\n  	calendarDialog.close();	\r\n  }\r\n  \r\n  function refreshCal(){\r\n  	calendar();\r\n	calendarDialog.close();	\r\n	\r\n}\r\n        \r\n function getWeekDay(day){\r\n 	var weekDay=\"\";\r\n    if(day==0){\r\n  		weekDay=\"".toCharArray();
    _jsp_string50 = "\r\n<LINK href=\"/js/jquery/jquery_dialog_wev8.css\" type=text/css rel=STYLESHEET>\r\n<script type=\"text/javascript\" src=\"/wui/common/jquery/jquery.min_wev8.js\"></script>\r\n<script type=\"text/javascript\" language=\"javascript\" src=\"/js/jquery/jquery_dialog_wev8.js\"></script>\r\n\r\n<script src=\"/social/js/drageasy/drageasy.js\"></script>\r\n<script type=\"text/javascript\" src=\"/social/js/bootstrap/js/bootstrap.js\"></script>\r\n<script type=\"text/javascript\" src=\"/social/im/js/IMUtil_wev8.js\"></script>\r\n\r\n<script type=\"text/javascript\" src=\"/social/js/imcarousel/imcarousel.js\"></script>\r\n<script type=\"text/javascript\" language=\"javascript\">\r\nfunction ReloadOpenerByDialogClose() {\r\n    ".toCharArray();
    _jsp_string69 = ";\r\n    if(isEnableExtranetHelp==1){\r\n    	//operationPage = \"http://e-cology.com.cn/formmode/apps/ktree/ktreeHelp.jsp\";\r\n    	operationPage = '".toCharArray();
    _jsp_string23 = "\";\r\n					diag.show();\r\n			        return false;\r\n	    		}\r\n	    		else if(response_flag=='2') {\r\n	    			flag_msg = '".toCharArray();
    _jsp_string53 = "\r\n".toCharArray();
    _jsp_string10 = "\r\n<script language=\"javascript\" type=\"text/javascript\" src=\"/FCKEditor/swfobject_wev8.js\"></script>\r\n\r\n".toCharArray();
    _jsp_string49 = "\r\n\r\n<!--WUI -->\r\n".toCharArray();
    _jsp_string40 = "\";\r\n   if(!confirm(str)){\r\n       return false;\r\n   }\r\n       return true;\r\n } \r\n\r\nfunction issubmit(){\r\n	var str = \"".toCharArray();
    _jsp_string92 = "\";\r\n    }else if(day==6){\r\n    	weekDay=\"".toCharArray();
    _jsp_string22 = "\";\r\n					//diag.InvokeElementId=\"pageOverlay\"\r\n					diag.URL = \"/wui/theme/ecology7/page/loginSmall.jsp?username=".toCharArray();
    _jsp_string29 = "')) {\r\n				    lenck = false;\r\n				    break;\r\n			    }\r\n		    }\r\n		    if(lenck==false) return false;\r\n	    }\r\n	    catch(e) {}\r\n	    ".toCharArray();
    _jsp_string58 = "\r\n<meta http-equiv=\"".toCharArray();
    _jsp_string60 = ",transition=".toCharArray();
    _jsp_string59 = "\" content=\"revealTrans(duration=".toCharArray();
    _jsp_string28 = "','".toCharArray();
    _jsp_string24 = "';\r\n	    		}\r\n	    		//\u4e3b\u4ece\u5e10\u6237\u7279\u6b8a\u5904\u7406 by alan for TD10156\r\n	    		if(response_flag=='3') {\r\n	    			flag_msg = '".toCharArray();
    _jsp_string76 = "\" onclick=\"next(this)\"></div>\r\n		                                </div>\r\n		                            </td>\r\n		                        </tr>\r\n		                        <tr style=\"height:1px!important;\" class=\"Spacing\">\r\n									<td class=\"paddingLeft0\" colspan=\"2\">\r\n										<div class=\"intervalDivClass\">\r\n									</div></td>\r\n								</tr>\r\n			                </table>\r\n			                <table id=\"LDay\"  width=\"100%\">\r\n							      \r\n							</table>\r\n						\r\n		            </td>\r\n		        </tr>\r\n		        <tr style=\"height:1px!important;\" class=\"Spacing\">\r\n					<td class=\"paddingLeft0\">\r\n						<div class=\"intervalDivClass\">\r\n					</div></td>\r\n				</tr>\r\n				<tr>\r\n		            <td>\r\n		            	 <div id=\"planDataEvent\" class=\"planDataEvent\">\r\n	           				<div id=\"planDataEventchd\"></div>\r\n		            	</div>\r\n		            </td>\r\n		        </tr>\r\n				<tr>\r\n					<td style=\"text-align: center;height:30px;\">\r\n						<input class=\"addWorkPlan\" type=\"button\" onMouseOut=\"\" onclick=\"doAdd()\" title=\"".toCharArray();
    _jsp_string70 = "';\r\n    }\r\n    window.open(operationPage+\"?pathKey=\"+pathKey,\"_blank\",\"top=0,left=\"+(screenWidth-800)/2+\",height=\"+(screenHeight-90)+\",width=1000,status=no,scrollbars=yes,toolbar=yes,menubar=no,location=no\");\r\n}\r\nfunction openFavouriteBrowser()\r\n{  \r\n	\r\n	var BacoTitle = jQuery(\"#BacoTitle\");\r\n	var pagename = \"\";\r\n	var navName = \"\";\r\n	var fav_uri = \"".toCharArray();
    _jsp_string39 = "\");\r\n						}\r\n						return false;\r\n					}\r\n				}\r\n			}\r\n		}\r\n	}\r\n	return true;\r\n}\r\n\r\nfunction isdel(){\r\n	var str = \"".toCharArray();
    _jsp_string77 = "\">\r\n					</td>\r\n				</tr>\r\n		    </table>\r\n		    </div>\r\n	</td>	 \r\n </td>\r\n</tr>\r\n</table>\r\n\r\n<script language=\"javascript\">\r\n	var initHeight=380;\r\n	var planData=null;\r\n	var currentToday=new Date();\r\n	var pageDate=new Date();\r\n	var lastOpt;\r\n	var lastOptCss=\"\";\r\n	var calendarDialog;\r\n	var currentSelectDate=\"\";\r\n	function initToday(){\r\n        var todayD=currentToday.getDate();//\u672c\u65e5\r\n        var todayWD=currentToday.getDay();//\u672c\u5468\u51e0\r\n        $(\"#currentDay\").html(todayD);\r\n 		$(\"#currentWeekDay\").html(getWeekDay(todayWD));\r\n	}\r\n    //\u5b9e\u73b0\u65e5\u5386\r\n    function calendar(showObj) {\r\n    	clearData();\r\n        var year = pageDate.getFullYear();      //\u9009\u4e2d\u5e74\r\n        var month = pageDate.getMonth() + 1;    //\u9009\u4e2d\u6708\r\n        var day = pageDate.getDate();           //\u9009\u4e2d\u65e5\r\n		var todayY=currentToday.getFullYear();//\u672c\u5e74\r\n		var todayM=currentToday.getMonth()+1;//\u672c\u6708\r\n		var todayD=currentToday.getDate();//\u4eca\u5929\r\n		var todayStr=todayY+\"-\"+(todayM>9?todayM:\"0\"+todayM)+\"-\"+(todayD>9?todayD:\"0\"+todayD);\r\n		var selectDate=year+\"-\"+(month>9?month:\"0\"+month)+\"-\"+(day>9?day:\"0\"+day);\r\n 		if(\"".toCharArray();
    _jsp_string91 = "\";\r\n    }else if(day==5){\r\n    	weekDay=\"".toCharArray();
    _jsp_string2 = "\r\n\r\n".toCharArray();
  }
}
